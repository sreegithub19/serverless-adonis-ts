var http = require('http');
var spawn = require('child_process').spawn;
http.createServer(function (req, res) {
    res.writeHead(200, { 'Content-Type': 'text/html' });
    //Return the url part of the request object:
    if (req.url == "/") {
        res.write("\n<!DOCTYPE html> <html> <head> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <style> body, html { height: 100%; margin: 0; } .content { position: absolute; top: 15%; left:25%; background: rgb(0, 0, 0); /* Fallback color */ background: rgba(0, 0, 0, 0.76); /* Black background with 0.5 opacity */ color: #f1f1f1; width: 50%; padding: 20px; } .bg { /* The image used */ background-image: url(\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRcRqNquWxQHJAPgugDwzXokAU_dQUXzknUTA&usqp=CAU\"); /* Full height */ height: 100%; /* Center and scale the image nicely */ background-position: center; background-repeat: no-repeat; background-size: cover; } table { font-family: arial, sans-serif; border-collapse: collapse; width: 100%; } td, th { border: 1px solid #dddddd; text-align: left; padding: 8px; } div.parent { text-align: center; } ul { display: inline-block; text-align: left; }</style>\n    </head> <body> <div class=\"bg\"></div>  <div class=\"content\"> <h1 id=\"home\" \n        style=\"text-align: center;font-weight: bold;text-decoration: underline;\">\n            WELCOME TO JAVASCRIPT APPLICATIONS!!</h1> \n   <h3 style=\"text-align:center;\"> Click on any of the below JavaScript apps!</h3>\n   <div class=\"parent\"> <ul>\n        <li><a href='/calculator'>Calculator</a></li> \n       <li><a href='/maze'>Maze</a></li>\n        <li><a href='/tic_tac_toe'>Tic-tac-toe</a></li>\n        <li><a href='/clock'>Analogue clock</a></li>\n        <li><a href='/python'>Python</a></li>\n        <li><a href='/hangman'>Hangman</a></li>\n        <li><a href='/puzzles'>Puzzles</a></li>\n        <li><a href='/sudoku'>Sudoku</a></li>\n        <li><a href='/virtual_keyboard'>Virtual keyboard</a></li>\n\t<li><a href='/solitaire'>Solitaire</a></li>\n\t<li><a href='/chess'>Chess</a></li>\n\t<li><a href='/dino'>Dino</a></li>\n\t<li><a href='/sass_'>Sass</a></li>\n\t<li><a href='/tilt_maze'>Tilted Maze</a></li>\n\t<li><a href='/codepen'>Codepen</a></li>\n   </ul> </div> \n       </div> </body> </html>\n    ");
    }
    else if (req.url == "/python") {
        var child = spawn("python", ["-c", "\nprint(\"Enter a number:\")\n"
        ]);
        function cascade() {
            child.stdout.pipe(process.stdout);
            child.stderr.pipe(process.stderr);
            process.stdin.pipe(child.stdin);
            //child.on('exit', () => process.exit());
        }
        cascade();
    }
    else if (req.url == "/chess") {
        res.write("\n<!DOCTYPE html>\n<html>\n\n    <head>\n        <style>\n            * {\n                margin: 0;\n                padding: 0;\n                transition: 0.2s ease;\n            }\n\n            body {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                width: 100vw;\n                height: 100vh;\n            }\n\n            #board {\n                outline: 4px solid black;\n            }\n\n            .box {\n                display: inline-flex;\n                width: 8vh;\n                height: 8vh;\n                border: 1px solid black;\n                justify-content: center;\n                align-items: center;\n                cursor: pointer;\n            }\n\n            #blackkill p,\n            #whitekill p {\n                font-size: 3em;\n                letter-spacing: -40px;\n                text-shadow: -1px -1px 0px black;\n            }\n\n            #blackkill,\n            #whitekill {\n                width: 16vh;\n                height: 65vh;\n                color: goldenrod;\n            }\n\n            #blackkill {\n                color: darkgoldenrod;\n            }\n\n            .row {\n                margin-bottom: -4px;\n            }\n\n            .row:nth-child(odd) .box:nth-child(odd),\n            .row:nth-child(even) .box:nth-child(even) {\n                background-color: darkslategrey;\n                filter: brightness(1.3);\n            }\n\n            .row:nth-child(odd) .box:nth-child(even),\n            .row:nth-child(even) .box:nth-child(odd) {\n                background-color: #C2C2C2;\n                filter: brightness(1.3);\n            }\n\n            p.p {\n                font-size: 9.5vh;\n                color: goldenrod;\n                text-shadow: 1px 1px 1px black;\n            }\n\n            .black p {\n                color: darkgoldenrod;\n            }\n\n            #winner {\n                width: 100vw;\n                height: 100vh;\n                position: absolute;\n                background-color: rgba(0, 0, 0, 0.8);\n                display: none;\n                justify-content: center;\n                align-items: center;\n            }\n\n            #winner p {\n                font-size: 3em;\n                color: whitesmoke;\n            }\n        </style>\n    </head>\n\n    <body>\n        <script>\n            window.onload = function () {\n                board();\n                spices();\n            }\n            var html = \"\",\n                a = \"its alive!!!\",\n                bs = Math.min(window.innerHeight - 20, window.innerWidth - 20),\n                block = bs / 8,\n                wp = 9817,\n                wk = 9812,\n                wq = 9813,\n                wr = 9814,\n                wb = 9815,\n                wh = 9816,\n                bk = 9818,\n                bq = 9819,\n                br = 9820,\n                bb = 9821,\n                bh = 9822,\n                bp = 9823,\n                id = \"\",\n                place = 0,\n                pcolor = \"\",\n                pname = \"\",\n                pturn = \"\",\n                lpcolor = \"\",\n                lpname = \"\",\n                lpturn = \"\",\n                j = 0,\n                p = \"\",\n                arry = [],\n                cls = \"\",\n                lastval = 0,\n                turn = [\"turn\", \"nturn\"],\n                turnval = 0,\n                lastp = \"\";\n            function spices() {\n                //  black pawn\n                for (var i = 9; i <= 16; i++) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + bp + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black pawn nturn\";\n                }\n                //  black rook\n                for (var i = 1; i <= 8; i += 7) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + br + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black rook nturn\";\n                }\n                //  black horse\n                for (var i = 2; i <= 7; i += 5) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + bh + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black horse nturn\";\n                }\n                //  black biship\n                for (var i = 3; i <= 6; i += 3) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + bb + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black biship nturn\";\n                }\n                //  black queen\n                for (var i = 5; i <= 5; i++) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + bq + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black queen nturn\";\n                }\n                //  black king\n                for (var i = 4; i <= 4; i++) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + bk + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box black king nturn\";\n                }\n                //  white rook\n                for (var i = 8 * 7; i > 8 * 6; i--) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wp + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white pawn turn\";\n                }\n                //  white rook\n                for (var i = 8 * 8; i > 8 * 7; i -= 7) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wr + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white rook turn\";\n                }\n                //  white horse\n                for (var i = 63; i > 56; i -= 5) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wh + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white horse turn\";\n                }\n                //  white biship\n                for (var i = 62; i > 56; i -= 3) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wb + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white biship turn\";\n                }\n                //  white queen\n                for (var i = 61; i >= 61; i--) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wq + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white queen turn\";\n                }\n                //  white king\n                for (var i = 60; i >= 60; i--) {\n                    document.getElementById(\"b\" + i).innerHTML = \"<p class='p'>&#\" + wk + \";</p>\";\n                    document.getElementById(\"b\" + i).className = \"box white king turn\";\n                }\n            }\n            function board() {\n                for (var i = 0; i < 8; i++) {\n                    html += \"<div class='row'>\";\n                    for (var j = 1; j <= 8; j++) {\n                        html += \"<div class='box pcolor none nturn' id='b\" + (i * 8 + j) + \"' onclick=pice(\" + (i * 8 + j) + \")></div>\";\n                    }\n                    html += \"</div>\";\n                }\n                document.getElementById(\"board\").innerHTML = html;\n            }\n            function pice(val) {\n                id = document.getElementById(\"b\" + val);\n                var j = 0; //for cell styling\n                //clearing other paths\n                for (var i = 1; i <= 8 * 8; i++) {\n                    document.getElementById(\"b\" + i).style.filter = \"brightness(1.3) sepia(0)\"\n                }\n                //cheching empty cells\n                if (id.innerHTML != \"\") {\n                    pcolor = id.classList[1];\n                    pname = id.classList[2];\n                    pturn = id.classList[3];\n                    p = id.innerHTML;\n                    //checking black pice\n                    if (pcolor == \"black\" && turn[turnval] == pturn) {\n                        arry = [];\n                        //  black pawn move\n                        if (pname == \"pawn\") {\n                            lastp = p;\n                            //for starting position\n                            if (val > 8 && val <= 16) {\n                                //looping to get all three cells at once\n                                for (var i = 0; i < 2; i++) {\n                                    j += 8;\n                                    document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                    //checking next cell is empty\n                                    if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                        arry.push(val + j);\n                                    }\n                                } //end of for loop\n                            } else {\n                                j += 8\n                                document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                //checking next cell\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                }\n                            }\n                            //checking none last pawn\n                            if (val % 8 != 0 && document.getElementById(\"b\" + (val + 9)).classList[1] == \"white\") {\n                                document.getElementById(\"b\" + (val + 9)).style.filter = \"sepia(1)\";\n                                arry.push(val + 9);\n                            }\n                            //checking none fist pawn\n                            if ((val - 1) % 8 != 0 && document.getElementById(\"b\" + (val + 7)).classList[1] == \"white\") {\n                                document.getElementById(\"b\" + (val + 7)).style.filter = \"sepia(1)\";\n                                arry.push(val + 7);\n                            }\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                        } //end of pawn if\n                        //black rook move\n                        if (pname == \"rook\" || pname == \"queen\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            //bottom move\n                            j = 8;\n                            var bottommove = 0;\n                            var test = val;\n                            for (var i = 0; i < 8; i++) {\n                                test += 8\n                                if (test < 65) {\n                                    bottommove += 1;\n                                }\n                            }\n                            for (var i = 0; i < bottommove; i++) {\n                                document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                //checking for empty cell\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\" && (val + j) < 65) {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j += 8;\n                                }\n                            } //end of bottom move\n                            //top move\n                            j = -8;\n                            var topmove = 0;\n                            test = val\n                            for (var i = 0; i < 8; i++) {\n                                test -= 8\n                                if (test > 0) {\n                                    topmove += 1;\n                                }\n                            }\n                            for (var i = 0; i < topmove; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                //checking for empty cells\n                                if ((val + j) > 0 && document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j -= 8;\n                                }\n                            } //end of top move\n                            //right move\n                            j = 1;\n                            var moveright = 0;\n                            //checking not at right edge\n                            if (val % 8 == 0) {\n                                moveright = 0\n                            } else {\n                                moveright = 8 - (val % 8);\n                            }\n                            for (var i = 0; i < moveright; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j += 1;\n                                }\n                            } //end of right move\n                            //left move{\n                            j = -1;\n                            //checking not at left edge\n                            var moveleft = 0;\n                            if (val % 8 == 0) {\n                                moveleft = 7;\n                            } else {\n                                moveleft = (val - 1) % 8;\n                            }\n                            for (var i = 0; i < moveleft; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j -= 1;\n                                }\n                            }\n                        } //end of rook\n                        //black horse\n                        if (pname == \"horse\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            var leftbottom = val + 8 + 7;\n                            var rightbottom = val + 8 + 9;\n                            var bottomright = val + 10;\n                            var bottomleft = val + 6;\n                            var righttop = val - 8 - 7;\n                            var lefttop = val - 8 - 9;\n                            var topright = val - 6;\n                            var topleft = val - 10;\n                            document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                            if (leftbottom < 65 && leftbottom % 8 != 0) {\n                                if (document.getElementById(\"b\" + leftbottom).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + leftbottom).style.filter = \"brightness(1)\";\n                                    arry.push(leftbottom);\n                                }\n                                if (document.getElementById(\"b\" + leftbottom).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + leftbottom).style.filter = \"sepia(1)\";\n                                    arry.push(leftbottom);\n                                }\n                            }\n                            if (rightbottom < 65 && val % 8 != 0) {\n                                if (document.getElementById(\"b\" + rightbottom).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + rightbottom).style.filter = \"brightness(1)\";\n                                    arry.push(rightbottom);\n                                }\n                                if (document.getElementById(\"b\" + rightbottom).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + rightbottom).style.filter = \"sepia(1)\";\n                                    arry.push(rightbottom);\n                                }\n                            }\n                            if (bottomleft < 65 && (val - 1) % 8 != 0 && (val - 2) % 8 != 0) {\n                                if (document.getElementById(\"b\" + bottomleft).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + bottomleft).style.filter = \"brightness(1)\";\n                                    arry.push(bottomleft);\n                                }\n                                if (document.getElementById(\"b\" + bottomleft).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + bottomleft).style.filter = \"sepia(1)\";\n                                    arry.push(bottomleft);\n                                }\n                            }\n                            if (bottomright < 65 && val % 8 != 0 && (val + 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + bottomright).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + bottomright).style.filter = \"brightness(1)\";\n                                    arry.push(bottomright);\n                                }\n                                if (document.getElementById(\"b\" + bottomright).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + bottomright).style.filter = \"sepia(1)\";\n                                    arry.push(bottomright);\n                                }\n                            }\n                            if (righttop > 0 && (righttop - 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + righttop).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + righttop).style.filter = \"brightness(1)\";\n                                    arry.push(righttop);\n                                }\n                                if (document.getElementById(\"b\" + righttop).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + righttop).style.filter = \"sepia(1)\";\n                                    arry.push(righttop);\n                                }\n                            }\n                            if (lefttop > 0 && lefttop % 8 != 0) {\n                                if (document.getElementById(\"b\" + lefttop).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + lefttop).style.filter = \"brightness(1)\";\n                                    arry.push(lefttop);\n                                }\n                                if (document.getElementById(\"b\" + lefttop).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + lefttop).style.filter = \"sepia(1)\";\n                                    arry.push(lefttop);\n                                }\n                            }\n                            if (topright > 0 && (val + 1) % 8 != 0 && val % 8 != 0) {\n                                if (document.getElementById(\"b\" + topright).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + topright).style.filter = \"brightness(1)\";\n                                    arry.push(topright);\n                                }\n                                if (document.getElementById(\"b\" + topright).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + topright).style.filter = \"sepia(1)\";\n                                    arry.push(topright);\n                                }\n                            }\n                            if (topleft > 0 && topleft % 8 != 0 && (topleft + 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + topleft).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + topleft).style.filter = \"brightness(1)\";\n                                    arry.push(topleft);\n                                }\n                                if (document.getElementById(\"b\" + topleft).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + topleft).style.filter = \"sepia(1)\";\n                                    arry.push(topleft);\n                                }\n                            }\n                        } //end of horse \n                        //black biship\n                        if (pname == \"biship\" || pname == \"queen\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                            //moving bottom right\n                            var bottomright = 0;\n                            if (val % 8 == 0) {\n                                bottomright = 0;\n                            } else {\n                                bottomright = 8 - val % 8;\n                            }\n                            j = val + 9;\n                            for (var i = 0; i < bottomright; i++) {\n                                if (j < 65) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"white\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j += 9;\n                                    }\n                                }\n                            }\n                            //bottom left\n                            var bottomleft = 0;\n                            if ((val - 1) % 8 == 0) {\n                                bottomleft = 0;\n                            } else if (val % 8 == 0) {\n                                bottomleft = 8\n                            } else {\n                                bottomleft = val % 8;\n                            }\n                            j = val + 7;\n                            for (var i = 1; i < bottomleft; i++) {\n                                if (j < 65) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"white\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j += 7;\n                                    }\n                                }\n                            }\n                            //top right\n                            var topright = 0;\n                            if (val % 8 == 0) {\n                                topright = 0;\n                            } else {\n                                topright = 8 - (val % 8);\n                            }\n                            j = val - 7;\n                            for (var i = 0; i < topright; i++) {\n                                if (j > 0) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"white\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j -= 7;\n                                    }\n                                }\n                            }\n                            // top left\n                            var topleft = 0;\n                            if ((val - 1) % 8 == 0) {\n                                topleft = 0;\n                            } else if (val % 8 == 0) {\n                                topleft = 8\n                            } else {\n                                topleft = val % 8;\n                            }\n                            j = val - 9;\n                            for (var i = 1; i < topleft; i++) {\n                                if (j > 0) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"white\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j -= 9;\n                                    }\n                                }\n                            }\n                        } //end of biship\n                        //black king\n                        if (pname == \"king\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            //right\n                            if (val % 8 != 0) {\n                                //right right\n                                if (val + 1 < 65 && document.getElementById(\"b\" + (val + 1)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 1)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 1);\n                                }\n                                if (val + 1 < 65 && document.getElementById(\"b\" + (val + 1)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + 1)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 1);\n                                }\n                                if (val + 9 < 65 && document.getElementById(\"b\" + (val + 9)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 9)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 9);\n                                }\n                                if (val + 9 < 65 && document.getElementById(\"b\" + (val + 9)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + 9)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 9);\n                                }\n                                if (val - 7 > 0 && document.getElementById(\"b\" + (val - 7)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 7)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 7);\n                                }\n                                if (val - 7 > 0 && document.getElementById(\"b\" + (val - 7)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val - 7)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 7);\n                                }\n                            }\n                            //left\n                            if ((val - 1) % 8 != 0) {\n                                if (val - 1 > 0 && document.getElementById(\"b\" + (val - 1)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 1)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 1);\n                                }\n                                if (val - 1 > 0 && document.getElementById(\"b\" + (val - 1)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val - 1)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 1);\n                                }\n                                if (val - 9 > 0 && document.getElementById(\"b\" + (val - 9)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 9)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 9);\n                                }\n                                if (val - 9 > 0 && document.getElementById(\"b\" + (val - 9)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val - 9)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 9);\n                                }\n                                if (val + 7 < 65 && document.getElementById(\"b\" + (val + 7)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 7)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 7);\n                                }\n                                if (val + 7 < 65 && document.getElementById(\"b\" + (val + 7)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + 7)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 7);\n                                }\n                            }\n                            //bottom\n                            if (val + 8 < 65) {\n                                if (document.getElementById(\"b\" + (val + 8)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 8)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 8);\n                                }\n                                if (document.getElementById(\"b\" + (val + 8)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val + 8)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 8);\n                                }\n                            }\n                            //top\n                            if (val - 8 > 0) {\n                                if (document.getElementById(\"b\" + (val - 8)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 8)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 8);\n                                }\n                                if (document.getElementById(\"b\" + (val - 8)).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + (val - 8)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 8);\n                                }\n                            }\n                        }\n                    } //end of black pice check\n                    //checking white pice\n                    if (pcolor == \"white\" && turn[turnval] == pturn) {\n                        arry = [];\n                        //white pawn move\n                        if (pname == \"pawn\") {\n                            lastp = p;\n                            //for starting position\n                            if (val < 57 && val > 48) {\n                                //looping to get all three cells at once\n                                for (var i = 0; i < 2; i++) {\n                                    j -= 8;\n                                    document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                    //checking next cell is empty\n                                    if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                        arry.push(val + j);\n                                    }\n                                } //end of for loop\n                            } else {\n                                j -= 8\n                                document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                //checking next cell\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                }\n                            }\n                            //checking none last pawn\n                            if ((val - 1) % 8 != 0 && document.getElementById(\"b\" + (val - 9)).classList[1] == \"black\") {\n                                document.getElementById(\"b\" + (val - 9)).style.filter = \"sepia(1)\";\n                                arry.push(val - 9);\n                            }\n                            //checking none fist pawn\n                            if (val % 8 != 0 && document.getElementById(\"b\" + (val - 7)).classList[1] == \"black\") {\n                                document.getElementById(\"b\" + (val - 7)).style.filter = \"sepia(1)\";\n                                arry.push(val - 7);\n                            }\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                        } //end of pawn if\n                        //white rook move\n                        if (pname == \"rook\" || pname == \"queen\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            //bottom move\n                            j = 8;\n                            var bottommove = 0;\n                            var test = val;\n                            for (var i = 0; i < 8; i++) {\n                                test += 8\n                                if (test < 65) {\n                                    bottommove += 1;\n                                }\n                            }\n                            for (var i = 0; i < bottommove; i++) {\n                                document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                //checking for empty cell\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\" && (val + j) < 65) {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j += 8;\n                                }\n                            } //end of bottom move\n                            //top move\n                            j = -8;\n                            var topmove = 0;\n                            test = val\n                            for (var i = 0; i < 8; i++) {\n                                test -= 8\n                                if (test > 0) {\n                                    topmove += 1;\n                                }\n                            }\n                            for (var i = 0; i < topmove; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                //checking for empty cells\n                                if ((val + j) > 0 && document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j -= 8;\n                                }\n                            } //end of top move\n                            //right move\n                            j = 1;\n                            var moveright = 0;\n                            //checking not at right edge\n                            if (val % 8 == 0) {\n                                moveright = 0\n                            } else {\n                                moveright = 8 - (val % 8);\n                            }\n                            for (var i = 0; i < moveright; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j += 1;\n                                }\n                            } //end of right move\n                            //left move{\n                            j = -1;\n                            //checking not at left edge\n                            var moveleft = 0;\n                            if (val % 8 == 0) {\n                                moveleft = 7;\n                            } else {\n                                moveleft = (val - 1) % 8;\n                            }\n                            for (var i = 0; i < moveleft; i++) {\n                                if (document.getElementById(\"b\" + (val + j)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"sepia(1)\";\n                                    arry.push(val + j);\n                                }\n                                if (document.getElementById(\"b\" + (val + j)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + j)).style.filter = \"brightness(1)\";\n                                    arry.push(val + j);\n                                    j -= 1;\n                                }\n                            }\n                        } //end of rook\n                        //white horse\n                        if (pname == \"horse\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            var leftbottom = val + 8 + 7;\n                            var rightbottom = val + 8 + 9;\n                            var bottomright = val + 10;\n                            var bottomleft = val + 6;\n                            var righttop = val - 8 - 7;\n                            var lefttop = val - 8 - 9;\n                            var topright = val - 6;\n                            var topleft = val - 10;\n                            document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                            if (leftbottom < 65 && leftbottom % 8 != 0) {\n                                if (document.getElementById(\"b\" + leftbottom).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + leftbottom).style.filter = \"brightness(1)\";\n                                    arry.push(leftbottom);\n                                }\n                                if (document.getElementById(\"b\" + leftbottom).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + leftbottom).style.filter = \"sepia(1)\";\n                                    arry.push(leftbottom);\n                                }\n                            }\n                            if (rightbottom < 65 && val % 8 != 0) {\n                                if (document.getElementById(\"b\" + rightbottom).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + rightbottom).style.filter = \"brightness(1)\";\n                                    arry.push(rightbottom);\n                                }\n                                if (document.getElementById(\"b\" + rightbottom).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + rightbottom).style.filter = \"sepia(1)\";\n                                    arry.push(rightbottom);\n                                }\n                            }\n                            if (bottomleft < 65 && (val - 1) % 8 != 0 && (val - 2) % 8 != 0) {\n                                if (document.getElementById(\"b\" + bottomleft).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + bottomleft).style.filter = \"brightness(1)\";\n                                    arry.push(bottomleft);\n                                }\n                                if (document.getElementById(\"b\" + bottomleft).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + bottomleft).style.filter = \"sepia(1)\";\n                                    arry.push(bottomleft);\n                                }\n                            }\n                            if (bottomright < 65 && val % 8 != 0 && (val + 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + bottomright).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + bottomright).style.filter = \"brightness(1)\";\n                                    arry.push(bottomright);\n                                }\n                                if (document.getElementById(\"b\" + bottomright).classList[1] == \"white\") {\n                                    document.getElementById(\"b\" + bottomright).style.filter = \"sepia(1)\";\n                                    arry.push(bottomright);\n                                }\n                            }\n                            if (righttop > 0 && (righttop - 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + righttop).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + righttop).style.filter = \"brightness(1)\";\n                                    arry.push(righttop);\n                                }\n                                if (document.getElementById(\"b\" + righttop).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + righttop).style.filter = \"sepia(1)\";\n                                    arry.push(righttop);\n                                }\n                            }\n                            if (lefttop > 0 && lefttop % 8 != 0) {\n                                if (document.getElementById(\"b\" + lefttop).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + lefttop).style.filter = \"brightness(1)\";\n                                    arry.push(lefttop);\n                                }\n                                if (document.getElementById(\"b\" + lefttop).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + lefttop).style.filter = \"sepia(1)\";\n                                    arry.push(lefttop);\n                                }\n                            }\n                            if (topright > 0 && (val + 1) % 8 != 0 && val % 8 != 0) {\n                                if (document.getElementById(\"b\" + topright).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + topright).style.filter = \"brightness(1)\";\n                                    arry.push(topright);\n                                }\n                                if (document.getElementById(\"b\" + topright).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + topright).style.filter = \"sepia(1)\";\n                                    arry.push(topright);\n                                }\n                            }\n                            if (topleft > 0 && topleft % 8 != 0 && (topleft + 1) % 8 != 0) {\n                                if (document.getElementById(\"b\" + topleft).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + topleft).style.filter = \"brightness(1)\";\n                                    arry.push(topleft);\n                                }\n                                if (document.getElementById(\"b\" + topleft).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + topleft).style.filter = \"sepia(1)\";\n                                    arry.push(topleft);\n                                }\n                            }\n                        } //end of horse \n                        //white biship\n                        if (pname == \"biship\" || pname == \"queen\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            document.getElementById(\"b\" + val).style.filter = \"brightness(1)\";\n                            //moving bottom right\n                            var bottomright = 0;\n                            if (val % 8 == 0) {\n                                bottomright = 0;\n                            } else {\n                                bottomright = 8 - val % 8;\n                            }\n                            j = val + 9;\n                            for (var i = 0; i < bottomright; i++) {\n                                if (j < 65) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"black\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j += 9;\n                                    }\n                                }\n                            }\n                            //bottom left\n                            var bottomleft = 0;\n                            if ((val - 1) % 8 == 0) {\n                                bottomleft = 0;\n                            } else if (val % 8 == 0) {\n                                bottomleft = 8\n                            } else {\n                                bottomleft = val % 8;\n                            }\n                            j = val + 7;\n                            for (var i = 1; i < bottomleft; i++) {\n                                if (j < 65) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"black\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j += 7;\n                                    }\n                                }\n                            }\n                            //top right\n                            var topright = 0;\n                            if (val % 8 == 0) {\n                                topright = 0;\n                            } else {\n                                topright = 8 - (val % 8);\n                            }\n                            j = val - 7;\n                            for (var i = 0; i < topright; i++) {\n                                if (j > 0) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"black\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j -= 7;\n                                    }\n                                }\n                            }\n                            // top left\n                            var topleft = 0;\n                            if ((val - 1) % 8 == 0) {\n                                topleft = 0;\n                            } else if (val % 8 == 0) {\n                                topleft = 8\n                            } else {\n                                topleft = val % 8;\n                            }\n                            j = val - 9;\n                            for (var i = 1; i < topleft; i++) {\n                                if (j > 0) {\n                                    if (document.getElementById(\"b\" + j).classList[1] == \"black\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"sepia(1)\";\n                                        arry.push(j);\n                                    }\n                                    if (document.getElementById(\"b\" + j).classList[2] == \"none\") {\n                                        document.getElementById(\"b\" + j).style.filter = \"brightness(1)\";\n                                        arry.push(j);\n                                        j -= 9;\n                                    }\n                                }\n                            }\n                        } //end of biship\n                        //white king\n                        if (pname == \"king\") {\n                            lastp = p;\n                            lpcolor = pcolor;\n                            lpname = pname;\n                            lpturn = pturn;\n                            lastval = val;\n                            //right\n                            if (val % 8 != 0) {\n                                //right right\n                                if (val + 1 < 65 && document.getElementById(\"b\" + (val + 1)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 1)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 1);\n                                }\n                                if (val + 1 < 65 && document.getElementById(\"b\" + (val + 1)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + 1)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 1);\n                                }\n                                if (val + 9 < 65 && document.getElementById(\"b\" + (val + 9)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 9)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 9);\n                                }\n                                if (val + 9 < 65 && document.getElementById(\"b\" + (val + 9)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + 9)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 9);\n                                }\n                                if (val - 7 > 0 && document.getElementById(\"b\" + (val - 7)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 7)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 7);\n                                }\n                                if (val - 7 > 0 && document.getElementById(\"b\" + (val - 7)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val - 7)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 7);\n                                }\n                            }\n                            //left\n                            if ((val - 1) % 8 != 0) {\n                                if (val - 1 > 0 && document.getElementById(\"b\" + (val - 1)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 1)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 1);\n                                }\n                                if (val - 1 > 0 && document.getElementById(\"b\" + (val - 1)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val - 1)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 1);\n                                }\n                                if (val - 9 > 0 && document.getElementById(\"b\" + (val - 9)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 9)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 9);\n                                }\n                                if (val - 9 > 0 && document.getElementById(\"b\" + (val - 9)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val - 9)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 9);\n                                }\n                                if (val + 7 < 65 && document.getElementById(\"b\" + (val + 7)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 7)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 7);\n                                }\n                                if (val + 7 < 65 && document.getElementById(\"b\" + (val + 7)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + 7)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 7);\n                                }\n                            }\n                            //bottom\n                            if (val + 8 < 65) {\n                                if (document.getElementById(\"b\" + (val + 8)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val + 8)).style.filter = \"brightness(1)\";\n                                    arry.push(val + 8);\n                                }\n                                if (document.getElementById(\"b\" + (val + 8)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val + 8)).style.filter = \"sepia(1)\";\n                                    arry.push(val + 8);\n                                }\n                            }\n                            //top\n                            if (val - 8 > 0) {\n                                if (document.getElementById(\"b\" + (val - 8)).classList[2] == \"none\") {\n                                    document.getElementById(\"b\" + (val - 8)).style.filter = \"brightness(1)\";\n                                    arry.push(val - 8);\n                                }\n                                if (document.getElementById(\"b\" + (val - 8)).classList[1] == \"black\") {\n                                    document.getElementById(\"b\" + (val - 8)).style.filter = \"sepia(1)\";\n                                    arry.push(val - 8);\n                                }\n                            }\n                        }\n                    } //end of white pice check\n                } //end of cheching empty cells\n                move(val);\n            }\n            function move(val) {\n                for (i = 0; i < arry.length; i++) {\n                    if (val == arry[i]) {\n                        //black pawn queen\n                        if (arry[i] > 56 && arry[i] <= 64 && lpname == \"pawn\") {\n                            lpname = \"queen\"\n                            lastp = \"<p class='p'>&#\" + bq + \";</p>\";\n                        }\n                        //white pawn queen\n                        if (arry[i] > 0 && arry[i] <= 8 && lpname == \"pawn\") {\n                            lpname = \"queen\"\n                            lastp = \"<p class='p'>&#\" + wq + \";</p>\";\n                        }\n                        cls = \"box \" + lpcolor + \" \" + lpname + \" \" + lpturn;\n                        id.innerHTML = lastp;\n                        id.className = cls;\n                        document.getElementById(\"b\" + lastval).innerHTML = \"\";\n                        document.getElementById(\"b\" + lastval).classList = \"box pcolor none nturn\";\n                        arry = [];\n                        if (turnval == 1) {\n                            turnval = 0;\n                        } else {\n                            turnval = 1;\n                        }\n                    }\n                }\n                check();\n            }\n            function check() {\n                var bpawn = document.getElementsByClassName(\"black pawn\").length;\n                var brook = document.getElementsByClassName(\"black rook\").length;\n                var bhorse = document.getElementsByClassName(\"black horse\").length;\n                var bbiship = document.getElementsByClassName(\"black biship\").length;\n                var bqueen = document.getElementsByClassName(\"black queen\").length;\n                var bking = document.getElementsByClassName(\"black king\").length;\n                var wpawn = document.getElementsByClassName(\"white pawn\").length;\n                var wrook = document.getElementsByClassName(\"white rook\").length;\n                var whorse = document.getElementsByClassName(\"white horse\").length;\n                var wbiship = document.getElementsByClassName(\"white biship\").length;\n                var wqueen = document.getElementsByClassName(\"white queen\").length;\n                var wking = document.getElementsByClassName(\"white king\").length;\n                if (bpawn < 8) {\n                    html = \"\";\n                    for (var i = 0; i < (8 - bpawn); i++) {\n                        html += \"&#\" + bp + \";\"\n                    }\n                    document.getElementById(\"bpawn\").innerHTML = html;\n                }\n                if (brook < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - brook); i++) {\n                        html += \"&#\" + br + \";\"\n                    }\n                    document.getElementById(\"brook\").innerHTML = html;\n                }\n                if (bhorse < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - bhorse); i++) {\n                        html += \"&#\" + bh + \";\"\n                    }\n                    document.getElementById(\"bhorse\").innerHTML = html;\n                }\n                if (bbiship < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - bbiship); i++) {\n                        html += \"&#\" + bb + \";\"\n                    }\n                    document.getElementById(\"bbiship\").innerHTML = html;\n                }\n                if (bqueen < 1) {\n                    html = \"\";\n                    for (var i = 0; i < (1 - bqueen); i++) {\n                        html += \"&#\" + bq + \";\"\n                    }\n                    document.getElementById(\"bqueen\").innerHTML = html;\n                }\n                if (wpawn < 8) {\n                    html = \"\";\n                    for (var i = 0; i < (8 - wpawn); i++) {\n                        html += \"&#\" + wp + \";\"\n                    }\n                    document.getElementById(\"wpawn\").innerHTML = html;\n                }\n                if (wrook < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - wrook); i++) {\n                        html += \"&#\" + wr + \";\"\n                    }\n                    document.getElementById(\"wrook\").innerHTML = html;\n                }\n                if (whorse < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - whorse); i++) {\n                        html += \"&#\" + wh + \";\"\n                    }\n                    document.getElementById(\"whorse\").innerHTML = html;\n                }\n                if (wbiship < 2) {\n                    html = \"\";\n                    for (var i = 0; i < (2 - wbiship); i++) {\n                        html += \"&#\" + wb + \";\"\n                    }\n                    document.getElementById(\"wbiship\").innerHTML = html;\n                }\n                if (wqueen < 1) {\n                    html = \"\";\n                    for (var i = 0; i < (1 - wqueen); i++) {\n                        html += \"&#\" + wq + \";\"\n                    }\n                    document.getElementById(\"wqueen\").innerHTML = html;\n                }\n                if (bking < 1) {\n                    document.getElementById(\"winner\").style.display = \"flex\";\n                    document.getElementById(\"winner\").innerHTML = \"<p>White has won the game</p>\";\n                }\n                if (wking < 1) {\n                    document.getElementById(\"winner\").style.display = \"flex\";\n                    document.getElementById(\"winner\").innerHTML = \"<p>Black has won the game</p>\";\n                }\n                if (turnval == 1) {\n                    for (var i = 0; i < document.getElementsByClassName(\"box\").length; i++) {\n                        document.getElementsByClassName(\"box\")[i].style.boxShadow = \"0 0 0px 0px red\";\n                    }\n                    for (var i = 0; i < document.getElementsByClassName(\"black\").length; i++) {\n                        document.getElementsByClassName(\"black\")[i].style.boxShadow = \"0 0 2px 1px red\";\n                    }\n                } else {\n                    for (var i = 0; i < document.getElementsByClassName(\"box\").length; i++) {\n                        document.getElementsByClassName(\"box\")[i].style.boxShadow = \"0 0 0px 0px red\";\n                    }\n                    for (var i = 0; i < document.getElementsByClassName(\"white\").length; i++) {\n                        document.getElementsByClassName(\"white\")[i].style.boxShadow = \"0 0 2px 1px red\";\n                    }\n                }\n            }\n</script>\n        <div id=\"blackkill\">\n            <p id=\"bpawn\"></p>\n            <p id=\"brook\"></p>\n            <p id=\"bhorse\"></p>\n            <p id=\"bbiship\"></p>\n            <p id=\"bqueen\"></p>\n            <p id=\"bking\"></p>\n        </div>\n        <div id=\"board\"></div>\n        <div id=\"whitekill\">\n            <p id=\"wpawn\"></p>\n            <p id=\"wrook\"></p>\n            <p id=\"whorse\"></p>\n            <p id=\"wbiship\"></p>\n            <p id=\"wqueen\"></p>\n            <p id=\"wking\"></p>\n        </div>\n        <div id=\"winner\"></div>\n    </body>\n\n    </html>\n    ");
    }
    else if (req.url == "/calculator") {
        res.write("\n        <html>\n    <head>\n    <style>\n    html {\n      font-size: 62.5%;\n      box-sizing: border-box;\n    }\n    \n    *, *::before, *::after {\n      margin: 0;\n      padding: 0;\n      box-sizing: inherit;\n    }\n    \n    .calculator {\n      border: 1px solid #ccc;\n      border-radius: 5px;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 400px;\n    }\n    \n    .calculator-screen {\n      width: 100%;\n      font-size: 5rem;\n      height: 80px;\n      border: none;\n      background-color: #252525;\n      color: #fff;\n      text-align: right;\n      padding-right: 20px;\n      padding-left: 10px;\n    }\n    \n    button {\n      height: 60px;\n      background-color: #fff;\n      border-radius: 3px;\n      border: 1px solid #c4c4c4;\n      background-color: transparent;\n      font-size: 2rem;\n      color: #333;\n      background-image: linear-gradient(to bottom,transparent,transparent 50%,rgba(0,0,0,.04));\n      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05), inset 0 1px 0 0 rgba(255,255,255,.45), inset 0 -1px 0 0 rgba(255,255,255,.15), 0 1px 0 0 rgba(255,255,255,.15);\n      text-shadow: 0 1px rgba(255,255,255,.4);\n    }\n    \n    button:hover {\n      background-color: #eaeaea;\n    }\n    \n    .operator {\n      color: #337cac;\n    }\n    \n    .all-clear {\n      background-color: #f0595f;\n      border-color: #b0353a;\n      color: #fff;\n    }\n    \n    .all-clear:hover {\n      background-color: #f17377;\n    }\n    \n    .equal-sign {\n      background-color: #2e86c0;\n      border-color: #337cac;\n      color: #fff;\n      height: 100%;\n      grid-area: 2 / 4 / 6 / 5;\n    }\n    \n    .equal-sign:hover {\n      background-color: #4e9ed4;\n    }\n    \n    .calculator-keys {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: 20px;\n      padding: 20px;\n    }\n    </style>\n    </head>\n    <body>\n    <div class=\"calculator\">\n    \n      <input type=\"text\" class=\"calculator-screen\" value=\"\" disabled />\n      \n      <div class=\"calculator-keys\">\n        \n        <button type=\"button\" class=\"operator\" value=\"+\">+</button>\n        <button type=\"button\" class=\"operator\" value=\"-\">-</button>\n        <button type=\"button\" class=\"operator\" value=\"*\">&times;</button>\n        <button type=\"button\" class=\"operator\" value=\"/\">&divide;</button>\n    \n        <button type=\"button\" value=\"7\">7</button>\n        <button type=\"button\" value=\"8\">8</button>\n        <button type=\"button\" value=\"9\">9</button>\n    \n    \n        <button type=\"button\" value=\"4\">4</button>\n        <button type=\"button\" value=\"5\">5</button>\n        <button type=\"button\" value=\"6\">6</button>\n    \n    \n        <button type=\"button\" value=\"1\">1</button>\n        <button type=\"button\" value=\"2\">2</button>\n        <button type=\"button\" value=\"3\">3</button>\n    \n    \n        <button type=\"button\" value=\"0\">0</button>\n        <button type=\"button\" class=\"decimal\" value=\".\">.</button>\n        <button type=\"button\" class=\"all-clear\" value=\"all-clear\">AC</button>\n    \n        <button type=\"button\" class=\"equal-sign operator\" value=\"=\">=</button>\n    \n      </div>\n    </div>\n    <script>\n    const calculator = {\n      displayValue: '0',\n      firstOperand: null,\n      waitingForSecondOperand: false,\n      operator: null,\n    };\n    \n    function inputDigit(digit) {\n      const { displayValue, waitingForSecondOperand } = calculator;\n    \n      if (waitingForSecondOperand === true) {\n        calculator.displayValue = digit;\n        calculator.waitingForSecondOperand = false;\n      } else {\n        calculator.displayValue = displayValue === '0' ? digit : displayValue + digit;\n      }\n    }\n    \n    function inputDecimal(dot) {\n      if (calculator.waitingForSecondOperand === true) {\n          calculator.displayValue = \"0.\"\n        calculator.waitingForSecondOperand = false;\n        return\n      }\n    \n      if (!calculator.displayValue.includes(dot)) {\n        calculator.displayValue += dot;\n      }\n    }\n    \n    function handleOperator(nextOperator) {\n      const { firstOperand, displayValue, operator } = calculator\n      const inputValue = parseFloat(displayValue);\n      \n      if (operator && calculator.waitingForSecondOperand)  {\n        calculator.operator = nextOperator;\n        return;\n      }\n    \n    \n      if (firstOperand == null && !isNaN(inputValue)) {\n        calculator.firstOperand = inputValue;\n      } else if (operator) {\n        const result = calculate(firstOperand, inputValue, operator);\n    \n        calculator.displayValue = `${parseFloat(result.toFixed(7))}`;\n        calculator.firstOperand = result;\n      }\n    \n      calculator.waitingForSecondOperand = true;\n      calculator.operator = nextOperator;\n    }\n    \n    function calculate(firstOperand, secondOperand, operator) {\n      if (operator === '+') {\n        return firstOperand + secondOperand;\n      } else if (operator === '-') {\n        return firstOperand - secondOperand;\n      } else if (operator === '*') {\n        return firstOperand * secondOperand;\n      } else if (operator === '/') {\n        return firstOperand / secondOperand;\n      }\n    \n      return secondOperand;\n    }\n    \n    function resetCalculator() {\n      calculator.displayValue = '0';\n      calculator.firstOperand = null;\n      calculator.waitingForSecondOperand = false;\n      calculator.operator = null;\n    }\n    \n    function updateDisplay() {\n      const display = document.querySelector('.calculator-screen');\n      display.value = calculator.displayValue;\n    }\n    \n    updateDisplay();\n    \n    const keys = document.querySelector('.calculator-keys');\n    keys.addEventListener('click', event => {\n      const { target } = event;\n      const { value } = target;\n      if (!target.matches('button')) {\n        return;\n      }\n    \n      switch (value) {\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n        case '=':\n          handleOperator(value);\n          break;\n        case '.':\n          inputDecimal(value);\n          break;\n        case 'all-clear':\n          resetCalculator();\n          break;\n        default:\n          if (Number.isInteger(parseFloat(value))) {\n            inputDigit(value);\n          }\n      }\n    \n      updateDisplay();\n    });\n    </script>\n    </body>\n    </html>\n    ");
    }
    else if (req.url == "/maze") {
        res.write("\n<html lang=\"en-GB\">\n    <head>\n      <meta charset=\"utf-8\">\n      <style>\n        $menuHeight: 65px+10px;\n    @mixin transition {\n        transition-property: background-color opacity;\n        transition-duration: 0.2s;\n        transition-timing-function: ease-in-out;\n    }\n    \n    html,\n    body {\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        padding: 0;\n        margin: 0;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n    }\n    \n    #mazeContainer {\n        transition-property: opacity;\n        transition-duration: 1s;\n        transition-timing-function: linear;\n        top: $menuHeight;\n        opacity: 0;\n        display: inline-block;\n        background-color: rgba(0, 0, 0, 0.30);\n        margin: auto;\n    \n        #mazeCanvas {\n            margin: 0;\n            display: block;\n            border: solid 1px black;\n        }\n    }\n    \n    input,\n    select {\n        @include transition;\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.30);\n        height: 45px;\n        width: 150px;\n        padding: 10px;\n        border: none;\n        border-radius: 5px;\n        color: white;\n        display: inline-block;\n        font-size: 15px;\n        text-align: center;\n        text-decoration: none;\n        appearance: none;\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.70);\n        }\n        &:active {\n            background-color: black;\n        }\n        &:focus {\n            outline: none;\n        }\n    }\n    \n    \n    .custom-select {\n        display: inline-block;\n        select {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAh0lEQVQ4T93TMQrCUAzG8V9x8QziiYSuXdzFC7h4AcELOPQAdXYovZCHEATlgQV5GFTe1ozJlz/kS1IpjKqw3wQBVyy++JI0y1GTe7DCBbMAckeNIQKk/BanALBB+16LtnDELoMcsM/BESDlz2heDR3WePwKSLo5eoxz3z6NNcFD+vu3ij14Aqz/DxGbKB7CAAAAAElFTkSuQmCC');\n            background-repeat: no-repeat;\n            background-position: 125px center;\n        }\n    }\n    \n    #Message-Container {\n        visibility: hidden;\n        color: white;\n        display: block;\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: rgba(0, 0, 0, 0.30);\n        z-index: 1;\n        #message {\n            width: 300px;\n            height: 300px;\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            margin-left: -150px;\n            margin-top: -150px;\n        }\n    }\n    \n    #page {\n        font-family: \"Segoe UI\", Arial, sans-serif;\n        text-align: center;\n        height: auto;\n        width: auto;\n        margin: auto;\n        #menu {\n            margin: auto;\n            padding: 10px;\n            height: 65px;\n            box-sizing: border-box;\n            h1 {\n                margin: 0;\n                margin-bottom: 10px;\n                font-weight: 600;\n                font-size: 3.2rem;\n            }\n        }\n        #view {\n            position: absolute;\n            top:65px;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            width: 100%;\n            height: auto;\n               \n        }\n    }\n    \n    .border {\n        border: 1px black solid;\n        border-radius: 5px;\n    }\n    \n    \n    \n    #gradient {\n        z-index: -1;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        width: 100vw;\n        height: 100vh;\n        color: #fff;\n        background: linear-gradient(-45deg, #EE7752, #E73C7E, #23A6D5, #23D5AB);\n        background-size: 400% 400%;\n        animation: Gradient 15s ease infinite;\n    }\n    \n    @keyframes Gradient {\n        0% {\n            background-position: 0% 50%\n        }\n        50% {\n            background-position: 100% 50%\n        }\n        100% {\n            background-position: 0% 50%\n        }\n    }\n    \n     /* Extra small devices (phones, 600px and down) */\n     @media only screen and (max-width: 400px) {\n         input, select{\n             width: 120px;\n         }\n     }\n    \n      </style>\n      <body>\n        <div id=\"gradient\"></div>\n        <div id=\"page\">\n          <div id=\"Message-Container\">\n            <div id=\"message\">\n              <h1>Congratulations!</h1>\n              <p>You are done.</p>\n              <p id=\"moves\"></p>\n              <input id=\"okBtn\" type=\"button\" onclick=\"toggleVisablity('Message-Container')\" value=\"Cool!\" />\n            </div>\n          </div>\n          <div id=\"menu\">\n            <div class=\"custom-select\">\n              <select id=\"diffSelect\">\n                        <option value=\"10\">Easy</option>\n                        <option value=\"15\">Medium</option>\n                        <option value=\"25\">Hard</option>\n                        <option value=\"38\">Extreme</option>                                      \n                    </select>\n            </div>\n            <input id=\"startMazeBtn\" type=\"button\" onclick=\"makeMaze()\" value=\"Start\" />\n          </div>\n          <div id=\"view\">\n            <div id=\"mazeContainer\">\n              <canvas id=\"mazeCanvas\" class=\"border\" height=\"1100\" width=\"1100\"></canvas>\n            </div>\n          </div>\n        </div>\n        <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n        <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.18/jquery.touchSwipe.min.js\"></script>\n        <script>\n          function rand(max) {\n      return Math.floor(Math.random() * max);\n    }\n    \n    function shuffle(a) {\n      for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n      }\n      return a;\n    }\n    \n    function changeBrightness(factor, sprite) {\n      var virtCanvas = document.createElement(\"canvas\");\n      virtCanvas.width = 500;\n      virtCanvas.height = 500;\n      var context = virtCanvas.getContext(\"2d\");\n      context.drawImage(sprite, 0, 0, 500, 500);\n    \n      var imgData = context.getImageData(0, 0, 500, 500);\n    \n      for (let i = 0; i < imgData.data.length; i += 4) {\n        imgData.data[i] = imgData.data[i] * factor;\n        imgData.data[i + 1] = imgData.data[i + 1] * factor;\n        imgData.data[i + 2] = imgData.data[i + 2] * factor;\n      }\n      context.putImageData(imgData, 0, 0);\n    \n      var spriteOutput = new Image();\n      spriteOutput.src = virtCanvas.toDataURL();\n      virtCanvas.remove();\n      return spriteOutput;\n    }\n    \n    function displayVictoryMess(moves) {\n      document.getElementById(\"moves\").innerHTML = \"You Moved \" + moves + \" Steps.\";\n      toggleVisablity(\"Message-Container\");  \n    }\n    \n    function toggleVisablity(id) {\n      if (document.getElementById(id).style.visibility == \"visible\") {\n        document.getElementById(id).style.visibility = \"hidden\";\n      } else {\n        document.getElementById(id).style.visibility = \"visible\";\n      }\n    }\n    \n    function Maze(Width, Height) {\n      var mazeMap;\n      var width = Width;\n      var height = Height;\n      var startCoord, endCoord;\n      var dirs = [\"n\", \"s\", \"e\", \"w\"];\n      var modDir = {\n        n: {\n          y: -1,\n          x: 0,\n          o: \"s\"\n        },\n        s: {\n          y: 1,\n          x: 0,\n          o: \"n\"\n        },\n        e: {\n          y: 0,\n          x: 1,\n          o: \"w\"\n        },\n        w: {\n          y: 0,\n          x: -1,\n          o: \"e\"\n        }\n      };\n    \n      this.map = function() {\n        return mazeMap;\n      };\n      this.startCoord = function() {\n        return startCoord;\n      };\n      this.endCoord = function() {\n        return endCoord;\n      };\n    \n      function genMap() {\n        mazeMap = new Array(height);\n        for (y = 0; y < height; y++) {\n          mazeMap[y] = new Array(width);\n          for (x = 0; x < width; ++x) {\n            mazeMap[y][x] = {\n              n: false,\n              s: false,\n              e: false,\n              w: false,\n              visited: false,\n              priorPos: null\n            };\n          }\n        }\n      }\n    \n      function defineMaze() {\n        var isComp = false;\n        var move = false;\n        var cellsVisited = 1;\n        var numLoops = 0;\n        var maxLoops = 0;\n        var pos = {\n          x: 0,\n          y: 0\n        };\n        var numCells = width * height;\n        while (!isComp) {\n          move = false;\n          mazeMap[pos.x][pos.y].visited = true;\n    \n          if (numLoops >= maxLoops) {\n            shuffle(dirs);\n            maxLoops = Math.round(rand(height / 8));\n            numLoops = 0;\n          }\n          numLoops++;\n          for (index = 0; index < dirs.length; index++) {\n            var direction = dirs[index];\n            var nx = pos.x + modDir[direction].x;\n            var ny = pos.y + modDir[direction].y;\n    \n            if (nx >= 0 && nx < width && ny >= 0 && ny < height) {\n              //Check if the tile is already visited\n              if (!mazeMap[nx][ny].visited) {\n                //Carve through walls from this tile to next\n                mazeMap[pos.x][pos.y][direction] = true;\n                mazeMap[nx][ny][modDir[direction].o] = true;\n    \n                //Set Currentcell as next cells Prior visited\n                mazeMap[nx][ny].priorPos = pos;\n                //Update Cell position to newly visited location\n                pos = {\n                  x: nx,\n                  y: ny\n                };\n                cellsVisited++;\n                //Recursively call this method on the next tile\n                move = true;\n                break;\n              }\n            }\n          }\n    \n          if (!move) {\n            //  If it failed to find a direction,\n            //  move the current position back to the prior cell and Recall the method.\n            pos = mazeMap[pos.x][pos.y].priorPos;\n          }\n          if (numCells == cellsVisited) {\n            isComp = true;\n          }\n        }\n      }\n    \n      function defineStartEnd() {\n        switch (rand(4)) {\n          case 0:\n            startCoord = {\n              x: 0,\n              y: 0\n            };\n            endCoord = {\n              x: height - 1,\n              y: width - 1\n            };\n            break;\n          case 1:\n            startCoord = {\n              x: 0,\n              y: width - 1\n            };\n            endCoord = {\n              x: height - 1,\n              y: 0\n            };\n            break;\n          case 2:\n            startCoord = {\n              x: height - 1,\n              y: 0\n            };\n            endCoord = {\n              x: 0,\n              y: width - 1\n            };\n            break;\n          case 3:\n            startCoord = {\n              x: height - 1,\n              y: width - 1\n            };\n            endCoord = {\n              x: 0,\n              y: 0\n            };\n            break;\n        }\n      }\n    \n      genMap();\n      defineStartEnd();\n      defineMaze();\n    }\n    \n    function DrawMaze(Maze, ctx, cellsize, endSprite = null) {\n      var map = Maze.map();\n      var cellSize = cellsize;\n      var drawEndMethod;\n      ctx.lineWidth = cellSize / 40;\n    \n      this.redrawMaze = function(size) {\n        cellSize = size;\n        ctx.lineWidth = cellSize / 50;\n        drawMap();\n        drawEndMethod();\n      };\n    \n      function drawCell(xCord, yCord, cell) {\n        var x = xCord * cellSize;\n        var y = yCord * cellSize;\n    \n        if (cell.n == false) {\n          ctx.beginPath();\n          ctx.moveTo(x, y);\n          ctx.lineTo(x + cellSize, y);\n          ctx.stroke();\n        }\n        if (cell.s === false) {\n          ctx.beginPath();\n          ctx.moveTo(x, y + cellSize);\n          ctx.lineTo(x + cellSize, y + cellSize);\n          ctx.stroke();\n        }\n        if (cell.e === false) {\n          ctx.beginPath();\n          ctx.moveTo(x + cellSize, y);\n          ctx.lineTo(x + cellSize, y + cellSize);\n          ctx.stroke();\n        }\n        if (cell.w === false) {\n          ctx.beginPath();\n          ctx.moveTo(x, y);\n          ctx.lineTo(x, y + cellSize);\n          ctx.stroke();\n        }\n      }\n    \n      function drawMap() {\n        for (x = 0; x < map.length; x++) {\n          for (y = 0; y < map[x].length; y++) {\n            drawCell(x, y, map[x][y]);\n          }\n        }\n      }\n    \n      function drawEndFlag() {\n        var coord = Maze.endCoord();\n        var gridSize = 4;\n        var fraction = cellSize / gridSize - 2;\n        var colorSwap = true;\n        for (let y = 0; y < gridSize; y++) {\n          if (gridSize % 2 == 0) {\n            colorSwap = !colorSwap;\n          }\n          for (let x = 0; x < gridSize; x++) {\n            ctx.beginPath();\n            ctx.rect(\n              coord.x * cellSize + x * fraction + 4.5,\n              coord.y * cellSize + y * fraction + 4.5,\n              fraction,\n              fraction\n            );\n            if (colorSwap) {\n              ctx.fillStyle = \"rgba(0, 0, 0, 0.8)\";\n            } else {\n              ctx.fillStyle = \"rgba(255, 255, 255, 0.8)\";\n            }\n            ctx.fill();\n            colorSwap = !colorSwap;\n          }\n        }\n      }\n    \n      function drawEndSprite() {\n        var offsetLeft = cellSize / 50;\n        var offsetRight = cellSize / 25;\n        var coord = Maze.endCoord();\n        ctx.drawImage(\n          endSprite,\n          2,\n          2,\n          endSprite.width,\n          endSprite.height,\n          coord.x * cellSize + offsetLeft,\n          coord.y * cellSize + offsetLeft,\n          cellSize - offsetRight,\n          cellSize - offsetRight\n        );\n      }\n    \n      function clear() {\n        var canvasSize = cellSize * map.length;\n        ctx.clearRect(0, 0, canvasSize, canvasSize);\n      }\n    \n      if (endSprite != null) {\n        drawEndMethod = drawEndSprite;\n      } else {\n        drawEndMethod = drawEndFlag;\n      }\n      clear();\n      drawMap();\n      drawEndMethod();\n    }\n    \n    function Player(maze, c, _cellsize, onComplete, sprite = null) {\n      var ctx = c.getContext(\"2d\");\n      var drawSprite;\n      var moves = 0;\n      drawSprite = drawSpriteCircle;\n      if (sprite != null) {\n        drawSprite = drawSpriteImg;\n      }\n      var player = this;\n      var map = maze.map();\n      var cellCoords = {\n        x: maze.startCoord().x,\n        y: maze.startCoord().y\n      };\n      var cellSize = _cellsize;\n      var halfCellSize = cellSize / 2;\n    \n      this.redrawPlayer = function(_cellsize) {\n        cellSize = _cellsize;\n        drawSpriteImg(cellCoords);\n      };\n    \n      function drawSpriteCircle(coord) {\n        ctx.beginPath();\n        ctx.fillStyle = \"yellow\";\n        ctx.arc(\n          (coord.x + 1) * cellSize - halfCellSize,\n          (coord.y + 1) * cellSize - halfCellSize,\n          halfCellSize - 2,\n          0,\n          2 * Math.PI\n        );\n        ctx.fill();\n        if (coord.x === maze.endCoord().x && coord.y === maze.endCoord().y) {\n          onComplete(moves);\n          player.unbindKeyDown();\n        }\n      }\n    \n      function drawSpriteImg(coord) {\n        var offsetLeft = cellSize / 50;\n        var offsetRight = cellSize / 25;\n        ctx.drawImage(\n          sprite,\n          0,\n          0,\n          sprite.width,\n          sprite.height,\n          coord.x * cellSize + offsetLeft,\n          coord.y * cellSize + offsetLeft,\n          cellSize - offsetRight,\n          cellSize - offsetRight\n        );\n        if (coord.x === maze.endCoord().x && coord.y === maze.endCoord().y) {\n          onComplete(moves);\n          player.unbindKeyDown();\n        }\n      }\n    \n      function removeSprite(coord) {\n        var offsetLeft = cellSize / 50;\n        var offsetRight = cellSize / 25;\n        ctx.clearRect(\n          coord.x * cellSize + offsetLeft,\n          coord.y * cellSize + offsetLeft,\n          cellSize - offsetRight,\n          cellSize - offsetRight\n        );\n      }\n    \n      function check(e) {\n        var cell = map[cellCoords.x][cellCoords.y];\n        moves++;\n        switch (e.keyCode) {\n          case 65:\n          case 37: // west\n            if (cell.w == true) {\n              removeSprite(cellCoords);\n              cellCoords = {\n                x: cellCoords.x - 1,\n                y: cellCoords.y\n              };\n              drawSprite(cellCoords);\n            }\n            break;\n          case 87:\n          case 38: // north\n            if (cell.n == true) {\n              removeSprite(cellCoords);\n              cellCoords = {\n                x: cellCoords.x,\n                y: cellCoords.y - 1\n              };\n              drawSprite(cellCoords);\n            }\n            break;\n          case 68:\n          case 39: // east\n            if (cell.e == true) {\n              removeSprite(cellCoords);\n              cellCoords = {\n                x: cellCoords.x + 1,\n                y: cellCoords.y\n              };\n              drawSprite(cellCoords);\n            }\n            break;\n          case 83:\n          case 40: // south\n            if (cell.s == true) {\n              removeSprite(cellCoords);\n              cellCoords = {\n                x: cellCoords.x,\n                y: cellCoords.y + 1\n              };\n              drawSprite(cellCoords);\n            }\n            break;\n        }\n      }\n    \n      this.bindKeyDown = function() {\n        window.addEventListener(\"keydown\", check, false);\n    \n        $(\"#view\").swipe({\n          swipe: function(\n            event,\n            direction,\n            distance,\n            duration,\n            fingerCount,\n            fingerData\n          ) {\n            console.log(direction);\n            switch (direction) {\n              case \"up\":\n                check({\n                  keyCode: 38\n                });\n                break;\n              case \"down\":\n                check({\n                  keyCode: 40\n                });\n                break;\n              case \"left\":\n                check({\n                  keyCode: 37\n                });\n                break;\n              case \"right\":\n                check({\n                  keyCode: 39\n                });\n                break;\n            }\n          },\n          threshold: 0\n        });\n      };\n    \n      this.unbindKeyDown = function() {\n        window.removeEventListener(\"keydown\", check, false);\n        $(\"#view\").swipe(\"destroy\");\n      };\n    \n      drawSprite(maze.startCoord());\n    \n      this.bindKeyDown();\n    }\n    \n    var mazeCanvas = document.getElementById(\"mazeCanvas\");\n    var ctx = mazeCanvas.getContext(\"2d\");\n    var sprite;\n    var finishSprite;\n    var maze, draw, player;\n    var cellSize;\n    var difficulty;\n    // sprite.src = 'media/sprite.png';\n    \n    window.onload = function() {\n      let viewWidth = $(\"#view\").width();\n      let viewHeight = $(\"#view\").height();\n      if (viewHeight < viewWidth) {\n        ctx.canvas.width = viewHeight - viewHeight / 100;\n        ctx.canvas.height = viewHeight - viewHeight / 100;\n      } else {\n        ctx.canvas.width = viewWidth - viewWidth / 100;\n        ctx.canvas.height = viewWidth - viewWidth / 100;\n      }\n    \n      //Load and edit sprites\n      var completeOne = false;\n      var completeTwo = false;\n      var isComplete = () => {\n        if(completeOne === true && completeTwo === true)\n           {\n             console.log(\"Runs\");\n             setTimeout(function(){\n               makeMaze();\n             }, 500);         \n           }\n      };\n      sprite = new Image();\n      sprite.src =\n        \"https://image.ibb.co/dr1HZy/Pf_RWr3_X_Imgur.png\" +\n        \"?\" +\n        new Date().getTime();\n      sprite.setAttribute(\"crossOrigin\", \" \");\n      sprite.onload = function() {\n        sprite = changeBrightness(1.2, sprite);\n        completeOne = true;\n        console.log(completeOne);\n        isComplete();\n      };\n    \n      finishSprite = new Image();\n      finishSprite.src = \"https://image.ibb.co/b9wqnJ/i_Q7m_U25_Imgur.png\"+\n      \"?\" +\n      new Date().getTime();\n      finishSprite.setAttribute(\"crossOrigin\", \" \");\n      finishSprite.onload = function() {\n        finishSprite = changeBrightness(1.1, finishSprite);\n        completeTwo = true;\n        console.log(completeTwo);\n        isComplete();\n      };\n      \n    };\n    \n    window.onresize = function() {\n      let viewWidth = $(\"#view\").width();\n      let viewHeight = $(\"#view\").height();\n      if (viewHeight < viewWidth) {\n        ctx.canvas.width = viewHeight - viewHeight / 100;\n        ctx.canvas.height = viewHeight - viewHeight / 100;\n      } else {\n        ctx.canvas.width = viewWidth - viewWidth / 100;\n        ctx.canvas.height = viewWidth - viewWidth / 100;\n      }\n      cellSize = mazeCanvas.width / difficulty;\n      if (player != null) {\n        draw.redrawMaze(cellSize);\n        player.redrawPlayer(cellSize);\n      }\n    };\n    \n    function makeMaze() {\n      //document.getElementById(\"mazeCanvas\").classList.add(\"border\");\n      if (player != undefined) {\n        player.unbindKeyDown();\n        player = null;\n      }\n      var e = document.getElementById(\"diffSelect\");\n      difficulty = e.options[e.selectedIndex].value;\n      cellSize = mazeCanvas.width / difficulty;\n      maze = new Maze(difficulty, difficulty);\n      draw = new DrawMaze(maze, ctx, cellSize, finishSprite);\n      player = new Player(maze, mazeCanvas, cellSize, displayVictoryMess, sprite);\n      if (document.getElementById(\"mazeContainer\").style.opacity < \"100\") {\n        document.getElementById(\"mazeContainer\").style.opacity = \"100\";\n      }\n    }\n    \n        </script>\n      </body>\n    </html>\n    ");
    }
    else if (req.url == "/sass_") {
        res.write("\n<!DOCTYPE html>\n<html>\n    <head>\n        <title>Page Title</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/sass.js/0.9.12/sass.sync.min.js\"></script>\n        <style type=\"scss\">\n@mixin l2d($color,$strength){\n    background:linear-gradient(lighten($color,$strength),darken($color,$strength));\n    &:active{\n        background:linear-gradient(darken($color,$strength),lighten($color,$strength));\n    }\n}\nbody{\n    @include l2d(#aa2424,10%);\n    min-height:100vh;\n}\n#hello{\n    margin:auto auto auto auto;\n    width:96vw;\n    user-select:none;\n    &:after{\n        content:\" \uD83D\uDE09\";\n    }\n}\n        </style>\n        \n        <script>\n            Sass.compile(document.querySelector(\"style[type=scss]\").innerHTML,function(res){\n    var s=document.createElement(\"style\");\n    s.innerHTML=res.text;\n    res.formatted&&console.error(res.formatted); //if error console.error it.\n    res.text&&document.head.appendChild(s);// append style element only if no error.\n});\n        </script>\n    </head>\n    <body>\n        <h1 id=\"hello\">Hello, this is styled using SCSS.</h1>\n    </body>\n</html>\n    ");
    }
    else if (req.url == "/codepen") {
        res.write("\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Code Editor</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n    body {\n        text-align: center;\n    }\n    \n    textarea {\n        width: 32%;\n        float: top;\n        min-height: 250px;\n        overflow: scroll;\n        margin: auto;\n        display: inline-block;\n        background: #F4F4F9;\n        outline: none;\n        font-family: Courier, sans-serif;\n        font-size: 14px;\n    }\n    \n    iframe {\n        bottom: 0;\n        position: relative;\n        width: 100%;\n        height: 35em;\n    }\n    </style>\n</head>\n<body>\n    <textarea id=\"html\" placeholder=\"HTML\"></textarea>\n    <textarea id=\"css\" placeholder=\"CSS\"></textarea>\n    <textarea id=\"js\" placeholder=\"JavaScript\"></textarea>\n    <iframe id=\"code\"></iframe>\n    <script type=\"text/javascript\">\n                        function compile() {\n        var html = document.getElementById(\"html\");\n        var css = document.getElementById(\"css\");\n        var js = document.getElementById(\"js\");\n        var code = document.getElementById(\"code\").contentWindow.document;\n        \n        document.body.onkeyup = function(){\n            code.open();\n            code.writeln(html.value+\"<style>\"+css.value+\"</style>\"+\"<script>\" + js.value + \"<\\/script>\");\n            code.close();\n        };\n        };\n    \n    compile();\n    </script>\n</body>\n</html>\n");
    }
    else if (req.url == "/tilt_maze") {
        res.write("\n<!DOCTYPE html>\n<html>\n<head>\n<style>\n    body {\n  /* https://coolors.co/f06449-ede6e3-7d82b8-36382e-613f75  */\n  --background-color: #ede6e3;\n  --wall-color: #36382e;\n  --joystick-color: #210124;\n  --joystick-head-color: #f06449;\n  --ball-color: #f06449;\n  --end-color: #7d82b8;\n  --text-color: #210124;\n\n  font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n  background-color: var(--background-color);\n}\n\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n}\n\n#center {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n\n#game {\n  display: grid;\n  grid-template-columns: auto 150px;\n  grid-template-rows: 1fr auto 1fr;\n  gap: 30px;\n  perspective: 600px;\n}\n\n#maze {\n  position: relative;\n  grid-row: 1 / -1;\n  grid-column: 1;\n  width: 350px;\n  height: 315px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n#end {\n  width: 65px;\n  height: 65px;\n  border: 5px dashed var(--end-color);\n  border-radius: 50%;\n}\n\n#joystick {\n  position: relative;\n  background-color: var(--joystick-color);\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px 50px;\n  grid-row: 2;\n}\n\n#joystick-head {\n  position: relative;\n  background-color: var(--joystick-head-color);\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  cursor: grab;\n\n  animation-name: glow;\n  animation-duration: 0.6s;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  animation-delay: 4s;\n}\n\n@keyframes glow {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(1.2);\n  }\n}\n\n.joystick-arrow:nth-of-type(1) {\n  position: absolute;\n  bottom: 55px;\n\n  width: 0;\n  height: 0;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n\n  border-bottom: 10px solid var(--joystick-color);\n}\n\n.joystick-arrow:nth-of-type(2) {\n  position: absolute;\n  top: 55px;\n\n  width: 0;\n  height: 0;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n\n  border-top: 10px solid var(--joystick-color);\n}\n\n.joystick-arrow:nth-of-type(3) {\n  position: absolute;\n  left: 55px;\n\n  width: 0;\n  height: 0;\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n\n  border-left: 10px solid var(--joystick-color);\n}\n\n.joystick-arrow:nth-of-type(4) {\n  position: absolute;\n  right: 55px;\n\n  width: 0;\n  height: 0;\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n\n  border-right: 10px solid var(--joystick-color);\n}\n\n#note {\n  grid-row: 3;\n  grid-column: 2;\n  text-align: center;\n  font-size: 0.8em;\n  color: var(--text-color);\n  transition: opacity 2s;\n}\n\na:visited {\n  color: inherit;\n}\n\n.ball {\n  position: absolute;\n  margin-top: -5px;\n  margin-left: -5px;\n  border-radius: 50%;\n  background-color: var(--ball-color);\n  width: 10px;\n  height: 10px;\n}\n\n.wall {\n  position: absolute;\n  background-color: var(--wall-color);\n  transform-origin: top center;\n  margin-left: -5px;\n}\n\n.wall::before,\n.wall::after {\n  display: block;\n  content: \"\";\n  width: 10px;\n  height: 10px;\n  background-color: inherit;\n  border-radius: 50%;\n  position: absolute;\n}\n\n.wall::before {\n  top: -5px;\n}\n\n.wall::after {\n  bottom: -5px;\n}\n\n.black-hole {\n  position: absolute;\n  margin-top: -9px;\n  margin-left: -9px;\n  border-radius: 50%;\n  background-color: black;\n  width: 18px;\n  height: 18px;\n}\n\n#youtube,\n#youtube-card {\n  display: none;\n}\n\n@media (min-height: 425px) {\n  #youtube {\n    z-index: 2;\n    display: block;\n    width: 100px;\n    height: 70px;\n    position: absolute;\n    bottom: 20px;\n    right: 20px;\n    background: red;\n    border-radius: 50% / 11%;\n    transform: scale(0.8);\n    transition: transform 0.5s;\n  }\n\n  #youtube:hover,\n  #youtube:focus {\n    transform: scale(0.9);\n  }\n\n  #youtube::before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 7.5%;\n    left: -6%;\n    width: 112%;\n    height: 85%;\n    background: red;\n    border-radius: 9% / 50%;\n  }\n\n  #youtube::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 20px;\n    left: 40px;\n    width: 45px;\n    height: 30px;\n    border: 15px solid transparent;\n    box-sizing: border-box;\n    border-left: 30px solid white;\n  }\n\n  #youtube span {\n    font-size: 0;\n    position: absolute;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n  }\n\n  #youtube:hover + #youtube-card {\n    display: block;\n    position: absolute;\n    bottom: 12px;\n    right: 10px;\n    padding: 25px 130px 25px 25px;\n    width: 300px;\n    background-color: white;\n  }\n}\n</style>\n</head>\n<body>\n<div id=\"center\">\n  <div id=\"game\">\n    <div id=\"maze\">\n      <div id=\"end\"></div>\n    </div>\n    <div id=\"joystick\">\n      <div class=\"joystick-arrow\"></div>\n      <div class=\"joystick-arrow\"></div>\n      <div class=\"joystick-arrow\"></div>\n      <div class=\"joystick-arrow\"></div>\n      <div id=\"joystick-head\"></div>\n    </div>\n    <div id=\"note\">\n      Click the joystick to start!\n      <p>Move every ball to the center. Ready for hard mode? Press H</p>\n    </div>\n  </div>\n</div>\n<script>\n\nMath.minmax = (value, limit) => {\n  return Math.max(Math.min(value, limit), -limit);\n};\n\nconst distance2D = (p1, p2) => {\n  return Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n};\n\n// Angle between the two points\nconst getAngle = (p1, p2) => {\n  let angle = Math.atan((p2.y - p1.y) / (p2.x - p1.x));\n  if (p2.x - p1.x < 0) angle += Math.PI;\n  return angle;\n};\n\n// The closest a ball and a wall cap can be\nconst closestItCanBe = (cap, ball) => {\n  let angle = getAngle(cap, ball);\n\n  const deltaX = Math.cos(angle) * (wallW / 2 + ballSize / 2);\n  const deltaY = Math.sin(angle) * (wallW / 2 + ballSize / 2);\n\n  return { x: cap.x + deltaX, y: cap.y + deltaY };\n};\n\n// Roll the ball around the wall cap\nconst rollAroundCap = (cap, ball) => {\n  // The direction the ball can't move any further because the wall holds it back\n  let impactAngle = getAngle(ball, cap);\n\n  // The direction the ball wants to move based on it's velocity\n  let heading = getAngle(\n    { x: 0, y: 0 },\n    { x: ball.velocityX, y: ball.velocityY }\n  );\n\n  // The angle between the impact direction and the ball's desired direction\n  // The smaller this angle is, the bigger the impact\n  // The closer it is to 90 degrees the smoother it gets (at 90 there would be no collision)\n  let impactHeadingAngle = impactAngle - heading;\n\n  // Velocity distance if not hit would have occurred\n  const velocityMagnitude = distance2D(\n    { x: 0, y: 0 },\n    { x: ball.velocityX, y: ball.velocityY }\n  );\n  // Velocity component diagonal to the impact\n  const velocityMagnitudeDiagonalToTheImpact =\n    Math.sin(impactHeadingAngle) * velocityMagnitude;\n\n  // How far should the ball be from the wall cap\n  const closestDistance = wallW / 2 + ballSize / 2;\n\n  const rotationAngle = Math.atan(\n    velocityMagnitudeDiagonalToTheImpact / closestDistance\n  );\n\n  const deltaFromCap = {\n    x: Math.cos(impactAngle + Math.PI - rotationAngle) * closestDistance,\n    y: Math.sin(impactAngle + Math.PI - rotationAngle) * closestDistance\n  };\n\n  const x = ball.x;\n  const y = ball.y;\n  const velocityX = ball.x - (cap.x + deltaFromCap.x);\n  const velocityY = ball.y - (cap.y + deltaFromCap.y);\n  const nextX = x + velocityX;\n  const nextY = y + velocityY;\n\n  return { x, y, velocityX, velocityY, nextX, nextY };\n};\n\n// Decreases the absolute value of a number but keeps it's sign, doesn't go below abs 0\nconst slow = (number, difference) => {\n  if (Math.abs(number) <= difference) return 0;\n  if (number > difference) return number - difference;\n  return number + difference;\n};\n\nconst mazeElement = document.getElementById(\"maze\");\nconst joystickHeadElement = document.getElementById(\"joystick-head\");\nconst noteElement = document.getElementById(\"note\"); // Note element for instructions and game won, game failed texts\n\nlet hardMode = false;\nlet previousTimestamp;\nlet gameInProgress;\nlet mouseStartX;\nlet mouseStartY;\nlet accelerationX;\nlet accelerationY;\nlet frictionX;\nlet frictionY;\n\nconst pathW = 25; // Path width\nconst wallW = 10; // Wall width\nconst ballSize = 10; // Width and height of the ball\nconst holeSize = 18;\n\nconst debugMode = false;\n\nlet balls = [];\nlet ballElements = [];\nlet holeElements = [];\n\nresetGame();\n\n// Draw balls for the first time\nballs.forEach(({ x, y }) => {\n  const ball = document.createElement(\"div\");\n  ball.setAttribute(\"class\", \"ball\");\n  ball.style.cssText = `left: ${x}px; top: ${y}px; `;\n\n  mazeElement.appendChild(ball);\n  ballElements.push(ball);\n});\n\n// Wall metadata\nconst walls = [\n  // Border\n  { column: 0, row: 0, horizontal: true, length: 10 },\n  { column: 0, row: 0, horizontal: false, length: 9 },\n  { column: 0, row: 9, horizontal: true, length: 10 },\n  { column: 10, row: 0, horizontal: false, length: 9 },\n\n  // Horizontal lines starting in 1st column\n  { column: 0, row: 6, horizontal: true, length: 1 },\n  { column: 0, row: 8, horizontal: true, length: 1 },\n\n  // Horizontal lines starting in 2nd column\n  { column: 1, row: 1, horizontal: true, length: 2 },\n  { column: 1, row: 7, horizontal: true, length: 1 },\n\n  // Horizontal lines starting in 3rd column\n  { column: 2, row: 2, horizontal: true, length: 2 },\n  { column: 2, row: 4, horizontal: true, length: 1 },\n  { column: 2, row: 5, horizontal: true, length: 1 },\n  { column: 2, row: 6, horizontal: true, length: 1 },\n\n  // Horizontal lines starting in 4th column\n  { column: 3, row: 3, horizontal: true, length: 1 },\n  { column: 3, row: 8, horizontal: true, length: 3 },\n\n  // Horizontal lines starting in 5th column\n  { column: 4, row: 6, horizontal: true, length: 1 },\n\n  // Horizontal lines starting in 6th column\n  { column: 5, row: 2, horizontal: true, length: 2 },\n  { column: 5, row: 7, horizontal: true, length: 1 },\n\n  // Horizontal lines starting in 7th column\n  { column: 6, row: 1, horizontal: true, length: 1 },\n  { column: 6, row: 6, horizontal: true, length: 2 },\n\n  // Horizontal lines starting in 8th column\n  { column: 7, row: 3, horizontal: true, length: 2 },\n  { column: 7, row: 7, horizontal: true, length: 2 },\n\n  // Horizontal lines starting in 9th column\n  { column: 8, row: 1, horizontal: true, length: 1 },\n  { column: 8, row: 2, horizontal: true, length: 1 },\n  { column: 8, row: 3, horizontal: true, length: 1 },\n  { column: 8, row: 4, horizontal: true, length: 2 },\n  { column: 8, row: 8, horizontal: true, length: 2 },\n\n  // Vertical lines after the 1st column\n  { column: 1, row: 1, horizontal: false, length: 2 },\n  { column: 1, row: 4, horizontal: false, length: 2 },\n\n  // Vertical lines after the 2nd column\n  { column: 2, row: 2, horizontal: false, length: 2 },\n  { column: 2, row: 5, horizontal: false, length: 1 },\n  { column: 2, row: 7, horizontal: false, length: 2 },\n\n  // Vertical lines after the 3rd column\n  { column: 3, row: 0, horizontal: false, length: 1 },\n  { column: 3, row: 4, horizontal: false, length: 1 },\n  { column: 3, row: 6, horizontal: false, length: 2 },\n\n  // Vertical lines after the 4th column\n  { column: 4, row: 1, horizontal: false, length: 2 },\n  { column: 4, row: 6, horizontal: false, length: 1 },\n\n  // Vertical lines after the 5th column\n  { column: 5, row: 0, horizontal: false, length: 2 },\n  { column: 5, row: 6, horizontal: false, length: 1 },\n  { column: 5, row: 8, horizontal: false, length: 1 },\n\n  // Vertical lines after the 6th column\n  { column: 6, row: 4, horizontal: false, length: 1 },\n  { column: 6, row: 6, horizontal: false, length: 1 },\n\n  // Vertical lines after the 7th column\n  { column: 7, row: 1, horizontal: false, length: 4 },\n  { column: 7, row: 7, horizontal: false, length: 2 },\n\n  // Vertical lines after the 8th column\n  { column: 8, row: 2, horizontal: false, length: 1 },\n  { column: 8, row: 4, horizontal: false, length: 2 },\n\n  // Vertical lines after the 9th column\n  { column: 9, row: 1, horizontal: false, length: 1 },\n  { column: 9, row: 5, horizontal: false, length: 2 }\n].map((wall) => ({\n  x: wall.column * (pathW + wallW),\n  y: wall.row * (pathW + wallW),\n  horizontal: wall.horizontal,\n  length: wall.length * (pathW + wallW)\n}));\n\n// Draw walls\nwalls.forEach(({ x, y, horizontal, length }) => {\n  const wall = document.createElement(\"div\");\n  wall.setAttribute(\"class\", \"wall\");\n  wall.style.cssText = `\n      left: ${x}px;\n      top: ${y}px;\n      width: ${wallW}px;\n      height: ${length}px;\n      transform: rotate(${horizontal ? -90 : 0}deg);\n    `;\n\n  mazeElement.appendChild(wall);\n});\n\nconst holes = [\n  { column: 0, row: 5 },\n  { column: 2, row: 0 },\n  { column: 2, row: 4 },\n  { column: 4, row: 6 },\n  { column: 6, row: 2 },\n  { column: 6, row: 8 },\n  { column: 8, row: 1 },\n  { column: 8, row: 2 }\n].map((hole) => ({\n  x: hole.column * (wallW + pathW) + (wallW / 2 + pathW / 2),\n  y: hole.row * (wallW + pathW) + (wallW / 2 + pathW / 2)\n}));\n\njoystickHeadElement.addEventListener(\"mousedown\", function (event) {\n  if (!gameInProgress) {\n    mouseStartX = event.clientX;\n    mouseStartY = event.clientY;\n    gameInProgress = true;\n    window.requestAnimationFrame(main);\n    noteElement.style.opacity = 0;\n    joystickHeadElement.style.cssText = `\n        animation: none;\n        cursor: grabbing;\n      `;\n  }\n});\n\nwindow.addEventListener(\"mousemove\", function (event) {\n  if (gameInProgress) {\n    const mouseDeltaX = -Math.minmax(mouseStartX - event.clientX, 15);\n    const mouseDeltaY = -Math.minmax(mouseStartY - event.clientY, 15);\n\n    joystickHeadElement.style.cssText = `\n        left: ${mouseDeltaX}px;\n        top: ${mouseDeltaY}px;\n        animation: none;\n        cursor: grabbing;\n      `;\n\n    const rotationY = mouseDeltaX * 0.8; // Max rotation = 12\n    const rotationX = mouseDeltaY * 0.8;\n\n    mazeElement.style.cssText = `\n        transform: rotateY(${rotationY}deg) rotateX(${-rotationX}deg)\n      `;\n\n    const gravity = 2;\n    const friction = 0.01; // Coefficients of friction\n\n    accelerationX = gravity * Math.sin((rotationY / 180) * Math.PI);\n    accelerationY = gravity * Math.sin((rotationX / 180) * Math.PI);\n    frictionX = gravity * Math.cos((rotationY / 180) * Math.PI) * friction;\n    frictionY = gravity * Math.cos((rotationX / 180) * Math.PI) * friction;\n  }\n});\n\nwindow.addEventListener(\"keydown\", function (event) {\n  // If not an arrow key or space or H was pressed then return\n  if (![\" \", \"H\", \"h\", \"E\", \"e\"].includes(event.key)) return;\n\n  // If an arrow key was pressed then first prevent default\n  event.preventDefault();\n\n  // If space was pressed restart the game\n  if (event.key == \" \") {\n    resetGame();\n    return;\n  }\n\n  // Set Hard mode\n  if (event.key == \"H\" || event.key == \"h\") {\n    hardMode = true;\n    resetGame();\n    return;\n  }\n\n  // Set Easy mode\n  if (event.key == \"E\" || event.key == \"e\") {\n    hardMode = false;\n    resetGame();\n    return;\n  }\n});\n\nfunction resetGame() {\n  previousTimestamp = undefined;\n  gameInProgress = false;\n  mouseStartX = undefined;\n  mouseStartY = undefined;\n  accelerationX = undefined;\n  accelerationY = undefined;\n  frictionX = undefined;\n  frictionY = undefined;\n\n  mazeElement.style.cssText = `\n      transform: rotateY(0deg) rotateX(0deg)\n    `;\n\n  joystickHeadElement.style.cssText = `\n      left: 0;\n      top: 0;\n      animation: glow;\n      cursor: grab;\n    `;\n\n  if (hardMode) {\n    noteElement.innerHTML = `Click the joystick to start!\n        <p>Hard mode, Avoid black holes. Back to easy mode? Press E</p>`;\n  } else {\n    noteElement.innerHTML = `Click the joystick to start!\n        <p>Move every ball to the center. Ready for hard mode? Press H</p>`;\n  }\n  noteElement.style.opacity = 1;\n\n  balls = [\n    { column: 0, row: 0 },\n    { column: 9, row: 0 },\n    { column: 0, row: 8 },\n    { column: 9, row: 8 }\n  ].map((ball) => ({\n    x: ball.column * (wallW + pathW) + (wallW / 2 + pathW / 2),\n    y: ball.row * (wallW + pathW) + (wallW / 2 + pathW / 2),\n    velocityX: 0,\n    velocityY: 0\n  }));\n\n  if (ballElements.length) {\n    balls.forEach(({ x, y }, index) => {\n      ballElements[index].style.cssText = `left: ${x}px; top: ${y}px; `;\n    });\n  }\n\n  // Remove previous hole elements\n  holeElements.forEach((holeElement) => {\n    mazeElement.removeChild(holeElement);\n  });\n  holeElements = [];\n\n  // Reset hole elements if hard mode\n  if (hardMode) {\n    holes.forEach(({ x, y }) => {\n      const ball = document.createElement(\"div\");\n      ball.setAttribute(\"class\", \"black-hole\");\n      ball.style.cssText = `left: ${x}px; top: ${y}px; `;\n\n      mazeElement.appendChild(ball);\n      holeElements.push(ball);\n    });\n  }\n}\n\nfunction main(timestamp) {\n  // It is possible to reset the game mid-game. This case the look should stop\n  if (!gameInProgress) return;\n\n  if (previousTimestamp === undefined) {\n    previousTimestamp = timestamp;\n    window.requestAnimationFrame(main);\n    return;\n  }\n\n  const maxVelocity = 1.5;\n\n  // Time passed since last cycle divided by 16\n  // This function gets called every 16 ms on average so dividing by 16 will result in 1\n  const timeElapsed = (timestamp - previousTimestamp) / 16;\n\n  try {\n    // If mouse didn't move yet don't do anything\n    if (accelerationX != undefined && accelerationY != undefined) {\n      const velocityChangeX = accelerationX * timeElapsed;\n      const velocityChangeY = accelerationY * timeElapsed;\n      const frictionDeltaX = frictionX * timeElapsed;\n      const frictionDeltaY = frictionY * timeElapsed;\n\n      balls.forEach((ball) => {\n        if (velocityChangeX == 0) {\n          // No rotation, the plane is flat\n          // On flat surface friction can only slow down, but not reverse movement\n          ball.velocityX = slow(ball.velocityX, frictionDeltaX);\n        } else {\n          ball.velocityX = ball.velocityX + velocityChangeX;\n          ball.velocityX = Math.max(Math.min(ball.velocityX, 1.5), -1.5);\n          ball.velocityX =\n            ball.velocityX - Math.sign(velocityChangeX) * frictionDeltaX;\n          ball.velocityX = Math.minmax(ball.velocityX, maxVelocity);\n        }\n\n        if (velocityChangeY == 0) {\n          // No rotation, the plane is flat\n          // On flat surface friction can only slow down, but not reverse movement\n          ball.velocityY = slow(ball.velocityY, frictionDeltaY);\n        } else {\n          ball.velocityY = ball.velocityY + velocityChangeY;\n          ball.velocityY =\n            ball.velocityY - Math.sign(velocityChangeY) * frictionDeltaY;\n          ball.velocityY = Math.minmax(ball.velocityY, maxVelocity);\n        }\n\n        // Preliminary next ball position, only becomes true if no hit occurs\n        // Used only for hit testing, does not mean that the ball will reach this position\n        ball.nextX = ball.x + ball.velocityX;\n        ball.nextY = ball.y + ball.velocityY;\n\n        if (debugMode) console.log(\"tick\", ball);\n\n        walls.forEach((wall, wi) => {\n          if (wall.horizontal) {\n            // Horizontal wall\n\n            if (\n              ball.nextY + ballSize / 2 >= wall.y - wallW / 2 &&\n              ball.nextY - ballSize / 2 <= wall.y + wallW / 2\n            ) {\n              // Ball got within the strip of the wall\n              // (not necessarily hit it, could be before or after)\n\n              const wallStart = {\n                x: wall.x,\n                y: wall.y\n              };\n              const wallEnd = {\n                x: wall.x + wall.length,\n                y: wall.y\n              };\n\n              if (\n                ball.nextX + ballSize / 2 >= wallStart.x - wallW / 2 &&\n                ball.nextX < wallStart.x\n              ) {\n                // Ball might hit the left cap of a horizontal wall\n                const distance = distance2D(wallStart, {\n                  x: ball.nextX,\n                  y: ball.nextY\n                });\n                if (distance < ballSize / 2 + wallW / 2) {\n                  if (debugMode && wi > 4)\n                    console.warn(\"too close h head\", distance, ball);\n\n                  // Ball hits the left cap of a horizontal wall\n                  const closest = closestItCanBe(wallStart, {\n                    x: ball.nextX,\n                    y: ball.nextY\n                  });\n                  const rolled = rollAroundCap(wallStart, {\n                    x: closest.x,\n                    y: closest.y,\n                    velocityX: ball.velocityX,\n                    velocityY: ball.velocityY\n                  });\n\n                  Object.assign(ball, rolled);\n                }\n              }\n\n              if (\n                ball.nextX - ballSize / 2 <= wallEnd.x + wallW / 2 &&\n                ball.nextX > wallEnd.x\n              ) {\n                // Ball might hit the right cap of a horizontal wall\n                const distance = distance2D(wallEnd, {\n                  x: ball.nextX,\n                  y: ball.nextY\n                });\n                if (distance < ballSize / 2 + wallW / 2) {\n                  if (debugMode && wi > 4)\n                    console.warn(\"too close h tail\", distance, ball);\n\n                  // Ball hits the right cap of a horizontal wall\n                  const closest = closestItCanBe(wallEnd, {\n                    x: ball.nextX,\n                    y: ball.nextY\n                  });\n                  const rolled = rollAroundCap(wallEnd, {\n                    x: closest.x,\n                    y: closest.y,\n                    velocityX: ball.velocityX,\n                    velocityY: ball.velocityY\n                  });\n\n                  Object.assign(ball, rolled);\n                }\n              }\n\n              if (ball.nextX >= wallStart.x && ball.nextX <= wallEnd.x) {\n                // The ball got inside the main body of the wall\n                if (ball.nextY < wall.y) {\n                  // Hit horizontal wall from top\n                  ball.nextY = wall.y - wallW / 2 - ballSize / 2;\n                } else {\n                  // Hit horizontal wall from bottom\n                  ball.nextY = wall.y + wallW / 2 + ballSize / 2;\n                }\n                ball.y = ball.nextY;\n                ball.velocityY = -ball.velocityY / 3;\n\n                if (debugMode && wi > 4)\n                  console.error(\"crossing h line, HIT\", ball);\n              }\n            }\n          } else {\n            // Vertical wall\n\n            if (\n              ball.nextX + ballSize / 2 >= wall.x - wallW / 2 &&\n              ball.nextX - ballSize / 2 <= wall.x + wallW / 2\n            ) {\n              // Ball got within the strip of the wall\n              // (not necessarily hit it, could be before or after)\n\n              const wallStart = {\n                x: wall.x,\n                y: wall.y\n              };\n              const wallEnd = {\n                x: wall.x,\n                y: wall.y + wall.length\n              };\n\n              if (\n                ball.nextY + ballSize / 2 >= wallStart.y - wallW / 2 &&\n                ball.nextY < wallStart.y\n              ) {\n                // Ball might hit the top cap of a horizontal wall\n                const distance = distance2D(wallStart, {\n                  x: ball.nextX,\n                  y: ball.nextY\n                });\n                if (distance < ballSize / 2 + wallW / 2) {\n                  if (debugMode && wi > 4)\n                    console.warn(\"too close v head\", distance, ball);\n\n                  // Ball hits the left cap of a horizontal wall\n                  const closest = closestItCanBe(wallStart, {\n                    x: ball.nextX,\n                    y: ball.nextY\n                  });\n                  const rolled = rollAroundCap(wallStart, {\n                    x: closest.x,\n                    y: closest.y,\n                    velocityX: ball.velocityX,\n                    velocityY: ball.velocityY\n                  });\n\n                  Object.assign(ball, rolled);\n                }\n              }\n\n              if (\n                ball.nextY - ballSize / 2 <= wallEnd.y + wallW / 2 &&\n                ball.nextY > wallEnd.y\n              ) {\n                // Ball might hit the bottom cap of a horizontal wall\n                const distance = distance2D(wallEnd, {\n                  x: ball.nextX,\n                  y: ball.nextY\n                });\n                if (distance < ballSize / 2 + wallW / 2) {\n                  if (debugMode && wi > 4)\n                    console.warn(\"too close v tail\", distance, ball);\n\n                  // Ball hits the right cap of a horizontal wall\n                  const closest = closestItCanBe(wallEnd, {\n                    x: ball.nextX,\n                    y: ball.nextY\n                  });\n                  const rolled = rollAroundCap(wallEnd, {\n                    x: closest.x,\n                    y: closest.y,\n                    velocityX: ball.velocityX,\n                    velocityY: ball.velocityY\n                  });\n\n                  Object.assign(ball, rolled);\n                }\n              }\n\n              if (ball.nextY >= wallStart.y && ball.nextY <= wallEnd.y) {\n                // The ball got inside the main body of the wall\n                if (ball.nextX < wall.x) {\n                  // Hit vertical wall from left\n                  ball.nextX = wall.x - wallW / 2 - ballSize / 2;\n                } else {\n                  // Hit vertical wall from right\n                  ball.nextX = wall.x + wallW / 2 + ballSize / 2;\n                }\n                ball.x = ball.nextX;\n                ball.velocityX = -ball.velocityX / 3;\n\n                if (debugMode && wi > 4)\n                  console.error(\"crossing v line, HIT\", ball);\n              }\n            }\n          }\n        });\n\n        // Detect is a ball fell into a hole\n        if (hardMode) {\n          holes.forEach((hole, hi) => {\n            const distance = distance2D(hole, {\n              x: ball.nextX,\n              y: ball.nextY\n            });\n\n            if (distance <= holeSize / 2) {\n              // The ball fell into a hole\n              holeElements[hi].style.backgroundColor = \"red\";\n              throw Error(\"The ball fell into a hole\");\n            }\n          });\n        }\n\n        // Adjust ball metadata\n        ball.x = ball.x + ball.velocityX;\n        ball.y = ball.y + ball.velocityY;\n      });\n\n      // Move balls to their new position on the UI\n      balls.forEach(({ x, y }, index) => {\n        ballElements[index].style.cssText = `left: ${x}px; top: ${y}px; `;\n      });\n    }\n\n    // Win detection\n    if (\n      balls.every(\n        (ball) => distance2D(ball, { x: 350 / 2, y: 315 / 2 }) < 65 / 2\n      )\n    ) {\n      noteElement.innerHTML = `Congrats, you did it!\n        ${!hardMode ? \"<p>Press H for hard mode</p>\" : \"\"}\n        <p>\n        </p>`;\n      noteElement.style.opacity = 1;\n      gameInProgress = false;\n    } else {\n      previousTimestamp = timestamp;\n      window.requestAnimationFrame(main);\n    }\n  } catch (error) {\n    if (error.message == \"The ball fell into a hole\") {\n      noteElement.innerHTML = `A ball fell into a black hole! Press space to reset the game.\n        <p>\n          Back to easy? Press E\n        </p>`;\n      noteElement.style.opacity = 1;\n      gameInProgress = false;\n    } else throw error;\n  }\n}\n\n</script>\n</body>\n</html>\n");
    }
    else if (req.url == "/dino") {
        res.write("\n    \n<html>\n\n<head>\n<title>T-Rex Game</title>\n<meta name=\"description\" content=\"Ripped T-Rex/Dino game of Chromium\">\n<meta property=\"og:title\" content=\"Play the hidden T-Rex Dinosaur game of Chromium .\">\n<meta property=\"og:type\" content=\"article\">\n<meta property=\"og:url\" content=\"http://www.thecodepost.org\">\n<meta property=\"og:image\" content=\"http://img.thecodepost.org/2015/01/trex.png\">\n<meta property=\"og:site_name\" content=\"The Code Post\">\n<meta property=\"og:description\" content=\"Google Chrome has a hidden T-Rex game only for offline mode. But now, you can enjoy it any time and on any device, but you gotta stay online!!!\">\n\n<meta name=\"twitter:card\" content=\"summary_large_image\">\n<meta name=\"twitter:site\" content=\"@thecodepost\">\n<meta name=\"twitter:creator\" content=\"@thecodepost\">\n<meta name=\"twitter:title\" content=\"Check out the cool hidden game from Google Chrome!\">\n<meta name=\"twitter:description\" content=\"Check out the cool hidden game from Google Chrome!\">\n<meta name=\"twitter:image:src\" content=\"http://img.thecodepost.org/2015/01/trex.png\">\n<script src=\"https://apis.google.com/js/platform.js\" async defer></script>\n\n\t<!--script type=\"text/javascript\" src=\"a.js\"></script-->\n\t<script type=\"text/javascript\">\n\tfunction hideClass(name) {\n       var myClasses = document.querySelectorAll(name),\n      i = 0,\n      l = myClasses.length;\n\n      for (i; i < l; i++) {\n        myClasses[i].style.display = 'none';\n      }\n\t}\n    // Copyright (c) 2014 The Chromium Authors. All rights reserved.\n    // Use of this source code is governed by a BSD-style license that can be\n    // found in the LICENSE file.\n    (function() {\n    'use strict';\n    /**\n    * T-Rex runner.\n    * @param {string} outerContainerId Outer containing element id.\n    * @param {object} opt_config\n    * @constructor\n    * @export\n    */\n    function Runner(outerContainerId, opt_config) {\n    // Singleton\n    if (Runner.instance_) {\n    return Runner.instance_;\n    }\n    Runner.instance_ = this;\n    this.outerContainerEl = document.querySelector(outerContainerId);\n    this.containerEl = null;\n    this.detailsButton = this.outerContainerEl.querySelector('#details-button');\n    this.config = opt_config || Runner.config;\n    this.dimensions = Runner.defaultDimensions;\n    this.canvas = null;\n    this.canvasCtx = null;\n    this.tRex = null;\n    this.distanceMeter = null;\n    this.distanceRan = 0;\n    this.highestScore = 0;\n    this.time = 0;\n    this.runningTime = 0;\n    this.msPerFrame = 1000 / FPS;\n    this.currentSpeed = this.config.SPEED;\n    this.obstacles = [];\n    this.started = false;\n    this.activated = false;\n    this.crashed = false;\n    this.paused = false;\n    this.resizeTimerId_ = null;\n    this.playCount = 0;\n    // Sound FX.\n    this.audioBuffer = null;\n    this.soundFx = {};\n    // Global web audio context for playing sounds.\n    this.audioContext = null;\n    // Images.\n    this.images = {};\n    this.imagesLoaded = 0;\n    this.loadImages();\n    }\n    window['Runner'] = Runner;\n    /**\n    * Default game width.\n    * @const\n    */\n    var DEFAULT_WIDTH = 600;\n    /**\n    * Frames per second.\n    * @const\n    */\n    var FPS = 60;\n    /** @const */\n    var IS_HIDPI = window.devicePixelRatio > 1;\n    /** @const */\n    var IS_IOS =\n    window.navigator.userAgent.indexOf('UIWebViewForStaticFileContent') > -1;\n    /** @const */\n    var IS_MOBILE = window.navigator.userAgent.indexOf('Mobi') > -1 || IS_IOS;\n    /** @const */\n    var IS_TOUCH_ENABLED = 'ontouchstart' in window;\n    /**\n    * Default game configuration.\n    * @enum {number}\n    */\n    Runner.config = {\n    ACCELERATION: 0.001,\n    BG_CLOUD_SPEED: 0.2,\n    BOTTOM_PAD: 10,\n    CLEAR_TIME: 3000,\n    CLOUD_FREQUENCY: 0.5,\n    GAMEOVER_CLEAR_TIME: 750,\n    GAP_COEFFICIENT: 0.6,\n    GRAVITY: 0.6,\n    INITIAL_JUMP_VELOCITY: 12,\n    MAX_CLOUDS: 6,\n    MAX_OBSTACLE_LENGTH: 3,\n    MAX_SPEED: 12,\n    MIN_JUMP_HEIGHT: 35,\n    MOBILE_SPEED_COEFFICIENT: 1.2,\n    RESOURCE_TEMPLATE_ID: 'audio-resources',\n    SPEED: 6,\n    SPEED_DROP_COEFFICIENT: 3\n    };\n    /**\n    * Default dimensions.\n    * @enum {string}\n    */\n    Runner.defaultDimensions = {\n    WIDTH: DEFAULT_WIDTH,\n    HEIGHT: 150\n    };\n    /**\n    * CSS class names.\n    * @enum {string}\n    */\n    Runner.classes = {\n    CANVAS: 'runner-canvas',\n    CONTAINER: 'runner-container',\n    CRASHED: 'crashed',\n    ICON: 'icon-offline',\n    TOUCH_CONTROLLER: 'controller'\n    };\n    /**\n    * Image source urls.\n    * @enum {array.<object>}\n    */\n    Runner.imageSources = {\n    LDPI: [\n    {name: 'CACTUS_LARGE', id: '1x-obstacle-large'},\n    {name: 'CACTUS_SMALL', id: '1x-obstacle-small'},\n    {name: 'CLOUD', id: '1x-cloud'},\n    {name: 'HORIZON', id: '1x-horizon'},\n    {name: 'RESTART', id: '1x-restart'},\n    {name: 'TEXT_SPRITE', id: '1x-text'},\n    {name: 'TREX', id: '1x-trex'}\n    ],\n    HDPI: [\n    {name: 'CACTUS_LARGE', id: '2x-obstacle-large'},\n    {name: 'CACTUS_SMALL', id: '2x-obstacle-small'},\n    {name: 'CLOUD', id: '2x-cloud'},\n    {name: 'HORIZON', id: '2x-horizon'},\n    {name: 'RESTART', id: '2x-restart'},\n    {name: 'TEXT_SPRITE', id: '2x-text'},\n    {name: 'TREX', id: '2x-trex'}\n    ]\n    };\n    /**\n    * Sound FX. Reference to the ID of the audio tag on interstitial page.\n    * @enum {string}\n    */\n    Runner.sounds = {\n    BUTTON_PRESS: 'offline-sound-press',\n    HIT: 'offline-sound-hit',\n    SCORE: 'offline-sound-reached'\n    };\n    /**\n    * Key code mapping.\n    * @enum {object}\n    */\n    Runner.keycodes = {\n    JUMP: {'38': 1, '32': 1}, // Up, spacebar\n    DUCK: {'40': 1}, // Down\n    RESTART: {'13': 1} // Enter\n    };\n    /**\n    * Runner event names.\n    * @enum {string}\n    */\n    Runner.events = {\n    ANIM_END: 'webkitAnimationEnd',\n    CLICK: 'click',\n    KEYDOWN: 'keydown',\n    KEYUP: 'keyup',\n    MOUSEDOWN: 'mousedown',\n    MOUSEUP: 'mouseup',\n    RESIZE: 'resize',\n    TOUCHEND: 'touchend',\n    TOUCHSTART: 'touchstart',\n    VISIBILITY: 'visibilitychange',\n    BLUR: 'blur',\n    FOCUS: 'focus',\n    LOAD: 'load'\n    };\n    Runner.prototype = {\n    /**\n    * Setting individual settings for debugging.\n    * @param {string} setting\n    * @param {*} value\n    */\n    updateConfigSetting: function(setting, value) {\n    if (setting in this.config && value != undefined) {\n    this.config[setting] = value;\n    switch (setting) {\n    case 'GRAVITY':\n    case 'MIN_JUMP_HEIGHT':\n    case 'SPEED_DROP_COEFFICIENT':\n    this.tRex.config[setting] = value;\n    break;\n    case 'INITIAL_JUMP_VELOCITY':\n    this.tRex.setJumpVelocity(value);\n    break;\n    case 'SPEED':\n    this.setSpeed(value);\n    break;\n    }\n    }\n    },\n    /**\n    * Load and cache the image assets from the page.\n    */\n    loadImages: function() {\n    var imageSources = IS_HIDPI ? Runner.imageSources.HDPI :\n    Runner.imageSources.LDPI;\n    var numImages = imageSources.length;\n    for (var i = numImages - 1; i >= 0; i--) {\n    var imgSource = imageSources[i];\n    this.images[imgSource.name] = document.getElementById(imgSource.id);\n    }\n    this.init();\n    },\n    /**\n    * Load and decode base 64 encoded sounds.\n    */\n    loadSounds: function() {\n    if (!IS_IOS) {\n    this.audioContext = new AudioContext();\n    var resourceTemplate =\n    document.getElementById(this.config.RESOURCE_TEMPLATE_ID).content;\n    for (var sound in Runner.sounds) {\n    var soundSrc =\n    resourceTemplate.getElementById(Runner.sounds[sound]).src;\n    soundSrc = soundSrc.substr(soundSrc.indexOf(',') + 1);\n    var buffer = decodeBase64ToArrayBuffer(soundSrc);\n    // Async, so no guarantee of order in array.\n    this.audioContext.decodeAudioData(buffer, function(index, audioData) {\n    this.soundFx[index] = audioData;\n    }.bind(this, sound));\n    }\n    }\n    },\n    /**\n    * Sets the game speed. Adjust the speed accordingly if on a smaller screen.\n    * @param {number} opt_speed\n    */\n    setSpeed: function(opt_speed) {\n    var speed = opt_speed || this.currentSpeed;\n    // Reduce the speed on smaller mobile screens.\n    if (this.dimensions.WIDTH < DEFAULT_WIDTH) {\n    var mobileSpeed = speed * this.dimensions.WIDTH / DEFAULT_WIDTH *\n    this.config.MOBILE_SPEED_COEFFICIENT;\n    this.currentSpeed = mobileSpeed > speed ? speed : mobileSpeed;\n    } else if (opt_speed) {\n    this.currentSpeed = opt_speed;\n    }\n    },\n    /**\n    * Game initialiser.\n    */\n    init: function() {\n    // Hide the static icon.\n    //document.querySelector('.' + Runner.classes.ICON).style.visibility = 'hidden';\n    this.adjustDimensions();\n    this.setSpeed();\n    this.containerEl = document.createElement('div');\n    this.containerEl.className = Runner.classes.CONTAINER;\n    // Player canvas container.\n    this.canvas = createCanvas(this.containerEl, this.dimensions.WIDTH,\n    this.dimensions.HEIGHT, Runner.classes.PLAYER);\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.canvasCtx.fillStyle = '#f7f7f7';\n    this.canvasCtx.fill();\n    Runner.updateCanvasScaling(this.canvas);\n    // Horizon contains clouds, obstacles and the ground.\n    this.horizon = new Horizon(this.canvas, this.images, this.dimensions,\n    this.config.GAP_COEFFICIENT);\n    // Distance meter\n    this.distanceMeter = new DistanceMeter(this.canvas,\n    this.images.TEXT_SPRITE, this.dimensions.WIDTH);\n    // Draw t-rex\n    this.tRex = new Trex(this.canvas, this.images.TREX);\n    this.outerContainerEl.appendChild(this.containerEl);\n    if (IS_MOBILE) {\n    this.createTouchController();\n    }\n    this.startListening();\n    this.update();\n    window.addEventListener(Runner.events.RESIZE,\n    this.debounceResize.bind(this));\n    },\n    /**\n    * Create the touch controller. A div that covers whole screen.\n    */\n    createTouchController: function() {\n    this.touchController = document.createElement('div');\n    this.touchController.className = Runner.classes.TOUCH_CONTROLLER;\n    },\n    /**\n    * Debounce the resize event.\n    */\n    debounceResize: function() {\n    if (!this.resizeTimerId_) {\n    this.resizeTimerId_ =\n    setInterval(this.adjustDimensions.bind(this), 250);\n    }\n    },\n    /**\n    * Adjust game space dimensions on resize.\n    */\n    adjustDimensions: function() {\n    clearInterval(this.resizeTimerId_);\n    this.resizeTimerId_ = null;\n    var boxStyles = window.getComputedStyle(this.outerContainerEl);\n    var padding = Number(boxStyles.paddingLeft.substr(0,\n    boxStyles.paddingLeft.length - 2));\n    this.dimensions.WIDTH = this.outerContainerEl.offsetWidth - padding * 2;\n    // Redraw the elements back onto the canvas.\n    if (this.canvas) {\n    this.canvas.width = this.dimensions.WIDTH;\n    this.canvas.height = this.dimensions.HEIGHT;\n    Runner.updateCanvasScaling(this.canvas);\n    this.distanceMeter.calcXPos(this.dimensions.WIDTH);\n    this.clearCanvas();\n    this.horizon.update(0, 0, true);\n    this.tRex.update(0);\n    // Outer container and distance meter.\n    if (this.activated || this.crashed) {\n    this.containerEl.style.width = this.dimensions.WIDTH + 'px';\n    this.containerEl.style.height = this.dimensions.HEIGHT + 'px';\n    this.distanceMeter.update(0, Math.ceil(this.distanceRan));\n    this.stop();\n    } else {\n    this.tRex.draw(0, 0);\n    }\n    // Game over panel.\n    if (this.crashed && this.gameOverPanel) {\n    this.gameOverPanel.updateDimensions(this.dimensions.WIDTH);\n    this.gameOverPanel.draw();\n    }\n    }\n    },\n    /**\n    * Play the game intro.\n    * Canvas container width expands out to the full width.\n    */\n    playIntro: function() {\n    if (!this.started && !this.crashed) {\n    this.playingIntro = true;\n    this.tRex.playingIntro = true;\n    // CSS animation definition.\n    var keyframes = '@-webkit-keyframes intro { ' +\n    'from { width:' + Trex.config.WIDTH + 'px }' +\n    'to { width: ' + this.dimensions.WIDTH + 'px }' +\n    '}';\n    document.styleSheets[0].insertRule(keyframes, 0);\n    this.containerEl.addEventListener(Runner.events.ANIM_END,\n    this.startGame.bind(this));\n    this.containerEl.style.webkitAnimation = 'intro .4s ease-out 1 both';\n    this.containerEl.style.width = this.dimensions.WIDTH + 'px';\n    if (this.touchController) {\n    this.outerContainerEl.appendChild(this.touchController);\n    }\n    this.activated = true;\n    this.started = true;\n    } else if (this.crashed) {\n    this.restart();\n    }\n    },\n    /**\n    * Update the game status to started.\n    */\n    startGame: function() {\n    this.runningTime = 0;\n    this.playingIntro = false;\n    this.tRex.playingIntro = false;\n    this.containerEl.style.webkitAnimation = '';\n    this.playCount++;\n    // Handle tabbing off the page. Pause the current game.\n    window.addEventListener(Runner.events.VISIBILITY,\n    this.onVisibilityChange.bind(this));\n    window.addEventListener(Runner.events.BLUR,\n    this.onVisibilityChange.bind(this));\n    window.addEventListener(Runner.events.FOCUS,\n    this.onVisibilityChange.bind(this));\n    },\n    clearCanvas: function() {\n    this.canvasCtx.clearRect(0, 0, this.dimensions.WIDTH,\n    this.dimensions.HEIGHT);\n    },\n    /**\n    * Update the game frame.\n    */\n    update: function() {\n    this.drawPending = false;\n    var now = getTimeStamp();\n    var deltaTime = now - (this.time || now);\n    this.time = now;\n    if (this.activated) {\n    this.clearCanvas();\n    if (this.tRex.jumping) {\n    this.tRex.updateJump(deltaTime, this.config);\n    }\n    this.runningTime += deltaTime;\n    var hasObstacles = this.runningTime > this.config.CLEAR_TIME;\n    // First jump triggers the intro.\n    if (this.tRex.jumpCount == 1 && !this.playingIntro) {\n    this.playIntro();\n    }\n    // The horizon doesn't move until the intro is over.\n    if (this.playingIntro) {\n    this.horizon.update(0, this.currentSpeed, hasObstacles);\n    } else {\n    deltaTime = !this.started ? 0 : deltaTime;\n    this.horizon.update(deltaTime, this.currentSpeed, hasObstacles);\n    }\n    // Check for collisions.\n    var collision = hasObstacles &&\n    checkForCollision(this.horizon.obstacles[0], this.tRex);\n    if (!collision) {\n    this.distanceRan += this.currentSpeed * deltaTime / this.msPerFrame;\n    if (this.currentSpeed < this.config.MAX_SPEED) {\n    this.currentSpeed += this.config.ACCELERATION;\n    }\n    } else {\n    this.gameOver();\n    }\n    if (this.distanceMeter.getActualDistance(this.distanceRan) >\n    this.distanceMeter.maxScore) {\n    this.distanceRan = 0;\n    }\n    var playAcheivementSound = this.distanceMeter.update(deltaTime,\n    Math.ceil(this.distanceRan));\n    if (playAcheivementSound) {\n    this.playSound(this.soundFx.SCORE);\n    }\n    }\n    if (!this.crashed) {\n    this.tRex.update(deltaTime);\n    this.raq();\n    }\n    },\n    /**\n    * Event handler.\n    */\n    handleEvent: function(e) {\n    return (function(evtType, events) {\n    switch (evtType) {\n    case events.KEYDOWN:\n    case events.TOUCHSTART:\n    case events.MOUSEDOWN:\n    this.onKeyDown(e);\n    break;\n    case events.KEYUP:\n    case events.TOUCHEND:\n    case events.MOUSEUP:\n    this.onKeyUp(e);\n    break;\n    }\n    }.bind(this))(e.type, Runner.events);\n    },\n    /**\n    * Bind relevant key / mouse / touch listeners.\n    */\n    startListening: function() {\n    // Keys.\n    document.addEventListener(Runner.events.KEYDOWN, this);\n    document.addEventListener(Runner.events.KEYUP, this);\n    if (IS_MOBILE) {\n    // Mobile only touch devices.\n    this.touchController.addEventListener(Runner.events.TOUCHSTART, this);\n    this.touchController.addEventListener(Runner.events.TOUCHEND, this);\n    this.containerEl.addEventListener(Runner.events.TOUCHSTART, this);\n    } else {\n    // Mouse.\n    document.addEventListener(Runner.events.MOUSEDOWN, this);\n    document.addEventListener(Runner.events.MOUSEUP, this);\n    }\n    },\n    /**\n    * Remove all listeners.\n    */\n    stopListening: function() {\n    document.removeEventListener(Runner.events.KEYDOWN, this);\n    document.removeEventListener(Runner.events.KEYUP, this);\n    if (IS_MOBILE) {\n    this.touchController.removeEventListener(Runner.events.TOUCHSTART, this);\n    this.touchController.removeEventListener(Runner.events.TOUCHEND, this);\n    this.containerEl.removeEventListener(Runner.events.TOUCHSTART, this);\n    } else {\n    document.removeEventListener(Runner.events.MOUSEDOWN, this);\n    document.removeEventListener(Runner.events.MOUSEUP, this);\n    }\n    },\n    /**\n    * Process keydown.\n    * @param {Event} e\n    */\n    onKeyDown: function(e) {\n    if (e.target != this.detailsButton) {\n    if (!this.crashed && (Runner.keycodes.JUMP[String(e.keyCode)] ||\n    e.type == Runner.events.TOUCHSTART)) {\n    if (!this.activated) {\n    this.loadSounds();\n    this.activated = true;\n    }\n    if (!this.tRex.jumping) {\n    this.playSound(this.soundFx.BUTTON_PRESS);\n    this.tRex.startJump();\n    }\n    }\n    if (this.crashed && e.type == Runner.events.TOUCHSTART &&\n    e.currentTarget == this.containerEl) {\n    this.restart();\n    }\n    }\n    // Speed drop, activated only when jump key is not pressed.\n    if (Runner.keycodes.DUCK[e.keyCode] && this.tRex.jumping) {\n    e.preventDefault();\n    this.tRex.setSpeedDrop();\n    }\n    },\n    /**\n    * Process key up.\n    * @param {Event} e\n    */\n    onKeyUp: function(e) {\n    var keyCode = String(e.keyCode);\n    var isjumpKey = Runner.keycodes.JUMP[keyCode] ||\n    e.type == Runner.events.TOUCHEND ||\n    e.type == Runner.events.MOUSEDOWN;\n    if (this.isRunning() && isjumpKey) {\n    this.tRex.endJump();\n    } else if (Runner.keycodes.DUCK[keyCode]) {\n    this.tRex.speedDrop = false;\n    } else if (this.crashed) {\n    // Check that enough time has elapsed before allowing jump key to restart.\n    var deltaTime = getTimeStamp() - this.time;\n    if (Runner.keycodes.RESTART[keyCode] ||\n    (e.type == Runner.events.MOUSEUP && e.target == this.canvas) ||\n    (deltaTime >= this.config.GAMEOVER_CLEAR_TIME &&\n    Runner.keycodes.JUMP[keyCode])) {\n    this.restart();\n    }\n    } else if (this.paused && isjumpKey) {\n    this.play();\n    }\n    },\n    /**\n    * RequestAnimationFrame wrapper.\n    */\n    raq: function() {\n    if (!this.drawPending) {\n    this.drawPending = true;\n    this.raqId = requestAnimationFrame(this.update.bind(this));\n    }\n    },\n    /**\n    * Whether the game is running.\n    * @return {boolean}\n    */\n    isRunning: function() {\n    return !!this.raqId;\n    },\n    /**\n    * Game over state.\n    */\n    gameOver: function() {\n    this.playSound(this.soundFx.HIT);\n    vibrate(200);\n    this.stop();\n    this.crashed = true;\n    this.distanceMeter.acheivement = false;\n    this.tRex.update(100, Trex.status.CRASHED);\n    // Game over panel.\n    if (!this.gameOverPanel) {\n    this.gameOverPanel = new GameOverPanel(this.canvas,\n    this.images.TEXT_SPRITE, this.images.RESTART,\n    this.dimensions);\n    } else {\n    this.gameOverPanel.draw();\n    }\n    // Update the high score.\n    if (this.distanceRan > this.highestScore) {\n    this.highestScore = Math.ceil(this.distanceRan);\n    this.distanceMeter.setHighScore(this.highestScore);\n    }\n    // Reset the time clock.\n    this.time = getTimeStamp();\n    },\n    stop: function() {\n    this.activated = false;\n    this.paused = true;\n    cancelAnimationFrame(this.raqId);\n    this.raqId = 0;\n    },\n    play: function() {\n    if (!this.crashed) {\n    this.activated = true;\n    this.paused = false;\n    this.tRex.update(0, Trex.status.RUNNING);\n    this.time = getTimeStamp();\n    this.update();\n    }\n    },\n    restart: function() {\n    if (!this.raqId) {\n    this.playCount++;\n    this.runningTime = 0;\n    this.activated = true;\n    this.crashed = false;\n    this.distanceRan = 0;\n    this.setSpeed(this.config.SPEED);\n    this.time = getTimeStamp();\n    this.containerEl.classList.remove(Runner.classes.CRASHED);\n    this.clearCanvas();\n    this.distanceMeter.reset(this.highestScore);\n    this.horizon.reset();\n    this.tRex.reset();\n    this.playSound(this.soundFx.BUTTON_PRESS);\n    this.update();\n    }\n    },\n    /**\n    * Pause the game if the tab is not in focus.\n    */\n    onVisibilityChange: function(e) {\n    if (document.hidden || document.webkitHidden || e.type == 'blur') {\n    this.stop();\n    } else {\n    this.play();\n    }\n    },\n    /**\n    * Play a sound.\n    * @param {SoundBuffer} soundBuffer\n    */\n    playSound: function(soundBuffer) {\n    if (soundBuffer) {\n    var sourceNode = this.audioContext.createBufferSource();\n    sourceNode.buffer = soundBuffer;\n    sourceNode.connect(this.audioContext.destination);\n    sourceNode.start(0);\n    }\n    }\n    };\n    /**\n    * Updates the canvas size taking into\n    * account the backing store pixel ratio and\n    * the device pixel ratio.\n    *\n    * See article by Paul Lewis:\n    * https://www.html5rocks.com/en/tutorials/canvas/hidpi/\n    *\n    * @param {HTMLCanvasElement} canvas\n    * @param {number} opt_width\n    * @param {number} opt_height\n    * @return {boolean} Whether the canvas was scaled.\n    */\n    Runner.updateCanvasScaling = function(canvas, opt_width, opt_height) {\n    var context = canvas.getContext('2d');\n    // Query the various pixel ratios\n    var devicePixelRatio = Math.floor(window.devicePixelRatio) || 1;\n    var backingStoreRatio = Math.floor(context.webkitBackingStorePixelRatio) || 1;\n    var ratio = devicePixelRatio / backingStoreRatio;\n    // Upscale the canvas if the two ratios don't match\n    if (devicePixelRatio !== backingStoreRatio) {\n    var oldWidth = opt_width || canvas.width;\n    var oldHeight = opt_height || canvas.height;\n    canvas.width = oldWidth * ratio;\n    canvas.height = oldHeight * ratio;\n    canvas.style.width = oldWidth + 'px';\n    canvas.style.height = oldHeight + 'px';\n    // Scale the context to counter the fact that we've manually scaled\n    // our canvas element.\n    context.scale(ratio, ratio);\n    return true;\n    }\n    return false;\n    };\n    /**\n    * Get random number.\n    * @param {number} min\n    * @param {number} max\n    * @param {number}\n    */\n    function getRandomNum(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    /**\n    * Vibrate on mobile devices.\n    * @param {number} duration Duration of the vibration in milliseconds.\n    */\n    function vibrate(duration) {\n    if (IS_MOBILE && window.navigator.vibrate) {\n    window.navigator.vibrate(duration);\n    }\n    }\n    /**\n    * Create canvas element.\n    * @param {HTMLElement} container Element to append canvas to.\n    * @param {number} width\n    * @param {number} height\n    * @param {string} opt_classname\n    * @return {HTMLCanvasElement}\n    */\n    function createCanvas(container, width, height, opt_classname) {\n    var canvas = document.createElement('canvas');\n    canvas.className = opt_classname ? Runner.classes.CANVAS + ' ' +\n    opt_classname : Runner.classes.CANVAS;\n    canvas.width = width;\n    canvas.height = height;\n    container.appendChild(canvas);\n    return canvas;\n    }\n    /**\n    * Decodes the base 64 audio to ArrayBuffer used by Web Audio.\n    * @param {string} base64String\n    */\n    function decodeBase64ToArrayBuffer(base64String) {\n    var len = (base64String.length / 4) * 3;\n    var str = atob(base64String);\n    var arrayBuffer = new ArrayBuffer(len);\n    var bytes = new Uint8Array(arrayBuffer);\n    for (var i = 0; i < len; i++) {\n    bytes[i] = str.charCodeAt(i);\n    }\n    return bytes.buffer;\n    }\n    /**\n    * Return the current timestamp.\n    * @return {number}\n    */\n    function getTimeStamp() {\n    return IS_IOS ? new Date().getTime() : performance.now();\n    }\n    //******************************************************************************\n    /**\n    * Game over panel.\n    * @param {!HTMLCanvasElement} canvas\n    * @param {!HTMLImage} textSprite\n    * @param {!HTMLImage} restartImg\n    * @param {!Object} dimensions Canvas dimensions.\n    * @constructor\n    */\n    function GameOverPanel(canvas, textSprite, restartImg, dimensions) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.canvasDimensions = dimensions;\n    this.textSprite = textSprite;\n    this.restartImg = restartImg;\n    this.draw();\n    };\n    /**\n    * Dimensions used in the panel.\n    * @enum {number}\n    */\n    GameOverPanel.dimensions = {\n    TEXT_X: 0,\n    TEXT_Y: 13,\n    TEXT_WIDTH: 191,\n    TEXT_HEIGHT: 11,\n    RESTART_WIDTH: 36,\n    RESTART_HEIGHT: 32\n    };\n    GameOverPanel.prototype = {\n    /**\n    * Update the panel dimensions.\n    * @param {number} width New canvas width.\n    * @param {number} opt_height Optional new canvas height.\n    */\n    updateDimensions: function(width, opt_height) {\n    this.canvasDimensions.WIDTH = width;\n    if (opt_height) {\n    this.canvasDimensions.HEIGHT = opt_height;\n    }\n    },\n    /**\n    * Draw the panel.\n    */\n    draw: function() {\n    var dimensions = GameOverPanel.dimensions;\n    var centerX = this.canvasDimensions.WIDTH / 2;\n    // Game over text.\n    var textSourceX = dimensions.TEXT_X;\n    var textSourceY = dimensions.TEXT_Y;\n    var textSourceWidth = dimensions.TEXT_WIDTH;\n    var textSourceHeight = dimensions.TEXT_HEIGHT;\n    var textTargetX = Math.round(centerX - (dimensions.TEXT_WIDTH / 2));\n    var textTargetY = Math.round((this.canvasDimensions.HEIGHT - 25) / 3);\n    var textTargetWidth = dimensions.TEXT_WIDTH;\n    var textTargetHeight = dimensions.TEXT_HEIGHT;\n    var restartSourceWidth = dimensions.RESTART_WIDTH;\n    var restartSourceHeight = dimensions.RESTART_HEIGHT;\n    var restartTargetX = centerX - (dimensions.RESTART_WIDTH / 2);\n    var restartTargetY = this.canvasDimensions.HEIGHT / 2;\n    if (IS_HIDPI) {\n    textSourceY *= 2;\n    textSourceX *= 2;\n    textSourceWidth *= 2;\n    textSourceHeight *= 2;\n    restartSourceWidth *= 2;\n    restartSourceHeight *= 2;\n    }\n    // Game over text from sprite.\n    this.canvasCtx.drawImage(this.textSprite,\n    textSourceX, textSourceY, textSourceWidth, textSourceHeight,\n    textTargetX, textTargetY, textTargetWidth, textTargetHeight);\n    // Restart button.\n    this.canvasCtx.drawImage(this.restartImg, 0, 0,\n    restartSourceWidth, restartSourceHeight,\n    restartTargetX, restartTargetY, dimensions.RESTART_WIDTH,\n    dimensions.RESTART_HEIGHT);\n    }\n    };\n    //******************************************************************************\n    /**\n    * Check for a collision.\n    * @param {!Obstacle} obstacle\n    * @param {!Trex} tRex T-rex object.\n    * @param {HTMLCanvasContext} opt_canvasCtx Optional canvas context for drawing\n    * collision boxes.\n    * @return {Array.<CollisionBox>}\n    */\n    function checkForCollision(obstacle, tRex, opt_canvasCtx) {\n    var obstacleBoxXPos = Runner.defaultDimensions.WIDTH + obstacle.xPos;\n    // Adjustments are made to the bounding box as there is a 1 pixel white\n    // border around the t-rex and obstacles.\n    var tRexBox = new CollisionBox(\n    tRex.xPos + 1,\n    tRex.yPos + 1,\n    tRex.config.WIDTH - 2,\n    tRex.config.HEIGHT - 2);\n    var obstacleBox = new CollisionBox(\n    obstacle.xPos + 1,\n    obstacle.yPos + 1,\n    obstacle.typeConfig.width * obstacle.size - 2,\n    obstacle.typeConfig.height - 2);\n    // Debug outer box\n    if (opt_canvasCtx) {\n    drawCollisionBoxes(opt_canvasCtx, tRexBox, obstacleBox);\n    }\n    // Simple outer bounds check.\n    if (boxCompare(tRexBox, obstacleBox)) {\n    var collisionBoxes = obstacle.collisionBoxes;\n    var tRexCollisionBoxes = Trex.collisionBoxes;\n    // Detailed axis aligned box check.\n    for (var t = 0; t < tRexCollisionBoxes.length; t++) {\n    for (var i = 0; i < collisionBoxes.length; i++) {\n    // Adjust the box to actual positions.\n    var adjTrexBox =\n    createAdjustedCollisionBox(tRexCollisionBoxes[t], tRexBox);\n    var adjObstacleBox =\n    createAdjustedCollisionBox(collisionBoxes[i], obstacleBox);\n    var crashed = boxCompare(adjTrexBox, adjObstacleBox);\n    // Draw boxes for debug.\n    if (opt_canvasCtx) {\n    drawCollisionBoxes(opt_canvasCtx, adjTrexBox, adjObstacleBox);\n    }\n    if (crashed) {\n    return [adjTrexBox, adjObstacleBox];\n    }\n    }\n    }\n    }\n    return false;\n    };\n    /**\n    * Adjust the collision box.\n    * @param {!CollisionBox} box The original box.\n    * @param {!CollisionBox} adjustment Adjustment box.\n    * @return {CollisionBox} The adjusted collision box object.\n    */\n    function createAdjustedCollisionBox(box, adjustment) {\n    return new CollisionBox(\n    box.x + adjustment.x,\n    box.y + adjustment.y,\n    box.width,\n    box.height);\n    };\n    /**\n    * Draw the collision boxes for debug.\n    */\n    function drawCollisionBoxes(canvasCtx, tRexBox, obstacleBox) {\n    canvasCtx.save();\n    canvasCtx.strokeStyle = '#f00';\n    canvasCtx.strokeRect(tRexBox.x, tRexBox.y,\n    tRexBox.width, tRexBox.height);\n    canvasCtx.strokeStyle = '#0f0';\n    canvasCtx.strokeRect(obstacleBox.x, obstacleBox.y,\n    obstacleBox.width, obstacleBox.height);\n    canvasCtx.restore();\n    };\n    /**\n    * Compare two collision boxes for a collision.\n    * @param {CollisionBox} tRexBox\n    * @param {CollisionBox} obstacleBox\n    * @return {boolean} Whether the boxes intersected.\n    */\n    function boxCompare(tRexBox, obstacleBox) {\n    var crashed = false;\n    var tRexBoxX = tRexBox.x;\n    var tRexBoxY = tRexBox.y;\n    var obstacleBoxX = obstacleBox.x;\n    var obstacleBoxY = obstacleBox.y;\n    // Axis-Aligned Bounding Box method.\n    if (tRexBox.x < obstacleBoxX + obstacleBox.width &&\n    tRexBox.x + tRexBox.width > obstacleBoxX &&\n    tRexBox.y < obstacleBox.y + obstacleBox.height &&\n    tRexBox.height + tRexBox.y > obstacleBox.y) {\n    crashed = true;\n    }\n    return crashed;\n    };\n    //******************************************************************************\n    /**\n    * Collision box object.\n    * @param {number} x X position.\n    * @param {number} y Y Position.\n    * @param {number} w Width.\n    * @param {number} h Height.\n    */\n    function CollisionBox(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    };\n    //******************************************************************************\n    /**\n    * Obstacle.\n    * @param {HTMLCanvasCtx} canvasCtx\n    * @param {Obstacle.type} type\n    * @param {image} obstacleImg Image sprite.\n    * @param {Object} dimensions\n    * @param {number} gapCoefficient Mutipler in determining the gap.\n    * @param {number} speed\n    */\n    function Obstacle(canvasCtx, type, obstacleImg, dimensions,\n    gapCoefficient, speed) {\n    this.canvasCtx = canvasCtx;\n    this.image = obstacleImg;\n    this.typeConfig = type;\n    this.gapCoefficient = gapCoefficient;\n    this.size = getRandomNum(1, Obstacle.MAX_OBSTACLE_LENGTH);\n    this.dimensions = dimensions;\n    this.remove = false;\n    this.xPos = 0;\n    this.yPos = this.typeConfig.yPos;\n    this.width = 0;\n    this.collisionBoxes = [];\n    this.gap = 0;\n    this.init(speed);\n    };\n    /**\n    * Coefficient for calculating the maximum gap.\n    * @const\n    */\n    Obstacle.MAX_GAP_COEFFICIENT = 1.5;\n    /**\n    * Maximum obstacle grouping count.\n    * @const\n    */\n    Obstacle.MAX_OBSTACLE_LENGTH = 3,\n    Obstacle.prototype = {\n    /**\n    * Initialise the DOM for the obstacle.\n    * @param {number} speed\n    */\n    init: function(speed) {\n    this.cloneCollisionBoxes();\n    // Only allow sizing if we're at the right speed.\n    if (this.size > 1 && this.typeConfig.multipleSpeed > speed) {\n    this.size = 1;\n    }\n    this.width = this.typeConfig.width * this.size;\n    this.xPos = this.dimensions.WIDTH - this.width;\n    this.draw();\n    // Make collision box adjustments,\n    // Central box is adjusted to the size as one box.\n    // ____ ______ ________\n    // _| |-| _| |-| _| |-|\n    // | |<->| | | |<--->| | | |<----->| |\n    // | | 1 | | | | 2 | | | | 3 | |\n    // |_|___|_| |_|_____|_| |_|_______|_|\n    //\n    if (this.size > 1) {\n    this.collisionBoxes[1].width = this.width - this.collisionBoxes[0].width -\n    this.collisionBoxes[2].width;\n    this.collisionBoxes[2].x = this.width - this.collisionBoxes[2].width;\n    }\n    this.gap = this.getGap(this.gapCoefficient, speed);\n    },\n    /**\n    * Draw and crop based on size.\n    */\n    draw: function() {\n    var sourceWidth = this.typeConfig.width;\n    var sourceHeight = this.typeConfig.height;\n    if (IS_HIDPI) {\n    sourceWidth = sourceWidth * 2;\n    sourceHeight = sourceHeight * 2;\n    }\n    // Sprite\n    var sourceX = (sourceWidth * this.size) * (0.5 * (this.size - 1));\n    this.canvasCtx.drawImage(this.image,\n    sourceX, 0,\n    sourceWidth * this.size, sourceHeight,\n    this.xPos, this.yPos,\n    this.typeConfig.width * this.size, this.typeConfig.height);\n    },\n    /**\n    * Obstacle frame update.\n    * @param {number} deltaTime\n    * @param {number} speed\n    */\n    update: function(deltaTime, speed) {\n    if (!this.remove) {\n    this.xPos -= Math.floor((speed * FPS / 1000) * deltaTime);\n    this.draw();\n    if (!this.isVisible()) {\n    this.remove = true;\n    }\n    }\n    },\n    /**\n    * Calculate a random gap size.\n    * - Minimum gap gets wider as speed increses\n    * @param {number} gapCoefficient\n    * @param {number} speed\n    * @return {number} The gap size.\n    */\n    getGap: function(gapCoefficient, speed) {\n    var minGap = Math.round(this.width * speed +\n    this.typeConfig.minGap * gapCoefficient);\n    var maxGap = Math.round(minGap * Obstacle.MAX_GAP_COEFFICIENT);\n    return getRandomNum(minGap, maxGap);\n    },\n    /**\n    * Check if obstacle is visible.\n    * @return {boolean} Whether the obstacle is in the game area.\n    */\n    isVisible: function() {\n    return this.xPos + this.width > 0;\n    },\n    /**\n    * Make a copy of the collision boxes, since these will change based on\n    * obstacle type and size.\n    */\n    cloneCollisionBoxes: function() {\n    var collisionBoxes = this.typeConfig.collisionBoxes;\n    for (var i = collisionBoxes.length - 1; i >= 0; i--) {\n    this.collisionBoxes[i] = new CollisionBox(collisionBoxes[i].x,\n    collisionBoxes[i].y, collisionBoxes[i].width,\n    collisionBoxes[i].height);\n    }\n    }\n    };\n    /**\n    * Obstacle definitions.\n    * minGap: minimum pixel space betweeen obstacles.\n    * multipleSpeed: Speed at which multiples are allowed.\n    */\n    Obstacle.types = [\n    {\n    type: 'CACTUS_SMALL',\n    className: ' cactus cactus-small ',\n    width: 17,\n    height: 35,\n    yPos: 105,\n    multipleSpeed: 3,\n    minGap: 120,\n    collisionBoxes: [\n    new CollisionBox(0, 7, 5, 27),\n    new CollisionBox(4, 0, 6, 34),\n    new CollisionBox(10, 4, 7, 14)\n    ]\n    },\n    {\n    type: 'CACTUS_LARGE',\n    className: ' cactus cactus-large ',\n    width: 25,\n    height: 50,\n    yPos: 90,\n    multipleSpeed: 6,\n    minGap: 120,\n    collisionBoxes: [\n    new CollisionBox(0, 12, 7, 38),\n    new CollisionBox(8, 0, 7, 49),\n    new CollisionBox(13, 10, 10, 38)\n    ]\n    }\n    ];\n    //******************************************************************************\n    /**\n    * T-rex game character.\n    * @param {HTMLCanvas} canvas\n    * @param {HTMLImage} image Character image.\n    * @constructor\n    */\n    function Trex(canvas, image) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.image = image;\n    this.xPos = 0;\n    this.yPos = 0;\n    // Position when on the ground.\n    this.groundYPos = 0;\n    this.currentFrame = 0;\n    this.currentAnimFrames = [];\n    this.blinkDelay = 0;\n    this.animStartTime = 0;\n    this.timer = 0;\n    this.msPerFrame = 1000 / FPS;\n    this.config = Trex.config;\n    // Current status.\n    this.status = Trex.status.WAITING;\n    this.jumping = false;\n    this.jumpVelocity = 0;\n    this.reachedMinHeight = false;\n    this.speedDrop = false;\n    this.jumpCount = 0;\n    this.jumpspotX = 0;\n    this.init();\n    };\n    /**\n    * T-rex player config.\n    * @enum {number}\n    */\n    Trex.config = {\n    DROP_VELOCITY: -5,\n    GRAVITY: 0.6,\n    HEIGHT: 47,\n    INIITAL_JUMP_VELOCITY: -10,\n    INTRO_DURATION: 1500,\n    MAX_JUMP_HEIGHT: 30,\n    MIN_JUMP_HEIGHT: 30,\n    SPEED_DROP_COEFFICIENT: 3,\n    SPRITE_WIDTH: 262,\n    START_X_POS: 50,\n    WIDTH: 44\n    };\n    /**\n    * Used in collision detection.\n    * @type {Array.<CollisionBox>}\n    */\n    Trex.collisionBoxes = [\n    new CollisionBox(1, -1, 30, 26),\n    new CollisionBox(32, 0, 8, 16),\n    new CollisionBox(10, 35, 14, 8),\n    new CollisionBox(1, 24, 29, 5),\n    new CollisionBox(5, 30, 21, 4),\n    new CollisionBox(9, 34, 15, 4)\n    ];\n    /**\n    * Animation states.\n    * @enum {string}\n    */\n    Trex.status = {\n    CRASHED: 'CRASHED',\n    JUMPING: 'JUMPING',\n    RUNNING: 'RUNNING',\n    WAITING: 'WAITING'\n    };\n    /**\n    * Blinking coefficient.\n    * @const\n    */\n    Trex.BLINK_TIMING = 7000;\n    /**\n    * Animation config for different states.\n    * @enum {object}\n    */\n    Trex.animFrames = {\n    WAITING: {\n    frames: [44, 0],\n    msPerFrame: 1000 / 3\n    },\n    RUNNING: {\n    frames: [88, 132],\n    msPerFrame: 1000 / 12\n    },\n    CRASHED: {\n    frames: [220],\n    msPerFrame: 1000 / 60\n    },\n    JUMPING: {\n    frames: [0],\n    msPerFrame: 1000 / 60\n    }\n    };\n    Trex.prototype = {\n    /**\n    * T-rex player initaliser.\n    * Sets the t-rex to blink at random intervals.\n    */\n    init: function() {\n    this.blinkDelay = this.setBlinkDelay();\n    this.groundYPos = Runner.defaultDimensions.HEIGHT - this.config.HEIGHT -\n    Runner.config.BOTTOM_PAD;\n    this.yPos = this.groundYPos;\n    this.minJumpHeight = this.groundYPos - this.config.MIN_JUMP_HEIGHT;\n    this.draw(0, 0);\n    this.update(0, Trex.status.WAITING);\n    },\n    /**\n    * Setter for the jump velocity.\n    * The approriate drop velocity is also set.\n    */\n    setJumpVelocity: function(setting) {\n    this.config.INIITAL_JUMP_VELOCITY = -setting;\n    this.config.DROP_VELOCITY = -setting / 2;\n    },\n    /**\n    * Set the animation status.\n    * @param {!number} deltaTime\n    * @param {Trex.status} status Optional status to switch to.\n    */\n    update: function(deltaTime, opt_status) {\n    this.timer += deltaTime;\n    // Update the status.\n    if (opt_status) {\n    this.status = opt_status;\n    this.currentFrame = 0;\n    this.msPerFrame = Trex.animFrames[opt_status].msPerFrame;\n    this.currentAnimFrames = Trex.animFrames[opt_status].frames;\n    if (opt_status == Trex.status.WAITING) {\n    this.animStartTime = getTimeStamp();\n    this.setBlinkDelay();\n    }\n    }\n    // Game intro animation, T-rex moves in from the left.\n    if (this.playingIntro && this.xPos < this.config.START_X_POS) {\n    this.xPos += Math.round((this.config.START_X_POS /\n    this.config.INTRO_DURATION) * deltaTime);\n    }\n    if (this.status == Trex.status.WAITING) {\n    this.blink(getTimeStamp());\n    } else {\n    this.draw(this.currentAnimFrames[this.currentFrame], 0);\n    }\n    // Update the frame position.\n    if (this.timer >= this.msPerFrame) {\n    this.currentFrame = this.currentFrame ==\n    this.currentAnimFrames.length - 1 ? 0 : this.currentFrame + 1;\n    this.timer = 0;\n    }\n    },\n    /**\n    * Draw the t-rex to a particular position.\n    * @param {number} x\n    * @param {number} y\n    */\n    draw: function(x, y) {\n    var sourceX = x;\n    var sourceY = y;\n    var sourceWidth = this.config.WIDTH;\n    var sourceHeight = this.config.HEIGHT;\n    if (IS_HIDPI) {\n    sourceX *= 2;\n    sourceY *= 2;\n    sourceWidth *= 2;\n    sourceHeight *= 2;\n    }\n    this.canvasCtx.drawImage(this.image, sourceX, sourceY,\n    sourceWidth, sourceHeight,\n    this.xPos, this.yPos,\n    this.config.WIDTH, this.config.HEIGHT);\n    },\n    /**\n    * Sets a random time for the blink to happen.\n    */\n    setBlinkDelay: function() {\n    this.blinkDelay = Math.ceil(Math.random() * Trex.BLINK_TIMING);\n    },\n    /**\n    * Make t-rex blink at random intervals.\n    * @param {number} time Current time in milliseconds.\n    */\n    blink: function(time) {\n    var deltaTime = time - this.animStartTime;\n    if (deltaTime >= this.blinkDelay) {\n    this.draw(this.currentAnimFrames[this.currentFrame], 0);\n    if (this.currentFrame == 1) {\n    // Set new random delay to blink.\n    this.setBlinkDelay();\n    this.animStartTime = time;\n    }\n    }\n    },\n    /**\n    * Initialise a jump.\n    */\n    startJump: function() {\n    if (!this.jumping) {\n    this.update(0, Trex.status.JUMPING);\n    this.jumpVelocity = this.config.INIITAL_JUMP_VELOCITY;\n    this.jumping = true;\n    this.reachedMinHeight = false;\n    this.speedDrop = false;\n    }\n    },\n    /**\n    * Jump is complete, falling down.\n    */\n    endJump: function() {\n    if (this.reachedMinHeight &&\n    this.jumpVelocity < this.config.DROP_VELOCITY) {\n    this.jumpVelocity = this.config.DROP_VELOCITY;\n    }\n    },\n    /**\n    * Update frame for a jump.\n    * @param {number} deltaTime\n    */\n    updateJump: function(deltaTime) {\n    var msPerFrame = Trex.animFrames[this.status].msPerFrame;\n    var framesElapsed = deltaTime / msPerFrame;\n    // Speed drop makes Trex fall faster.\n    if (this.speedDrop) {\n    this.yPos += Math.round(this.jumpVelocity *\n    this.config.SPEED_DROP_COEFFICIENT * framesElapsed);\n    } else {\n    this.yPos += Math.round(this.jumpVelocity * framesElapsed);\n    }\n    this.jumpVelocity += this.config.GRAVITY * framesElapsed;\n    // Minimum height has been reached.\n    if (this.yPos < this.minJumpHeight || this.speedDrop) {\n    this.reachedMinHeight = true;\n    }\n    // Reached max height\n    if (this.yPos < this.config.MAX_JUMP_HEIGHT || this.speedDrop) {\n    this.endJump();\n    }\n    // Back down at ground level. Jump completed.\n    if (this.yPos > this.groundYPos) {\n    this.reset();\n    this.jumpCount++;\n    }\n    this.update(deltaTime);\n    },\n    /**\n    * Set the speed drop. Immediately cancels the current jump.\n    */\n    setSpeedDrop: function() {\n    this.speedDrop = true;\n    this.jumpVelocity = 1;\n    },\n    /**\n    * Reset the t-rex to running at start of game.\n    */\n    reset: function() {\n    this.yPos = this.groundYPos;\n    this.jumpVelocity = 0;\n    this.jumping = false;\n    this.update(0, Trex.status.RUNNING);\n    this.midair = false;\n    this.speedDrop = false;\n    this.jumpCount = 0;\n    }\n    };\n    //******************************************************************************\n    /**\n    * Handles displaying the distance meter.\n    * @param {!HTMLCanvasElement} canvas\n    * @param {!HTMLImage} spriteSheet Image sprite.\n    * @param {number} canvasWidth\n    * @constructor\n    */\n    function DistanceMeter(canvas, spriteSheet, canvasWidth) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.image = spriteSheet;\n    this.x = 0;\n    this.y = 5;\n    this.currentDistance = 0;\n    this.maxScore = 0;\n    this.highScore = 0;\n    this.container = null;\n    this.digits = [];\n    this.acheivement = false;\n    this.defaultString = '';\n    this.flashTimer = 0;\n    this.flashIterations = 0;\n    this.config = DistanceMeter.config;\n    this.init(canvasWidth);\n    };\n    /**\n    * @enum {number}\n    */\n    DistanceMeter.dimensions = {\n    WIDTH: 10,\n    HEIGHT: 13,\n    DEST_WIDTH: 11\n    };\n    /**\n    * Y positioning of the digits in the sprite sheet.\n    * X position is always 0.\n    * @type {array.<number>}\n    */\n    DistanceMeter.yPos = [0, 13, 27, 40, 53, 67, 80, 93, 107, 120];\n    /**\n    * Distance meter config.\n    * @enum {number}\n    */\n    DistanceMeter.config = {\n    // Number of digits.\n    MAX_DISTANCE_UNITS: 5,\n    // Distance that causes achievement animation.\n    ACHIEVEMENT_DISTANCE: 100,\n    // Used for conversion from pixel distance to a scaled unit.\n    COEFFICIENT: 0.025,\n    // Flash duration in milliseconds.\n    FLASH_DURATION: 1000 / 4,\n    // Flash iterations for achievement animation.\n    FLASH_ITERATIONS: 3\n    };\n    DistanceMeter.prototype = {\n    /**\n    * Initialise the distance meter to '00000'.\n    * @param {number} width Canvas width in px.\n    */\n    init: function(width) {\n    var maxDistanceStr = '';\n    this.calcXPos(width);\n    this.maxScore = this.config.MAX_DISTANCE_UNITS;\n    for (var i = 0; i < this.config.MAX_DISTANCE_UNITS; i++) {\n    this.draw(i, 0);\n    this.defaultString += '0';\n    maxDistanceStr += '9';\n    }\n    this.maxScore = parseInt(maxDistanceStr);\n    },\n    /**\n    * Calculate the xPos in the canvas.\n    * @param {number} canvasWidth\n    */\n    calcXPos: function(canvasWidth) {\n    this.x = canvasWidth - (DistanceMeter.dimensions.DEST_WIDTH *\n    (this.config.MAX_DISTANCE_UNITS + 1));\n    },\n    /**\n    * Draw a digit to canvas.\n    * @param {number} digitPos Position of the digit.\n    * @param {number} value Digit value 0-9.\n    * @param {boolean} opt_highScore Whether drawing the high score.\n    */\n    draw: function(digitPos, value, opt_highScore) {\n    var sourceWidth = DistanceMeter.dimensions.WIDTH;\n    var sourceHeight = DistanceMeter.dimensions.HEIGHT;\n    var sourceX = DistanceMeter.dimensions.WIDTH * value;\n    var targetX = digitPos * DistanceMeter.dimensions.DEST_WIDTH;\n    var targetY = this.y;\n    var targetWidth = DistanceMeter.dimensions.WIDTH;\n    var targetHeight = DistanceMeter.dimensions.HEIGHT;\n    // For high DPI we 2x source values.\n    if (IS_HIDPI) {\n    sourceWidth *= 2;\n    sourceHeight *= 2;\n    sourceX *= 2;\n    }\n    this.canvasCtx.save();\n    if (opt_highScore) {\n    // Left of the current score.\n    var highScoreX = this.x - (this.config.MAX_DISTANCE_UNITS * 2) *\n    DistanceMeter.dimensions.WIDTH;\n    this.canvasCtx.translate(highScoreX, this.y);\n    } else {\n    this.canvasCtx.translate(this.x, this.y);\n    }\n    this.canvasCtx.drawImage(this.image, sourceX, 0,\n    sourceWidth, sourceHeight,\n    targetX, targetY,\n    targetWidth, targetHeight\n    );\n    this.canvasCtx.restore();\n    },\n    /**\n    * Covert pixel distance to a 'real' distance.\n    * @param {number} distance Pixel distance ran.\n    * @return {number} The 'real' distance ran.\n    */\n    getActualDistance: function(distance) {\n    return distance ?\n    Math.round(distance * this.config.COEFFICIENT) : 0;\n    },\n    /**\n    * Update the distance meter.\n    * @param {number} deltaTime\n    * @param {number} distance\n    * @return {boolean} Whether the acheivement sound fx should be played.\n    */\n    update: function(deltaTime, distance) {\n    var paint = true;\n    var playSound = false;\n    if (!this.acheivement) {\n    distance = this.getActualDistance(distance);\n    if (distance > 0) {\n    // Acheivement unlocked\n    if (distance % this.config.ACHIEVEMENT_DISTANCE == 0) {\n    // Flash score and play sound.\n    this.acheivement = true;\n    this.flashTimer = 0;\n    playSound = true;\n    }\n    // Create a string representation of the distance with leading 0.\n    var distanceStr = (this.defaultString +\n    distance).substr(-this.config.MAX_DISTANCE_UNITS);\n    this.digits = distanceStr.split('');\n    } else {\n    this.digits = this.defaultString.split('');\n    }\n    } else {\n    // Control flashing of the score on reaching acheivement.\n    if (this.flashIterations <= this.config.FLASH_ITERATIONS) {\n    this.flashTimer += deltaTime;\n    if (this.flashTimer < this.config.FLASH_DURATION) {\n    paint = false;\n    } else if (this.flashTimer >\n    this.config.FLASH_DURATION * 2) {\n    this.flashTimer = 0;\n    this.flashIterations++;\n    }\n    } else {\n    this.acheivement = false;\n    this.flashIterations = 0;\n    this.flashTimer = 0;\n    }\n    }\n    // Draw the digits if not flashing.\n    if (paint) {\n    for (var i = this.digits.length - 1; i >= 0; i--) {\n    this.draw(i, parseInt(this.digits[i]));\n    }\n    }\n    this.drawHighScore();\n    return playSound;\n    },\n    /**\n    * Draw the high score.\n    */\n    drawHighScore: function() {\n    this.canvasCtx.save();\n    this.canvasCtx.globalAlpha = .8;\n    for (var i = this.highScore.length - 1; i >= 0; i--) {\n    this.draw(i, parseInt(this.highScore[i], 10), true);\n    }\n    this.canvasCtx.restore();\n    },\n    /**\n    * Set the highscore as a array string.\n    * Position of char in the sprite: H - 10, I - 11.\n    * @param {number} distance Distance ran in pixels.\n    */\n    setHighScore: function(distance) {\n    distance = this.getActualDistance(distance);\n    var highScoreStr = (this.defaultString +\n    distance).substr(-this.config.MAX_DISTANCE_UNITS);\n    this.highScore = ['10', '11', ''].concat(highScoreStr.split(''));\n    },\n    /**\n    * Reset the distance meter back to '00000'.\n    */\n    reset: function() {\n    this.update(0);\n    this.acheivement = false;\n    }\n    };\n    //******************************************************************************\n    /**\n    * Cloud background item.\n    * Similar to an obstacle object but without collision boxes.\n    * @param {HTMLCanvasElement} canvas Canvas element.\n    * @param {Image} cloudImg\n    * @param {number} containerWidth\n    */\n    function Cloud(canvas, cloudImg, containerWidth) {\n    this.canvas = canvas;\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.image = cloudImg;\n    this.containerWidth = containerWidth;\n    this.xPos = containerWidth;\n    this.yPos = 0;\n    this.remove = false;\n    this.cloudGap = getRandomNum(Cloud.config.MIN_CLOUD_GAP,\n    Cloud.config.MAX_CLOUD_GAP);\n    this.init();\n    };\n    /**\n    * Cloud object config.\n    * @enum {number}\n    */\n    Cloud.config = {\n    HEIGHT: 14,\n    MAX_CLOUD_GAP: 400,\n    MAX_SKY_LEVEL: 30,\n    MIN_CLOUD_GAP: 100,\n    MIN_SKY_LEVEL: 71,\n    WIDTH: 46\n    };\n    Cloud.prototype = {\n    /**\n    * Initialise the cloud. Sets the Cloud height.\n    */\n    init: function() {\n    this.yPos = getRandomNum(Cloud.config.MAX_SKY_LEVEL,\n    Cloud.config.MIN_SKY_LEVEL);\n    this.draw();\n    },\n    /**\n    * Draw the cloud.\n    */\n    draw: function() {\n    this.canvasCtx.save();\n    var sourceWidth = Cloud.config.WIDTH;\n    var sourceHeight = Cloud.config.HEIGHT;\n    if (IS_HIDPI) {\n    sourceWidth = sourceWidth * 2;\n    sourceHeight = sourceHeight * 2;\n    }\n    this.canvasCtx.drawImage(this.image, 0, 0,\n    sourceWidth, sourceHeight,\n    this.xPos, this.yPos,\n    Cloud.config.WIDTH, Cloud.config.HEIGHT);\n    this.canvasCtx.restore();\n    },\n    /**\n    * Update the cloud position.\n    * @param {number} speed\n    */\n    update: function(speed) {\n    if (!this.remove) {\n    this.xPos -= Math.ceil(speed);\n    this.draw();\n    // Mark as removeable if no longer in the canvas.\n    if (!this.isVisible()) {\n    this.remove = true;\n    }\n    }\n    },\n    /**\n    * Check if the cloud is visible on the stage.\n    * @return {boolean}\n    */\n    isVisible: function() {\n    return this.xPos + Cloud.config.WIDTH > 0;\n    }\n    };\n    //******************************************************************************\n    /**\n    * Horizon Line.\n    * Consists of two connecting lines. Randomly assigns a flat / bumpy horizon.\n    * @param {HTMLCanvasElement} canvas\n    * @param {HTMLImage} bgImg Horizon line sprite.\n    * @constructor\n    */\n    function HorizonLine(canvas, bgImg) {\n    this.image = bgImg;\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.sourceDimensions = {};\n    this.dimensions = HorizonLine.dimensions;\n    this.sourceXPos = [0, this.dimensions.WIDTH];\n    this.xPos = [];\n    this.yPos = 0;\n    this.bumpThreshold = 0.5;\n    this.setSourceDimensions();\n    this.draw();\n    };\n    /**\n    * Horizon line dimensions.\n    * @enum {number}\n    */\n    HorizonLine.dimensions = {\n    WIDTH: 600,\n    HEIGHT: 12,\n    YPOS: 127\n    };\n    HorizonLine.prototype = {\n    /**\n    * Set the source dimensions of the horizon line.\n    */\n    setSourceDimensions: function() {\n    for (var dimension in HorizonLine.dimensions) {\n    if (IS_HIDPI) {\n    if (dimension != 'YPOS') {\n    this.sourceDimensions[dimension] =\n    HorizonLine.dimensions[dimension] * 2;\n    }\n    } else {\n    this.sourceDimensions[dimension] =\n    HorizonLine.dimensions[dimension];\n    }\n    this.dimensions[dimension] = HorizonLine.dimensions[dimension];\n    }\n    this.xPos = [0, HorizonLine.dimensions.WIDTH];\n    this.yPos = HorizonLine.dimensions.YPOS;\n    },\n    /**\n    * Return the crop x position of a type.\n    */\n    getRandomType: function() {\n    return Math.random() > this.bumpThreshold ? this.dimensions.WIDTH : 0;\n    },\n    /**\n    * Draw the horizon line.\n    */\n    draw: function() {\n    this.canvasCtx.drawImage(this.image, this.sourceXPos[0], 0,\n    this.sourceDimensions.WIDTH, this.sourceDimensions.HEIGHT,\n    this.xPos[0], this.yPos,\n    this.dimensions.WIDTH, this.dimensions.HEIGHT);\n    this.canvasCtx.drawImage(this.image, this.sourceXPos[1], 0,\n    this.sourceDimensions.WIDTH, this.sourceDimensions.HEIGHT,\n    this.xPos[1], this.yPos,\n    this.dimensions.WIDTH, this.dimensions.HEIGHT);\n    },\n    /**\n    * Update the x position of an indivdual piece of the line.\n    * @param {number} pos Line position.\n    * @param {number} increment\n    */\n    updateXPos: function(pos, increment) {\n    var line1 = pos;\n    var line2 = pos == 0 ? 1 : 0;\n    this.xPos[line1] -= increment;\n    this.xPos[line2] = this.xPos[line1] + this.dimensions.WIDTH;\n    if (this.xPos[line1] <= -this.dimensions.WIDTH) {\n    this.xPos[line1] += this.dimensions.WIDTH * 2;\n    this.xPos[line2] = this.xPos[line1] - this.dimensions.WIDTH;\n    this.sourceXPos[line1] = this.getRandomType();\n    }\n    },\n    /**\n    * Update the horizon line.\n    * @param {number} deltaTime\n    * @param {number} speed\n    */\n    update: function(deltaTime, speed) {\n    var increment = Math.floor(speed * (FPS / 1000) * deltaTime);\n    if (this.xPos[0] <= 0) {\n    this.updateXPos(0, increment);\n    } else {\n    this.updateXPos(1, increment);\n    }\n    this.draw();\n    },\n    /**\n    * Reset horizon to the starting position.\n    */\n    reset: function() {\n    this.xPos[0] = 0;\n    this.xPos[1] = HorizonLine.dimensions.WIDTH;\n    }\n    };\n    //******************************************************************************\n    /**\n    * Horizon background class.\n    * @param {HTMLCanvasElement} canvas\n    * @param {Array.<HTMLImageElement>} images\n    * @param {object} dimensions Canvas dimensions.\n    * @param {number} gapCoefficient\n    * @constructor\n    */\n    function Horizon(canvas, images, dimensions, gapCoefficient) {\n    this.canvas = canvas;\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.config = Horizon.config;\n    this.dimensions = dimensions;\n    this.gapCoefficient = gapCoefficient;\n    this.obstacles = [];\n    this.horizonOffsets = [0, 0];\n    this.cloudFrequency = this.config.CLOUD_FREQUENCY;\n    // Cloud\n    this.clouds = [];\n    this.cloudImg = images.CLOUD;\n    this.cloudSpeed = this.config.BG_CLOUD_SPEED;\n    // Horizon\n    this.horizonImg = images.HORIZON;\n    this.horizonLine = null;\n    // Obstacles\n    this.obstacleImgs = {\n    CACTUS_SMALL: images.CACTUS_SMALL,\n    CACTUS_LARGE: images.CACTUS_LARGE\n    };\n    this.init();\n    };\n    /**\n    * Horizon config.\n    * @enum {number}\n    */\n    Horizon.config = {\n    BG_CLOUD_SPEED: 0.2,\n    BUMPY_THRESHOLD: .3,\n    CLOUD_FREQUENCY: .5,\n    HORIZON_HEIGHT: 16,\n    MAX_CLOUDS: 6\n    };\n    Horizon.prototype = {\n    /**\n    * Initialise the horizon. Just add the line and a cloud. No obstacles.\n    */\n    init: function() {\n    this.addCloud();\n    this.horizonLine = new HorizonLine(this.canvas, this.horizonImg);\n    },\n    /**\n    * @param {number} deltaTime\n    * @param {number} currentSpeed\n    * @param {boolean} updateObstacles Used as an override to prevent\n    * the obstacles from being updated / added. This happens in the\n    * ease in section.\n    */\n    update: function(deltaTime, currentSpeed, updateObstacles) {\n    this.runningTime += deltaTime;\n    this.horizonLine.update(deltaTime, currentSpeed);\n    this.updateClouds(deltaTime, currentSpeed);\n    if (updateObstacles) {\n    this.updateObstacles(deltaTime, currentSpeed);\n    }\n    },\n    /**\n    * Update the cloud positions.\n    * @param {number} deltaTime\n    * @param {number} currentSpeed\n    */\n    updateClouds: function(deltaTime, speed) {\n    var cloudSpeed = this.cloudSpeed / 1000 * deltaTime * speed;\n    var numClouds = this.clouds.length;\n    if (numClouds) {\n    for (var i = numClouds - 1; i >= 0; i--) {\n    this.clouds[i].update(cloudSpeed);\n    }\n    var lastCloud = this.clouds[numClouds - 1];\n    // Check for adding a new cloud.\n    if (numClouds < this.config.MAX_CLOUDS &&\n    (this.dimensions.WIDTH - lastCloud.xPos) > lastCloud.cloudGap &&\n    this.cloudFrequency > Math.random()) {\n    this.addCloud();\n    }\n    // Remove expired clouds.\n    this.clouds = this.clouds.filter(function(obj) {\n    return !obj.remove;\n    });\n    }\n    },\n    /**\n    * Update the obstacle positions.\n    * @param {number} deltaTime\n    * @param {number} currentSpeed\n    */\n    updateObstacles: function(deltaTime, currentSpeed) {\n    // Obstacles, move to Horizon layer.\n    var updatedObstacles = this.obstacles.slice(0);\n    for (var i = 0; i < this.obstacles.length; i++) {\n    var obstacle = this.obstacles[i];\n    obstacle.update(deltaTime, currentSpeed);\n    // Clean up existing obstacles.\n    if (obstacle.remove) {\n    updatedObstacles.shift();\n    }\n    }\n    this.obstacles = updatedObstacles;\n    if (this.obstacles.length > 0) {\n    var lastObstacle = this.obstacles[this.obstacles.length - 1];\n    if (lastObstacle && !lastObstacle.followingObstacleCreated &&\n    lastObstacle.isVisible() &&\n    (lastObstacle.xPos + lastObstacle.width + lastObstacle.gap) <\n    this.dimensions.WIDTH) {\n    this.addNewObstacle(currentSpeed);\n    lastObstacle.followingObstacleCreated = true;\n    }\n    } else {\n    // Create new obstacles.\n    this.addNewObstacle(currentSpeed);\n    }\n    },\n    /**\n    * Add a new obstacle.\n    * @param {number} currentSpeed\n    */\n    addNewObstacle: function(currentSpeed) {\n    var obstacleTypeIndex =\n    getRandomNum(0, Obstacle.types.length - 1);\n    var obstacleType = Obstacle.types[obstacleTypeIndex];\n    var obstacleImg = this.obstacleImgs[obstacleType.type];\n    this.obstacles.push(new Obstacle(this.canvasCtx, obstacleType,\n    obstacleImg, this.dimensions, this.gapCoefficient, currentSpeed));\n    },\n    /**\n    * Reset the horizon layer.\n    * Remove existing obstacles and reposition the horizon line.\n    */\n    reset: function() {\n    this.obstacles = [];\n    this.horizonLine.reset();\n    },\n    /**\n    * Update the canvas width and scaling.\n    * @param {number} width Canvas width.\n    * @param {number} height Canvas height.\n    */\n    resize: function(width, height) {\n    this.canvas.width = width;\n    this.canvas.height = height;\n    },\n    /**\n    * Add a new cloud to the horizon.\n    */\n    addCloud: function() {\n    this.clouds.push(new Cloud(this.canvas, this.cloudImg,\n    this.dimensions.WIDTH));\n    }\n    };\n    })();\n\n\n\t</script>\n\n\n\t<style>/* Copyright 2014 The Chromium Authors. All rights reserved.\n   Use of this source code is governed by a BSD-style license that can be\n   found in the LICENSE file. */\n\na {\n  color: #585858;\n}\n\nbody {\n  background-color: #f7f7f7;\n  color: #585858;\n  font-size: 125%;\n}\n\nbody.safe-browsing {\n  background-color: rgb(206, 52, 38);\n  color: white;\n}\n\nbutton {\n  background: rgb(76, 142, 250);\n  border: 0;\n  border-radius: 2px;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  float: right;\n  font-size: .875em;\n  height: 36px;\n  margin: -6px 0 0;\n  padding: 8px 24px;\n  transition: box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n[dir='rtl'] button {\n  float: left;\n}\n\nbutton:active {\n  background: rgb(50, 102, 213);\n  outline: 0;\n}\n\nbutton:hover {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, .50);\n}\n\n.debugging-content {\n  line-height: 1em;\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n.debugging-title {\n  font-weight: bold;\n}\n\n#details {\n  color: #696969;\n  margin: 45px 0 50px;\n}\n\n#details p:not(:first-of-type) {\n  margin-top: 20px;\n}\n\n#error-code {\n  color: black;\n  opacity: .35;\n  text-transform: uppercase;\n}\n\n#error-debugging-info {\n  font-size: 0.8em;\n}\n\nh1 {\n  -webkit-margin-after: 16px;\n  color: #585858;\n  font-size: 1.6em;\n  font-weight: normal;\n  line-height: 1.25em;\n}\n\nh2 {\n  font-size: 1.2em;\n  font-weight: normal;\n}\n\n.hidden {\n  display: none;\n}\n\n.icon {\n  background-repeat: no-repeat;\n  background-size: 100%;\n  height: 72px;\n  margin: 0 0 40px;\n  width: 72px;\n}\n\ninput[type=checkbox] {\n  visibility: hidden;\n}\n\n.interstitial-wrapper {\n  box-sizing: border-box;\n  font-size: 1em;\n  line-height: 1.6em;\n  margin: 50px auto 0;\n  max-width: 600px;\n  width: 100%;\n}\n\n#malware-opt-in {\n  font-size: .875em;\n  margin-top: 39px;\n}\n\n.nav-wrapper {\n  margin-top: 51px;\n}\n\n.nav-wrapper::after {\n  clear: both;\n  content: '';\n  display: table;\n  width: 100%;\n}\n\n#opt-in-label {\n  -webkit-margin-start: 32px;\n}\n\n.safe-browsing :-webkit-any(\n    a, #details, #details-button, h1, h2, p, .small-link) {\n  color: white;\n}\n\n.safe-browsing button {\n  background-color: rgb(206, 52, 38);\n  border: 1px solid white;\n}\n\n.safe-browsing button:active {\n  background-color: rgb(206, 52, 38);\n  border-color: rgba(255, 255, 255, .6);\n}\n\n.safe-browsing button:hover {\n  box-shadow: 0 2px 3px rgba(0, 0, 0, .5);\n}\n\n.safe-browsing .icon {\n  background-image: -webkit-image-set(\n      url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAABoVBMVEX///+Li4v////////y8vL09PT99fTbRDfXzMzt7e3v7+/s7Ozy8vLw8PDu7u799PPSQTXx8fHZdGv19fX09PTm5ubbV0zXzczgW1Dd3d3c3Nzjb2Th4eHr6+vl5eXp6enZ2dng4OD29vbz8/PYYFXZV0zaYVbjbWP219TRQTTXdGz43Nn++/rib2T////b29vTQjXaYVf66ObngXjjbmTq6ura2trngHf76Ofk19bX19fe3t7o6Oji4uLk5OTeU0f119TYQzbZQzbWQjbXQzbZRDfaRDfn5+fbV0vj4+PVQjXf39/Y2Njgcmney8rqk4zdysn43drcysjcUETa1tbadGvaV0vaWEzZYVbibmXc2NjfzMvi0M7mfHPYYVbhzszd2dnZx8XieXDkc2nWX1Xacmne2trZdGzbcWjj0c/XTUHX1NPVX1Xg3NzYdGvYXFHZ1dXWTUHgzczUX1Xh3d3XdWzWXFHaVkvXxcTVTEHhbmXTXlXi3t7ayMbVXFLgbmXUTEDXYFXSXlTXzMvk4ODUXFHWbGPWzMvk4eHZioP39/f9Ro5BAAAABnRSTlMAAOQk5ye8yu+CAAACRklEQVR4XrXWRZPbUBSEUWdmIpl5mJmZg8zMzMzMzPCr43isNqif76u6lW+nuzgrtUqB/1ptzUSVamrVDiS1A0ntQFI7kNQOJLUDSe1AUjuQ1A4ktQNJ70DSO5D0DiS9A0nvQIKjlOAoJThqyewsXZ1hQOL8YZNkcJrcJiIlBt2No0zKQSbHJVJiznW5BIg4kMocSDIEBxKcwvkoJAE6uMJAguO13xIaWyyRiDPdGGGQJBFnzb4Qh2Qp0VrmdHXFCSRKxFmYDAsQpNkSiTgtLZAAydIgcZqbYwQSJOqs3QsJkCRxp7s7RSBBok5bW5RAgkSd9bujIoS3AA0QZ0NHrx3ktLro5SvidNRnAUkO2nWZOPU7s4BEB9J74qzrzACSHNRwhDid8xlAogPpEHHa23sIxJyB60XpAHEioT9myBnf4XWq8W4aDw1niROKA/I7270u5HbxKI3Hk0+IEzZBzuktXn35XRw7jsOJi34nZoCcN5u9+gq7OJPGqf+czzFAzsdtXp+xi0tpHPtvVzopDl3Z6nUtWNzXjZs436p0DNDQnT0r3QuW7vT+g8L54XKlEzX8RAw9nvrX02D53p89z59f+J0602/NptfJZPKt52AX70Zy5w/EWR0wSp+Gv3z1f3++jQx/545Z+vGTfcd+/eYOJFIEDtkpccxSyNqRpLitI0uWjiyFLR1ZignOqoC1VN0BJEupag4gK8nsALKToiYHkK3Uyx0CiRJ3ANlLWe4AspcyxKGQLHEHkL3UQxwKyRJxCKTtLyVXfw+a8JTgAAAAAElFTkSuQmCC) 1x,\n      url(data:image/png;base64,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) 2x);\n}\n\n.small-link {\n  color: #696969;\n  font-size: .875em;\n}\n\n.ssl .icon {\n  background-image: -webkit-image-set(\n      url(data:image/png;base64,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) 1x,\n      url(data:image/png;base64,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) 2x);\n}\n\n.styled-checkbox {\n  float: left;\n  height: 16px;\n  margin-top: .36em;\n  position: relative;\n  width: 16px;\n}\n\n[dir='rtl'] .styled-checkbox {\n  float: right;\n}\n\n.styled-checkbox label {\n  background: transparent;\n  border: white solid 1px;\n  border-radius: 2px;\n  height: 14px;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 14px;\n}\n\n.styled-checkbox label::after {\n  background: transparent;\n  border: 2px solid white;\n  border-right-width: 0;\n  border-top-width: 0;\n  content: '';\n  height: 4px;\n  left: 2px;\n  opacity: 0.3;\n  position: absolute;\n  top: 3px;\n  transform: rotate(-45deg);\n  width: 9px;\n}\n\n.styled-checkbox input[type=checkbox]:checked + label::after {\n  opacity: 1;\n}\n\n@media (max-width: 700px) {\n  .interstitial-wrapper {\n    padding: 0 10%;\n  }\n}\n\n@media (max-height: 600px) {\n  .interstitial-wrapper {\n    margin-top: 5px;\n  }\n}\n\n@media (max-width: 400px) {\n  button,\n  [dir='rtl'] button {\n    float: none;\n    font-size: 1em;\n    width: 100%;\n  }\n\n  #details {\n    margin: 20px 0 20px 0;\n  }\n\n  #details p:not(:first-of-type) {\n    margin-top: 10px;\n  }\n\n  #details-button {\n    display: block;\n    padding-top: 14px;\n    text-align: center;\n    width: 100%;\n  }\n\n  .interstitial-wrapper {\n    padding: 0 5%;\n  }\n\n  #malware-opt-in {\n    margin-top: 24px;\n  }\n\n  .nav-wrapper {\n    margin-top: 30px;\n  }\n\n  .small-link {\n    font-size: 1em;\n  }\n}\n</style>\n  <style>/* Copyright 2013 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file. */\n\n/* Don't use the main frame div when the error is in a subframe. */\nhtml[subframe] #main-frame-error {\n  display: none;\n}\n\n/* Don't use the subframe error div when the error is in a main frame. */\nhtml:not([subframe]) #sub-frame-error {\n  display: none;\n}\n\n#diagnose-button {\n  -webkit-margin-start: 0;\n  float: none;\n  margin-bottom: 10px;\n  margin-top: 20px;\n}\n\nh1 {\n  -webkit-margin-before: 0;\n}\n\nh2 {\n  color: #666;\n  font-size: 1.2em;\n  font-weight: normal;\n  margin: 10px 0;\n}\n\na {\n  color: rgb(17, 85, 204);\n  text-decoration: none;\n}\n\n.icon {\n  -webkit-user-select: none;\n}\n\n.icon-generic {\n  /**\n   * Can't access chrome://theme/IDR_ERROR_NETWORK_GENERIC from an untrusted\n   * renderer process, so embed the resource manually.\n   */\n  content: -webkit-image-set(\n      url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAyCAAAAADkGq1yAAAAAnRSTlMA/1uRIrUAAABLSURBVHhe7dOxDQAgCERRdrza/ScwscNYSKIhWAror9+VR7BjKZbkrSpKeA45K8PQuoYqcUNKbmUzpNkD8kvM/ErlkVFk8necCyU7IotT35DVJRIAAAAASUVORK5CYII=') 1x,\n      url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABkCAAAAAAwZDj3AAAAAnRSTlMA/1uRIrUAAABiSURBVHhe7cy7CYAwFABAd8z+HyewskkTW+EFA3kgSu4GuK2ktI71SqWyjeyxirlS2aeMQczfKcuNUjny/1KpPCbKjA+WSqVSqVQqawmy5TlZKpVPQciVSuUEpVKZtVypVF5DHE3/NzR+1AAAAABJRU5ErkJggg==') 2x);\n  height: 50px;\n  padding-top: 20px;\n  width: 41px;\n}\n\n.icon-offline {\n  content: -webkit-image-set(\n      url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAvAgMAAADlfsA8AAAADFBMVEX39/f////39/dTU1NOmoBdAAAAAnRSTlMAAHaTzTgAAAB6SURBVHherc2xDUIxDIThE6UbVmEZ9nN9TUZgJWo3Ju8UhGIrHX/1FScdnr82K+PMoZizbozLsfw+OP9mkpvNARuabB6OG6fIZr4uozi4noqTYrcKHoxi63ZodLBG0a0R0c2M5Uw5Z3rzoavqwNf3CGybKH4gYXTq6wPqOghb2tvIFQAAAABJRU5ErkJggg==') 1x,\n      url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABeAgMAAADaoju6AAAADFBMVEX39/f////39/dTU1NOmoBdAAAAAnRSTlMAAHaTzTgAAACDSURBVHhe7dIhDgQhAEPR6jV7urnkN3PEbkIIICCQSdfNl8/UVNe0DA/R0p7BtTzjFkesLO8nX6YUYpj8IcO48Ie+GGa4XSqYYwO4lWUPSpjH4I8s5Vg8Z7RhkeeZE2fRNc/Y5oRtu7NrC26bCKNWktEp2xueT5on/F2yLQlAQGWt+AcZixZ9AfIcYgAAAABJRU5ErkJggg==') 2x);\n  height: 47px;\n  margin: 0 0 40px;\n  position: relative;\n  width: 44px;\n}\n\n#content-top {\n  margin: 20px;\n}\n\n#help-box-outer {\n  -webkit-transition: height ease-in 218ms;\n  overflow: hidden;\n}\n\n#help-box-inner {\n  background-color: #f9f9f9;\n  border-top: 1px solid #EEE;\n  color: #444;\n  padding: 20px;\n  text-align: start;\n}\n\n#suggestion {\n  margin-top: 15px;\n}\n\n#short-suggestion {\n  margin-top: 5px;\n}\n\n#sub-frame-error-details {\n  color: #8F8F8F;\n/* Not done on mobile for performance reasons. */\n  text-shadow: 0 1px 0 rgba(255,255,255,0.3);\n}\n\n[jscontent=failedUrl] {\n  overflow-wrap: break-word;\n}\n\n#search-container {\n  /* Prevents a space between controls. */\n  display: flex;\n  margin-top: 20px;\n}\n\n#search-box {\n  border: 1px solid #cdcdcd;\n  flex-grow: 1;\n  font-size: 16px;\n  height: 26px;\n  margin-right: 0;\n  padding: 1px 9px;\n}\n\n#search-box:focus {\n  border: 1px solid rgb(93, 154, 255);\n  outline: none;\n}\n\n#search-button {\n  border: none;\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n  box-shadow: none;\n  display: flex;\n  height: 30px;\n  margin: 0;\n  padding: 0;\n  width: 60px;\n}\n\n#search-image {\n  content:\n      -webkit-image-set(\n          url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAQAAAB+HTb/AAAArElEQVR4Xn3NsUoCUBzG0XvB3U0chR4geo5qihpt6gkCx0bXFsMERWj2KWqIanAvmlUUoQapwU6g4l8H5bd9Z/iSPS0hu/RqZqrncBuzLl7U3Rn4cSpQFTeroejJl1Lgs7f4ceDPdeBMXYp86gaONYJkY83AnqHiGk9wHnjk16PKgo5N9BUCkzPf5j6M0PfuVg5MymoetFwoaKAlB26WdXAvJ7u5mezitqtkT//7Sv/u96CaLQAAAABJRU5ErkJggg==') 1x,\n          url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAQAAACVzLYUAAABYElEQVR4Xr3VMUuVURzH8XO98jgkGikENkRD0KRGDUVDQy0h2SiC4IuIiktL4AvQt1CDBJUJwo1KXXS6cWdHw7tcjWwoC5Hrx+UZgnNO5CXiO/75jD/+QZf9MzjskVU7DrU1zRv9G9ir5hsA4Nii83+GA9ZI1nI1D6tWAE1TRlQMuuuFDthzMQefgo4nKr+f3dIGDdUUHPYD1ISoMQdgJgUfgqaKEOcxWE/BVTArJBvwC0cGY7gNLgiZNsD1GP4EPVn4EtyLYRuczcJ34HYMP4E7GdajDS7FcB48z8AJ8FmI4TjouBkzZ2yBuRQMlsButIZ+dfDVUBqOaIHvavpLVHXfFmAqv45r9gEHNr3y3hcAfLSgSMPgiiZR+6Z9AMuKNAwqpjUcA2h55pxgAfBWkYRlQ254YMJloaxPHbCkiGCymL5RlLA7GnRDXyuC7uhicLoKdRyaDE5Pl00K//93nABqPgBDK8sfWgAAAABJRU5ErkJggg==') 2x);\n  margin: auto;\n}\n\n.hidden {\n  display: none;\n}\n\n.suggestions {\n  margin-top: 18px;\n}\n\n.suggestion-header {\n  font-weight: bold;\n  margin-bottom: 4px;\n}\n\n.suggestion-body {\n  color: #777;\n}\n\n.error-code {\n  color: #A0A0A0;\n  margin-top: 15px;\n}\n\n/* Increase line height at higher resolutions. */\n@media (min-width: 641px) and (min-height: 641px) {\n  #help-box-inner {\n    line-height: 18px;\n  }\n}\n\n/* Decrease padding at low sizes. */\n@media (max-width: 640px), (max-height: 640px) {\n  body {\n    margin: 15px;\n  }\n  h1 {\n    margin: 10px 0 15px;\n  }\n  #content-top {\n    margin: 15px;\n  }\n  #help-box-inner {\n    padding: 20px;\n  }\n  .suggestions {\n    margin-top: 10px;\n  }\n  .suggestion-header {\n    margin-bottom: 0;\n  }\n  .error-code {\n    margin-top: 10px;\n  }\n}\n\n/* Don't allow overflow when in a subframe. */\nhtml[subframe] body {\n  overflow: hidden;\n}\n\n#sub-frame-error {\n  -webkit-align-items: center;\n  background-color: #DDD;\n  display: -webkit-flex;\n  -webkit-flex-flow: column;\n  height: 100%;\n  -webkit-justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n#sub-frame-error:hover {\n  background-color: #EEE;\n}\n\n#sub-frame-error-details {\n  margin: 0 10px;\n  visibility: hidden;\n}\n\n/* Show details only when hovering. */\n#sub-frame-error:hover #sub-frame-error-details {\n  visibility: visible;\n}\n\n/* If the iframe is too small, always hide the error code. */\n/* TODO(mmenke): See if overflow: no-display works better, once supported. */\n@media (max-width: 200px), (max-height: 95px) {\n  #sub-frame-error-details {\n    display: none;\n  }\n}\n\n/* details-button is special; it's a <button> element that looks like a link. */\n#details-button {\n  background-color: inherit;\n  background-image: none;\n  border: none;\n  box-shadow: none;\n  min-width: 0;\n  padding: 0;\n  text-decoration: underline;\n}\n\n/* Styles for platform dependent separation of controls and details button. */\n.suggested-left > #control-buttons,\n.suggested-right > #details-button  {\n  float: left;\n}\n\n.suggested-right > #control-buttons,\n.suggested-left > #details-button  {\n  float: right;\n}\n\n#details-button.singular {\n  float: none;\n}\n\n#buttons::after {\n  clear: both;\n  content: '';\n  display: block;\n  width: 100%;\n}\n\n/* Offline page */\n.offline .interstitial-wrapper {\n  color: #2b2b2b;\n  font-size: 1em;\n  line-height: 1.55;\n  margin: 100px auto 0;\n  max-width: 600px;\n  width: 100%;\n}\n\n.offline .runner-container {\n  height: 150px;\n  max-width: 600px;\n  overflow: hidden;\n  position: absolute;\n  top: 10px;\n  width: 44px;\n  z-index: 2;\n}\n\n.offline .runner-canvas {\n  height: 150px;\n  max-width: 600px;\n  opacity: 1;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n}\n\n.offline .controller {\n  background: rgba(247,247,247, .1);\n  height: 100vh;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  z-index: 1;\n}\n\n#offline-resources {\n  display: none;\n}\n\n@media (max-width: 400px) {\n  .suggested-left > #control-buttons,\n  .suggested-right > #control-buttons {\n    float: none;\n    margin: 50px 0 20px;\n  }\n}\n\n@media (max-height: 350px) {\n  h1 {\n    margin: 0 0 15px;\n  }\n\n  .icon-offline {\n    margin: 0 0 10px;\n  }\n\n  .interstitial-wrapper {\n    margin-top: 5%;\n  }\n\n  .nav-wrapper {\n    margin-top: 30px;\n  }\n}\n</style>\n</head>\n\n<body id=\"t\">\n<script>\n  window.fbAsyncInit = function() {\n    FB.init({\n      appId      : '576553495813787',\n      xfbml      : true,\n      version    : 'v2.2'\n    });\n  };\n\n  (function(d, s, id){\n     var js, fjs = d.getElementsByTagName(s)[0];\n     if (d.getElementById(id)) {return;}\n     js = d.createElement(s); js.id = id;\n     js.src = \"//connect.facebook.net/en_US/sdk.js\";\n     fjs.parentNode.insertBefore(js, fjs);\n   }(document, 'script', 'facebook-jssdk'));\n</script>\n<div id=\"main-frame-error\" class=\"interstitial-wrapper\" jstcache=\"0\">\n    <div class=\"onlyforchrome\" style=\"font-size: 30px;text-align: center;font-family: Helvetica;\">Running T-Rex</div>\n    <div class=\"onlyforchrome\" style=\"margin-top:5px;text-align:center;color:#8a8a8a;margin-bottom:80px; font-size:.8em;line-height:1.2em;font-family: Georgia;\"><a href=\"http://www.thecodepost.org/internet/play-hidden-t-rex-game-offline-chrome/\" target=\"_blank\"><strong>T-Rex Dino game</strong></a> from Google Chrome offline mode ripped by <a href=\"https://www.twitter.com/thecodepost\" target=\"_blank\"><strong>@thecodepost</strong></a>.<br/> Press \"Space\" to jump your Dino and start the game.</div>\n\t<div id=\"main-frame-notchrome\" style=\"display:none; margin-top:50px;\">Sorry, this game only runs on the Google Chrome! You can download it free <a href=\"https://www.google.com/chrome\">here</a></div>\n    <div id=\"offline-resources\" jstcache=\"0\">\n    <div id=\"offline-resources-1x\" jstcache=\"0\">\n      <img id=\"1x-obstacle-large\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAyCAMAAACJUtIoAAAACVBMVEX////39/dTU1OabbyfAAAAAXRSTlMAQObYZgAAAXhJREFUeF7t2NGqAjEMANGM///RlwvaYQndULuFPJgHUYaEI6IPhgNAOA8HZ+3U6384F5y1U6YzAZTWG+dZamnFEstBFtCKJZSHWMADLJ18z+JqpQeLdKoDC8siC5iFCQs4znIxB5B1t6F3lQWkL4N0JsF+u6GXJdbI+FKW+yWr3lhgCZ2VSag3Nlk/FnRkIRbasLCO0oulikMsvmGpeiGLZ1jOMgtIP5bODivYYUXEIVbwFCt4khVssRgsgidZwQaLd2A8m7MYLGTl4KeQQs2y4kMAMGGlmQViDIb5O6xZnnLD485dIBzqDSE1yyFdL4Iqu4XJqUUWl/NVAFSZq1P6a5aqbAUM2epQbBioWflUBABiUyhYyZoCBev8XyMAObDNOhOAfiyxmHU0YNlldGAphGjFCjA3YkUn1o/1Y3EkZFZ5isCC6NUgwDBn1RuXH96doNfAhDXfsIyJ2AnolcCVhay0kcYbW0HvCO8OwIcJ3GzkORpkFuUP/1Ec8FW1qJkAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"1x-obstacle-small\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAAAjCAMAAABRlI+PAAAADFBMVEX////////39/dTU1PhglcSAAAAAXRSTlMAQObYZgAAAPNJREFUeF7tlkEKwzAMBLXr//+5iQhU7gRRQkyhZI+DhwH74jhmO+oIJBVwURljuAXagG5QqkSgBLqg3JnxJ1Cb8SmQ3o6gpO85owGlOB4m2BNKJ11BSd01owGlOHkcIAuHkz6UNpPKgozPM54dADHjJuNhZiJxdQCQgZJeBczgCAAy3yhPJvcnmdC9mZwBIsQMFV5AkzHBNknFgcKM+oyDIFcfCAoy03m+jSMIcmoVZkKqSjr1fghyahRmoKRUHYLiSI1SMlCq5CDgX6BXmKkfn+oQ0KEyyrzoy8GbXJ9xrM/YjhUZgl9nnsyTCe9rgSRdV15CwRcIEu8GGQAAAABJRU5ErkJggg==\" jstcache=\"0\">\n      <img id=\"1x-cloud\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAOCAQAAAD6HOaKAAAAU0lEQVR4XrWSsQkAQAgD3X9El/ELixQpJHCfdApnUCtXz7o49cgagaGPaq4rIwAP9s/C7R7UX3inJ0BDb6qWDC7ScOR/QWjRlFizuPwLtTLj+qkH6DjD2wLtikUAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"1x-text\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAAYAgMAAADWncTDAAAABlBMVEX///9TU1NYzE1OAAAAAXRSTlMAQObYZgAAAO1JREFUeF690TFqxUAQA1BNoRtk7jMu3E9Auv9Vgr/5A863Y9zEhVhkHmhZsEGkw4Lppmllh1tcLHx+aRj2YnEDuQFvcQW+EoZY0TQLCZbEVxRxAvY+i8ikW0C0bwFdbictG2zvu/4EcCuBF0B23IBsQHZBYgm1n86BN+BmyV5rQFyCJAiDJSTfgBV9BbjvXdzIcKchpMOYd3gO/jvCeuUGFALg95J0/SrtQlrzz+sAjDwCIQsbWAdgbqrQpKYRjmPuAfU5dMC+c0rxOTiO+T6ZlK4pbcDLI1DIRaf3GxDGALkQHnD+cGhMKeox+AEOL3mLO7TQZgAAAABJRU5ErkJggg==\" jstcache=\"0\">\n      <img id=\"1x-horizon\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAAMAgMAAAAPCKxBAAAABlBMVEX///9TU1NYzE1OAAAAAXRSTlMAQObYZgAAALJJREFUeF7t1EEKAyEMhtEvMNm7sPfJEVyY+1+ltLgYAsrQCtWhbxEhQvgxIJtSZypxa/WGshgzKdbq/UihMFMlt3o/CspEYoihIMaAb6mCvM6C+BTAeyo+wN4yykV/6pVfkdLpVyI1hh7GJ6QunUoLEQlQglNP2nkQkeF8+ei9cLxMue1qxVRfk1Ej0s6AEGWfVOk0QUtnK5Xo0Lac6wpdtnQqB6VxomPaz+dgF1PaqqmeWJlz1jYUaSIAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"1x-trex\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAvAgMAAABiRrxWAAAADFBMVEX///9TU1P39/f///+TS9URAAAAAXRSTlMAQObYZgAAAPpJREFUeF7d0jFKRkEMhdGLMM307itNLALyVmHvJuzTDMjdn72E95PGFEZSmeoU4YMMgxhskvQec8YSVFX1NhGcS5ywtbmC8khcZeKq+ZWJ4F8Sr2+ZCErjkJFEfcjAc/6/BMlfcz6xHdhRthYzIZhIHMcTVY1scUUiAphK8CMSPUbieTBhvD9Lj0vyV4wklEGzHpciKGOJoBp7XDcFs4kWxxM7Ey3iZ8JbzASAvMS7XLOJHTTvEkEZSeQl7DMuwVyCasqK5+XzQRYLUJlMbPXjFcn3m8eKBSjWZMJwvGIOvViAzCbUj1VEDoqFOEQGE3SyInJQLOQMJL4B7enP1UbLXJQAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"1x-restart\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAQAAADQmBIFAAAAZklEQVR4Xu3WMQoAIAxDUe/Y+58jYwV1CwQJWQT5o/DAoaWjV2i/LRym/A5FjEsR41LPQchByEHwIVAEC4gZpghmSDP8egXpr/hQZaAKQFQe+pBOQAblDC336qrlPpSg0MEjInbWTLFFmwc8TpTAAAAAAElFTkSuQmCC\" jstcache=\"0\">\n    </div>\n    <div id=\"offline-resources-2x\" jstcache=\"0\">\n      <img id=\"2x-obstacle-large\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABkBAMAAADOLxDzAAAACVBMVEX///9TU1P39/ea77PDAAAAAXRSTlMAQObYZgAAAa9JREFUeF7t1lFqhEAQBuG+wl6h7n/IEEgKlma2R8Vk1O4HWSh++Xzb8AKA8E4IXrlYnsXr+zgh1OdifZbBdFIApdWiWShtVhmQ+jAWMLFollCOsTzgxiyd7GcR01/YLOZf1SwsN2EBozBgAU9l4TAHkDWzCNjKApZlybO4z+GtFwu9bGKZl2TJSyxDxaoX8yyha7LGZRDqxR+ymtUsaNaWhTM+s5rl05tjNUsVz2Kxi6XqhSy4NcvbzgLSnzzvjqzgCCsiHsXSdZwVPIAVHGIhi+ABrOAAi5+Avy7HQhaycpAVpDDBsuKDAOBCrHzjQHgYhl9YsHxf+vRrsQxjVVAsDNMsF6uydBUhq+wWBq/ayCKWZekqA6DKPPEq/ZMsYllWdgGDoMdaLAzMsFwszgoAi1pDxUrWFKhZLlZnpXIkAORAs7YEoFmzQSxmt2NWs+xOP7GapRCiZjUrwFyymhX/xmpWs5rVrGZxQphmsT6LAAsvdgcBhmmWi9VZvN7+x+4K2WtgwBosFmZZvIh9IXsl8M5C1mCxLsvTfizoxfDTAfgdAIPFlVhxRqgHlrVZX9y44aEEvVqmAAAAAElFTkSuQmCC\" jstcache=\"0\">\n      <img id=\"2x-obstacle-small\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAABGBAMAAAByJ2Z/AAAADFBMVEX///9TU1P39/f///+TS9URAAAAAXRSTlMAQObYZgAAARZJREFUeF7t2NEJwzAQg2GtcCtoBe2/W6k5aK8qLgR6ToL9KPzzgR+NPCRRjg2ScjiQ9DKMCE4HRYQOJB2MJyXyQWPQgeSCDD8HnYHh10F6NbJk9KyMwpJ+hkEfnoSyGX1NUmAOqVjSz4zrNgwhm9FbMmEyuS7DpQw/Gf5kOGEYXMgwWBobnGHQmZKsYuyKDcZk8gdmM5uJMzKbgS7I5KENgJzxxN95PUMfAKi8gCXO6BQM4cM4ysEZwplyfxFDErAhmWniDKT3pJEpD2RDMpPEGUt6mOIQ1XFGmiXOZNLIgKUpgzH4lTgDtDIgmY0NznhSnWhk/v2ZkuONGOI2DEn0MNf7ttvMZjazmc2AJDkdJOlQ0sk8AC45t4r28J0GAAAAAElFTkSuQmCC\" jstcache=\"0\">\n      <img id=\"2x-cloud\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAcAgMAAACR2TCnAAAABlBMVEUAAADa2to4qB92AAAAAXRSTlMAQObYZgAAAFFJREFUeF6VzTEKAFEIxNA03m+a3P8q2wqi/E35BIdeGXq3q5hnrwBs7mC5vIZzu/nnqI319vRtqHB731blwSHjx+22+Rdn94rzQq0ugKPVlz5onyJcGdu0NgAAAABJRU5ErkJggg==\" jstcache=\"0\">\n      <img id=\"2x-text\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX4AAAAwAQMAAAAsMYMXAAAABlBMVEUAAABTU1OoaSf/AAAAAXRSTlMAQObYZgAAAPdJREFUeF7tkzFqAzEQRb9RsZ11BF0jlXSlpDdYOcFeSeCLKLeYQujHwxRrtF0gUoqo+AwfPRh4DDZByKk7tkv3rNszWhLHKv7BhtObALxF3LP44vRvRoLPTa4avoS8BLA+PSNFzyqAq/wDwNZxrxKBxq5axLGRS4EkgP6A6rrhy6ZVQLoiZKpfRJ8NqCp+HbCZpAcromNNHTfoeWS7hwnA//tROIpm17lddCbFgMAylGSZANiRhL1ou2treo0/ErB5AtAwbr8e8HK28wpwP8rmpwCv23+cPZhvK8GOCUD4lMHRALiOw8O9TAAcB2C8B7zDSvPw+8A3sQJ/MSdPGzIAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"2x-horizon\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACWAAAAAYAQMAAABEalRSAAAABlBMVEX///9TU1NYzE1OAAAAAXRSTlMAQObYZgAAAOtJREFUeF7tljEKwzAMRb/J0CWgI/QKOYAh1+pUcjQfpUfw2MFEHVyDQSQmQUNM9AYNcobnh4egU+YVqhAvZSpgsfolPnSv5d0nz3vHslgUdK81RLzyvHcsi+WBNxQh4Ln8pw4Wi7skAg9mXgHMrEACXJnbHIllsbqGAtwXhnYswzFzwPWxWEPc2CexoobkHM4ZpD6s2loWiyIEEwCChIomMiMEHqgP573C9eHkc5VLWh3XsljnGVoLWVl+31bp38piTVVuihtPOAm9kcRLbrFjEvqwamtZLK5eI8sSan9rXEK0LcNFrY5oWawf59S7YSRD7eMAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"2x-trex\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAABeAgMAAAAPo8UvAAAADFBMVEX///9TU1P39/f///+TS9URAAAAAXRSTlMAQObYZgAAASdJREFUeF7t1qFOBEEQRdEyGP7vGQy/hsHc/0MPSe8ylU2vKEIqqQnviRZXdI7pyUQuONda901FGAG6j8aa+6mDEUboHP01sk5EHHWEjt/UY0dk/U+Ir/cdkXUEovV1GFF/HQMR/mLWEUYYYQRrf65XRhgB2595Y80lYRjCCG7AV/IZ0FdDabgDhiKMgE+tAX01ES+ajDBCADpHZw0tRdaZCCNEGhCdNSSlQTEVYUROQGeNxxoxH2EErXU+wohdQXONqyBorDsixiB2Be01JiOM2BXQX1MRUxFGpAL6aypiMsIIJCFBtSK98fFYKd6wFDEbYUQgEYh6hTSkonbDDTAdYQTrKNd9QPWGUFwAYYRYR7U+XemGfB0ajTACWEe1Pl3thtxMhBHfOCEbEnR2KZcAAAAASUVORK5CYII=\" jstcache=\"0\">\n      <img id=\"2x-restart\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABAAgMAAADE0Nm5AAAACVBMVEX////39/dTU1OabbyfAAAAAXRSTlMAQObYZgAAAGNJREFUeF7d1CEOwDAMQ9GS3q/ExPcz8Sm3gYBWVRo0afvwSQl0ax1To22JntKWupfGjriSXiLViCXCmXBHCykJTxaYEeIQGcVrHYklcoX8YYpSUggzcpBTiv5JtQWorUltmS6s4ZKtz2GgjAAAAABJRU5ErkJggg==\" jstcache=\"0\">\n    </div>\n    <template id=\"audio-resources\" jstcache=\"0\">\n      <audio id=\"offline-sound-press\" src=\"data:audio/mpeg;base64,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\"></audio>\n      <audio id=\"offline-sound-hit\" src=\"data:audio/mpeg;base64,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\"></audio>\n      <audio id=\"offline-sound-reached\" src=\"data:audio/mpeg;base64,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\"></audio>\n    </template>\n  </div>\n\n  <script type=\"text/javascript\">\n    if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1 || \n    navigator.userAgent.toLowerCase().indexOf('edge') > -1 || navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || navigator.userAgent.toLowerCase().indexOf('safari') > -1) {\n      new Runner('.interstitial-wrapper');\n    } else {\n      document.getElementById(\"main-frame-notchrome\").style.display=\"\";\n\t}\n  </script>\n\n  <div class=\"onlyforchrome\">\n    <div id=\"socialbutts\" class=\"addthis_toolbox addthis_default_style\" style=\"text-align:center; padding-top:65px;\">\n      <table border=\"0\" style=\"margin:0 auto;\"><tr>\n\t\t\t<td><div\n\t\t\t\tclass=\"fb-like\"\n\t\t\t\tdata-share=\"false\"\n\t\t\t\tdata-width=\"150\"\n\t\t\t\tdata-show-faces=\"false\">\n\t\t\t</div></td>\n\t\t\t<td style=\"padding-left:15px;\"><div class=\"g-plusone\" data-size=\"medium\" data-href=\"http://apps.thecodepost.org/trex/trex.html\"></div></td>\n\t\t\t<td><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-url=\"http://apps.thecodepost.org/trex/trex.html\" data-text=\"Cool Hidden T-Rex game\" data-via=\"thecodepost\" data-hashtags=\"trexgame\">Tweet</a>\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></td>\n\t  </tr></table>\n    </div>\n  </div>\n\n    <script type=\"text/javascript\">\n    if (navigator.userAgent.toLowerCase().indexOf('chrome') <= -1 || \n    navigator.userAgent.toLowerCase().indexOf('edge') <= -1 || navigator.userAgent.toLowerCase().indexOf('firefox') <= -1 || navigator.userAgent.toLowerCase().indexOf('safari') <= -1) {\n\t  hideClass(\".onlyforchrome\");\n\t}\n  </script>\n\t  \n\n\n\n</body>\n\n</html>\n");
    }
    else if (req.url == "/solitaire") {
        res.write("\n<html>\n<head>\n        <meta name=\"viewport\" id=\"metaWidth\" content=\"width=530,user-scalable=no\">\n        <meta name=\"theme-color\" id=\"metaColor\" content=\"#ffffff\" />\n\n\n        <link href=\"https://fonts.googleapis.com/css?family=Raleway:200,800\" rel=\"stylesheet\">\n\n    <title>Solitaire</title>\n    <style>\n                html {\n            margin: 0;\n            padding: 0;\n            font-family: 'Raleway','Century Gothic', sans-serif;\n            background-image: linear-gradient(to bottom, #9b4f4f, #703939);\n        }\n\n        body {\n            padding: 0;\n            margin: 0 auto;\n            text-align: center;\n            color: #ccbdbd;\n        }\n\n        @keyframes flipover {\n            0% {\n                top: -10px;\n                transform: scaleX(0.001);\n            }\n\n            100% {\n                top: 0;\n                transform: scaleX(1);\n            }\n        }\n\n        @keyframes accordion {\n            0% {\n                transform: scaleX(0.9);\n            }\n\n            100% {\n                transform: scaleX(1);\n            }\n        }\n\n        @keyframes contract {\n            0% {\n                transform: scaleY(0.9);\n            }\n\n            100% {\n                transform: scaleY(1);\n            }\n        }\n\n        @keyframes expand {\n            0% {\n                transform: scaleY(1.1);\n            }\n\n            100% {\n                transform: scaleY(1);\n            }\n        }\n\n        @keyframes slideright {\n            0% {\n                left: -80px;\n                transform: scaleX(0.001);\n            }\n\n            100% {\n                left: 0;\n                transform: scaleX(1);\n            }\n        }\n\n        @keyframes slidedown {\n            0% {\n                top: -80px;\n                transform: scaleY(0.001);\n            }\n\n            100% {\n                top: 0;\n                transform: scaleY(1);\n            }\n        }\n\n        @keyframes glow {\n            0% {\n                margin-top: -76px;\n                transform: scale(1);\n                box-shadow: 0 0 15px -5px rgba(135, 65, 65, 0.5);\n            }\n            50% {\n                margin-top: -86px;\n                transform: scale(1.1);\n                box-shadow:0 0 15px 5px rgba(135, 65, 65, 0.5);\n            }\n            100% {\n                margin-top: -76px;\n                transform: scale(1);\n                box-shadow: 0 0 15px -15px rgba(135, 65, 65, 0.5);\n            }\n        }\n\n        .flipover {\n            animation: flipover 0.5s 1;\n        }\n\n        .contract {\n            animation: contract 0.5s 1;\n        }\n\n        .expand {\n            animation: expand 0.5s 1;\n        }\n\n        .board {\n            min-height: 100%;\n        }\n\n        .board .inner {\n            width: 800px;\n            max-width: 100%;\n            padding: 20px 0 10px 0;\n            margin: auto;\n        }\n\n        .board.desktop {\n            padding-top: 65px;\n        }\n\n        .board.desktop .inner {\n            width: 535px;\n        }\n\n        .board.desktop .nav-buttons {\n            top: 0;\n            bottom: auto;\n            left: 0;\n            right: 0;\n            z-index: 88888;\n            width: 100%;\n            max-width: 100%;\n        }\n\n        .board.desktop .nav-buttons .in {\n            width: 510px;\n            max-width: 96%;\n            padding: 10px 2%;\n            margin: auto;\n            position: relative;\n            z-index: 88888;\n        }\n\n        .board.desktop .nav-buttons .toggle,\n        .board.mobile.portrait .nav-buttons .toggle {\n            width: 60px;\n            height: 25px;\n        }\n        .board.desktop .nav-buttons .toggle label,\n        .board.mobile.portrait .nav-buttons .toggle label {\n            height: 25px;\n        }\n\n        .board.mobile.landscape .nav-buttons .toggle {\n            height: 60px;\n            width: 25px;\n        }\n        .board.mobile.landscape .nav-buttons .toggle label {\n            height: 60px;\n        }\n\n        .board.desktop .nav-buttons .in:after {\n            content: \"\";\n            display: block;\n            clear: both;\n        }\n\n        .board.desktop .nav-buttons .in button.new,\n        .board.mobile.portrait .nav-buttons .in button.new {\n            float: right;\n        }\n\n        .board.desktop .nav-buttons .in button.back,\n        .board.mobile.portrait .nav-buttons .in button.back {\n            float: left;\n            position: static;\n        }\n\n        .board.desktop .nav-buttons .in button.new,\n        .board.mobile.portrait .nav-buttons .in button.new {\n            float: right;\n        }\n\n        .board.desktop .nav-buttons .in button.back,\n        .board.mobile.portrait .nav-buttons .in button.back {\n            position: static;\n            float: left;\n        }\n\n        .board.desktop .nav-buttons input:checked + label:after,\n        .board.mobile.portrait .nav-buttons input:checked + label:after {\n            float: right;\n            margin: 0;\n        }\n\n        .board.mobile.landscape .nav-buttons input:checked + label:after {\n            margin: 35px 0 0;\n        }\n\n        .board.desktop .nav-buttons .in .toggle:before,\n        .board.mobile.portrait .nav-buttons .in .toggle:before {\n            top: 4px;\n            left: -25px;\n        }\n\n        .board.desktop .nav-buttons .in .toggle:after,\n        .board.mobile.portrait .nav-buttons .in .toggle:after {\n            bottom: 4px;\n            right: -25px;\n        }\n\n        .board.mobile.landscape .nav-buttons .in .toggle:before,\n        .board.mobile.landscape .nav-buttons .in .toggle:after {\n            left: 4px;\n        }\n\n        .board.mobile.landscape .nav-buttons .in .toggle:before {\n            top: -25px;\n        }\n\n        .board.mobile.landscape .nav-buttons .in .toggle:after {\n            bottom: -25px;\n        }\n\n        /* dark */\n        .board.dark {\n            background-image: linear-gradient(to top, #0f0c0c, #251e1e);\n        }\n\n        .board.dark .cd.f {\n            background-color: #412020;\n            border-color: #2e2626;\n            background-image: repeating-linear-gradient(55deg, transparent, transparent 18px, #4b3e3e 19px, transparent 20px), repeating-linear-gradient(-55deg, transparent, transparent 18px, #161212 19px, transparent 20px), linear-gradient(to bottom, #221c1c, #4d3e3e);\n        }\n\n        .board.dark .closet {\n            background-color: #151111;\n        }\n\n        .board.dark.mobile .nav-buttons .in,\n        .board.dark.desktop .nav-buttons {\n            background-color: #302727;\n        }\n\n        .board.dark .nav-buttons button {\n            background-color: #0f0c0c;\n            color: #999999;\n        }\n\n        .board.dark .cd.s,\n        .board.dark .cd.c {\n            color: #999999;\n            background-color: #181818;\n            background-image: linear-gradient(to bottom, #272727, #373737);\n            border-color: #414141;\n        }\n\n        .board.dark .cd.h,\n        .board.dark .cd.d {\n            color: #ee5555;\n            background-color: #640000;\n            background-image: linear-gradient(to bottom, #580000, #741212);\n            border-color: #740808;\n        }\n\n        /* light */\n        .board.light {\n            background-image: linear-gradient(to top, #ce9d9d, #e9e3e3);\n            color: #4b0707;\n        }\n\n        .board.light .cd.f {\n            background-color: #999999;\n            border-color: #e9dbdb;\n            background-image: repeating-linear-gradient(55deg, transparent, transparent 18px, #ffffff 19px, transparent 20px), repeating-linear-gradient(-55deg, transparent, transparent 18px, #cccccc 19px, transparent 20px), linear-gradient(to bottom, #d3c2c2, #f0e4e4);\n        }\n\n        .board.light .closet {\n            background-color: #f6e5e5;\n        }\n\n        .board.light.mobile .nav-buttons .in,\n        .board.light.desktop .nav-buttons {\n            background-color: #dcc0c0;\n        }\n\n        .board.light .nav-buttons button {\n            background-color: #e6dbdb;\n            color: #000000;\n        }\n\n        .board.light .cd.s,\n        .board.light .cd.c {\n            color: #080808;\n            background-color: #ffffff;\n            background-image: linear-gradient(to bottom, #ffffff, #a7a7a7);\n            border-color: #9c9c9c;\n        }\n\n        .board.light .cd.h,\n        .board.light .cd.d {\n            color: #9e0000;\n            background-color: #fde3e3;\n            background-image: linear-gradient(to bottom, #ffe5e5, #ff8787);\n            border-color: #ff6c6c;\n        }\n\n        /* end of colors */\n        h1 {\n            padding: 100px 0 25px;\n            font-weight: 200;\n            font-size: 3em;\n            margin: 0;\n        }\n\n        .won button {\n            color: #eeeeee;\n            background-color: #cc0000;\n        }\n        .won button:hover {\n            color: #cccccc;\n            background-color: maroon;\n        }\n\n        button {\n            border: 0;\n            padding: 10px 20px;\n            font-weight: bold;\n            font-family: 'Raleway', 'Century Gothic', sans-serif;\n            border-radius: 8px;\n            font-size: 18px;\n            cursor: pointer;\n        }\n\n        .start-container button {\n            background-color: #333333;\n            color: #eeeeee;\n            min-width: 200px;\n            margin: 0 auto 20px;\n        }\n\n        button.resumer {\n            background-color: #d6b6b6;\n            color: #190101;\n        }\n\n        button:hover {\n            background-color: #cc0000;\n        }\n\n        .nav-buttons {\n            position: fixed;\n            bottom: 0;\n            top: 0;\n            max-width: 100%;\n            width: 800px;\n            text-align: center;\n        }\n\n        .nav-buttons .in {\n            z-index: 200000;\n            width: 9%;\n            padding: 10px;\n            position: absolute;\n            right: 0;\n            top: 0;\n            bottom: 0;\n        }\n\n        .board.mobile.portrait .nav-buttons {\n            top: auto;\n            width: auto;\n            left: 0;\n            right: 0;\n        }\n\n        .board.mobile.portrait .nav-buttons .in {\n            width: auto;\n            position: relative;\n        }\n\n        .nav-buttons .in:after {\n            clear: both;\n            content: \"\";\n            display: block;\n        }\n\n        .nav-buttons .toggle {\n            display: block;\n            border-radius: 30px;\n            width: 25px;\n            height: 60px;\n            position: absolute;\n            margin: auto;\n            background: rgba(135, 64, 74, 0.49);\n            top: 0;\n            bottom: 0;\n            left: 0;\n            right: 0;\n        }\n\n        .nav-buttons .toggle:before,\n        .nav-buttons .toggle:after {\n            content: \"\";\n            display: block;\n            position: absolute;\n            border-radius: 20px;\n            height: 15px;\n            width: 15px;\n        }\n\n        .nav-buttons .toggle:before {\n            background: #ffffff;\n        }\n\n        .nav-buttons .toggle:after {\n            background: #000000;\n        }\n\n        .nav-buttons input {\n            position: absolute;\n            opacity: 0;\n            width: 0;\n            height: 0;\n        }\n\n        .nav-buttons label {\n            display: block;\n            cursor: pointer;\n        }\n\n        .nav-buttons label:after {\n            content: \"\";\n            display: block;\n            background: #853f3f;\n            height: 25px;\n            width: 25px;\n            border-radius: 15px;\n        }\n\n        .nav-buttons button {\n            font-weight: bold;\n            padding: 10px 0;\n            width: 50px;\n        }\n\n        .nav-buttons .back {\n            position: absolute;\n            bottom: 15px;\n            margin: auto;\n            left: 0;\n            right: 0;\n        }\n\n        .numd {\n            text-align: center;\n            opacity: 0.4;\n        }\n\n        .numd.len10 .icon {\n            width: 6px;\n            height: 6px;\n            margin: 2px;\n        }\n\n        .numd.len9 .icon {\n            width: 6px;\n            height: 6px;\n            margin: 2px;\n        }\n\n        .numd.len8 .icon {\n            width: 8px;\n            height: 8px;\n            margin: 2px;\n        }\n\n        .numd.len7 .icon {\n            width: 8px;\n            height: 8px;\n            margin: 2px;\n        }\n\n        .numd.len6 .icon {\n            width: 8px;\n            height: 8px;\n            margin: 7px 2px 1px;\n        }\n\n        .numd.len5 .icon {\n            width: 8px;\n            height: 8px;\n            margin: 7px 2px 1px;\n        }\n\n        .numd.len4 .icon {\n            width: 10px;\n            height: 10px;\n            margin: 2px;\n        }\n\n        .numd.len3 .icon {\n            width: 8px;\n            height: 8px;\n            margin: 4px auto 0;\n            display: block;\n        }\n\n        .numd.len2 .icon {\n            width: 15px;\n            height: 15px;\n            margin: 9px 0px 1px 3px;\n        }\n\n        .numd.len1 .icon {\n            width: 25px;\n            height: 25px;\n            margin: 7px auto 0;\n        }\n\n        .icon {\n            display: inline-block;\n            width: 15px;\n            height: 15px;\n        }\n\n        .icon span {\n            display: block;\n        }\n\n        .icon.diamond {\n            transform: scaleX(0.7);\n        }\n\n        .icon.diamond span {\n            width: 70%;\n            height: 70%;\n            margin-top: 21%;\n            margin-left: 14%;\n            transform: rotate(45deg);\n        }\n\n        .icon.heart .a,\n        .icon.heart .b {\n            border-radius: 50%;\n            width: 50%;\n            height: 52%;\n            margin-top: 14%;\n        }\n\n        .icon.heart .a {\n            float: left;\n        }\n\n        .icon.heart .b {\n            float: right;\n        }\n\n        .icon.heart .c {\n            clear: both;\n            transform: rotate(45deg);\n            width: 52%;\n            height: 52%;\n            margin-left: auto;\n            margin-right: auto;\n            position: relative;\n            top: -28%;\n        }\n\n        .icon.spade .a,\n        .icon.spade .b {\n            border-radius: 50%;\n            width: 43%;\n            height: 50%;\n            margin-top: 14%;\n        }\n\n        .icon.spade .c {\n            transform: rotate(45deg);\n            width: 55%;\n            height: 55%;\n            margin-left: auto;\n            margin-right: auto;\n            margin-top: 27%;\n            margin-bottom: -44%;\n        }\n\n        .icon.spade .a {\n            float: left;\n        }\n\n        .icon.spade .b {\n            float: right;\n        }\n\n        .icon.spade .d {\n            margin: 0 auto 0;\n            width: 13%;\n            height: 78%;\n        }\n\n        .icon.club .a,\n        .icon.club .b,\n        .icon.club .c {\n            border-radius: 50%;\n            width: 46%;\n            height: 44%;\n        }\n\n        .icon.club .a {\n            margin: 8% auto -13%;\n        }\n\n        .icon.club .b {\n            float: left;\n        }\n\n        .icon.club .c {\n            float: right;\n        }\n\n        .icon.club .d {\n            margin: 0 auto 0;\n            width: 15%;\n            height: 70%;\n        }\n\n        .cd {\n            overflow: hidden;\n            font-weight: bold;\n            padding: 3px;\n            text-align: right;\n            border: 5px solid #222222;\n            margin: 5px;\n            float: left;\n            width: 40px;\n            height: 60px;\n            z-index: 999;\n            cursor: pointer;\n            position: relative;\n            border-radius: 3px;\n            user-select: none;\n        }\n\n        .cd * {\n            pointer-events: none;\n        }\n\n        .icon.spade span,\n        .icon.club span {\n            background: #999999;\n        }\n\n        .icon.heart span,\n        .icon.diamond span {\n            background: #ee5555;\n        }\n\n        .cd p {\n            float: left;\n            padding: 0 0 5px;\n        }\n\n        .cd p,\n        .cd h2 {\n            margin: 0;\n            line-height: 1;\n        }\n\n        .cd h2 {\n            text-align: center;\n            padding: 6px 0 0;\n            font-size: 1.9em;\n            font-weight: bold;\n        }\n\n        .cd hr {\n            opacity: 0.5;\n            margin: 0;\n            border-width: 1px 0 0 0;\n            border-style: solid;\n            clear: both;\n        }\n\n        .cd i {\n            display: inline-block;\n            margin: 3px;\n            height: 0;\n            width: 0;\n            border: 2px solid;\n            border-radius: 50%;\n        }\n\n        .stack {\n            padding-top: 70px;\n            min-height: 70px;\n            float: left;\n            transform-origin: 0 0;\n            background-size: 52px 74px;\n            background-repeat: no-repeat;\n            background-position: center 10px;\n        }\n\n        .board.dark .stack {\n        background-image: linear-gradient(#312727, #221c1c);\n        }\n        .board.light .stack {\n        background-image: linear-gradient(#e6dada, #e5d9d9);\n        }\n\n        .board.mobile.landscape .stack {\n            width: 9.5%;\n        }\n\n        .board.desktop .stack,\n        .board.mobile.portrait .stack {\n            width: 14.2%;\n        }\n\n        .board.desktop .stacks,\n        .board.mobile.portrait .stacks {\n            clear: both;\n            padding: 5px;\n        }\n\n        .stack .cd {\n            margin-bottom: 0;\n            margin-left: 9px;\n            margin-top: -50px;\n            box-shadow: 0px -3px 4px 1px rgba(0,0,0,0.25);\n            transition: margin-top 0.5s;\n        }\n\n        .stack .cd.f {\n            margin-top: -60px;\n        }\n\n        .stack.len8 .cd.f {\n            margin-top: -65px;\n        }\n\n        .stack.len9 .cd.f {\n            margin-top: -67px;\n        }\n\n        .stack.len10 .cd.f,\n        .stack.len11 .cd.f,\n        .stack.len12 .cd.f,\n        .stack.len13 .cd.f,\n        .stack.len14 .cd.f,\n        .stack.len15 .cd.f,\n        .stack.len16 .cd.f {\n            margin-top: -70px;\n        }\n\n        .cd.f+.cd.a {\n            margin-top: -64px;\n        }\n\n        .stack .cd.f:first-child,\n        .stack .cd.a:first-child {\n            margin-top: -60px\n        }\n\n        .board.mobile.landscape .refuse-pile {\n            width: 9%;\n            padding-top: 88px;\n            padding-left: 1%;\n            padding-bottom: 0;\n            float: left;\n            transform-origin: 0 0;\n        }\n\n        .board.mobile.landscape .refuse-pile .cd.f {\n            float: left;\n            margin-top: -77px;\n            box-shadow: -3px -2px 4px -2px rgba(0,0,0,0.5);\n        }\n\n        .board.desktop .refuse-pile .cd.slide,\n        .board.mobile.portrait .refuse-pile .cd.slide {\n            animation: slideright 0.5s 1;\n        }\n\n        .board.mobile.landscape .refuse-pile .cd.slide {\n            animation: slidedown 0.5s 1;\n        }\n\n        .board.desktop .refuse-pile.accordion,\n        .board.mobile.portrait .refuse-pile.accordion {\n            animation: accordion 0.5s 1;\n            transform-origin: 0 0;\n        }\n\n        .board.desktop .refuse-pile,\n        .board.mobile.portrait .refuse-pile {\n            width: 185px;\n            float: left;\n            padding-top: 50px;\n            padding-left: 2%;\n        }\n\n        .board.desktop .refuse-pile .cd,\n        .board.desktop .refuse-pile .cd.f,\n        .board.mobile.portrait .refuse-pile .cd,\n        .board.mobile.portrait .refuse-pile .cd.f {\n            margin-top: -50px;\n            margin-bottom: 0;\n        }\n\n        .board.desktop .refuse-pile .cd,\n        .board.mobile.portrait .refuse-pile .cd {\n            float: right;\n        }\n\n        .board.desktop .refuse-pile.all .cd.f,\n        .board.mobile.portrait .refuse-pile.all .cd.f {\n            margin-left: -53.6px;\n        }\n\n        .board.desktop .refuse-pile .cd,\n        .board.mobile.portrait .refuse-pile .cd {\n            margin-right: 0;\n            margin-top: -50px;\n            box-shadow: 0px 0px 4px 1px rgba(0,0,0,0.5);\n        }\n\n        .closet {\n            float: right;\n            text-align: left;\n            border-radius: 2px;\n            width: 57px;\n            height: 0px;\n            padding: 81px 4px 5px;\n            margin: 0 0 5px 0;\n        }\n\n        .board.mobile.landscape .closets-area {\n            width: 10%;\n            float: right;\n            margin-right: 13%;\n        }\n\n        .board.desktop .closets-area,\n        .board.mobile.portrait .closets-area {\n            margin-right: 2%;\n        }\n\n        .board.desktop .closet,\n        .board.mobile.portrait .closet {\n            margin: 0 5px 0 0;\n        }\n\n        .closet .cd.glow {\n            animation: glow 0.5s 1;\n        }\n        .closet .cd {\n            margin: -76px 0 0;\n        }\n\n        .closet .cd:last-of-type {\n            box-shadow: 0px 0px 4px 1px rgba(0,0,0,0.5);\n        }\n\n        .closet > .icon {\n            pointer-events: none;\n            text-align: center;\n            height: 36px;\n            position: absolute;\n            width: 35px;\n            line-height: 40px;\n            margin: -58px 0 0 12px;\n            font-size: 40px;\n            opacity: 0.5;\n        }\n\n        .clear:after {\n            content: \"\";\n            display: block;\n            clear: both;\n        }\n\n        .board.desktop .refuse-pile .cd.f,\n        .board.mobile.portrait .refuse-pile .cd.f {\n            float: left;\n        }\n\n        .board.desktop .refuse-pile.len24 .cd.f,\n        .board.mobile.portrait .refuse-pile.len24 .cd.f {\n            margin-left: -53.2px;\n        }\n\n        .board.desktop .refuse-pile.len23 .cd.f,\n        .board.mobile.portrait .refuse-pile.len23 .cd.f {\n            margin-left: -53.1px;\n        }\n\n        .board.desktop .refuse-pile.len22 .cd.f,\n        .board.mobile.portrait .refuse-pile.len22 .cd.f {\n            margin-left: -53px;\n        }\n\n        .board.desktop .refuse-pile.len21 .cd.f,\n        .board.mobile.portrait .refuse-pile.len21 .cd.f {\n            margin-left: -52.9px;\n        }\n\n        .board.desktop .refuse-pile.len20 .cd.f,\n        .board.mobile.portrait .refuse-pile.len20 .cd.f {\n            margin-left: -52.7px;\n        }\n\n        .board.desktop .refuse-pile.len19 .cd.f,\n        .board.mobile.portrait .refuse-pile.len19 .cd.f {\n            margin-left: -52.5px;\n        }\n\n        .board.desktop .refuse-pile.len18 .cd.f,\n        .board.mobile.portrait .refuse-pile.len18 .cd.f {\n            margin-left: -52.4px;\n        }\n\n        .board.desktop .refuse-pile.len17 .cd.f,\n        .board.mobile.portrait .refuse-pile.len17 .cd.f {\n            margin-left: -52px;\n        }\n\n        .board.desktop .refuse-pile.len16 .cd.f,\n        .board.mobile.portrait .refuse-pile.len16 .cd.f {\n            margin-left: -51.7px;\n        }\n\n        .board.desktop .refuse-pile.len15 .cd.f,\n        .board.mobile.portrait .refuse-pile.len15 .cd.f {\n            margin-left: -51.5px;\n        }\n\n        .board.desktop .refuse-pile.len14 .cd.f,\n        .board.mobile.portrait .refuse-pile.len14 .cd.f {\n            margin-left: -51px;\n        }\n\n        .board.desktop .refuse-pile.len13 .cd.f,\n        .board.mobile.portrait .refuse-pile.len13 .cd.f {\n            margin-left: -50.7px;\n        }\n\n        .board.desktop .refuse-pile.len12 .cd.f,\n        .board.mobile.portrait .refuse-pile.len12 .cd.f {\n            margin-left: -50px;\n        }\n\n        .board.desktop .refuse-pile.len11 .cd.f,\n        .board.mobile.portrait .refuse-pile.len11 .cd.f {\n            margin-left: -49.7px;\n        }\n\n        .board.desktop .refuse-pile.len10 .cd.f,\n        .board.mobile.portrait .refuse-pile.len10 .cd.f {\n            margin-left: -49px;\n        }\n\n        .board.desktop .refuse-pile.len9 .cd.f,\n        .board.mobile.portrait .refuse-pile.len9 .cd.f {\n            margin-left: -48px;\n        }\n\n        .board.desktop .refuse-pile.len8 .cd.f,\n        .board.mobile.portrait .refuse-pile.len8 .cd.f {\n            margin-left: -46px;\n        }\n\n        .board.desktop .refuse-pile.len7 .cd.f,\n        .board.mobile.portrait .refuse-pile.len7 .cd.f {\n            margin-left: -44px;\n        }\n\n        .board.desktop .refuse-pile.len6 .cd.f,\n        .board.mobile.portrait .refuse-pile.len6 .cd.f {\n            margin-left: -41px;\n        }\n\n        .board.desktop .refuse-pile.len5 .cd.f,\n        .board.mobile.portrait .refuse-pile.len5 .cd.f {\n            margin-left: -37px;\n        }\n\n        .board.desktop .refuse-pile.len4 .cd.f,\n        .board.mobile.portrait .refuse-pile.len4 .cd.f {\n            margin-left: -28px;\n        }\n\n        .board.desktop .refuse-pile.len3 .cd.f,\n        .board.mobile.portrait .refuse-pile.len3 .cd.f {\n            margin-left: 4px;\n        }\n\n        .board.desktop .refuse-pile.len2 .cd.f,\n        .board.mobile.portrait .refuse-pile.len2 .cd.f {\n            margin-left: 4px;\n        }\n\n        .board.desktop .refuse-pile .cd.f:first-child,\n        .board.mobile.portrait .refuse-pile .cd.f:first-child {\n            margin-left: 0;\n        }\n\n        @media (max-width: 505px) {\n            .closets-area {\n                clear: both;\n            }\n        }\n\n    </style>\n</head>\n<body>\n\n</body>\n<script type=\"text/javascript\">\n    (function() {\n    var cards = [];\n    var suits = ['h', 's', 'c', 'd'];\n    var displays = {\n        n1: 'A',\n        n11: 'J',\n        n12: 'Q',\n        n13: 'K'\n    };\n    var icons = {\n        h: '<div class=\"icon heart\"><span class=\"a\"></span><span class=\"b\"></span><span class=\"c\"></span></div>',\n        s: '<div class=\"icon spade\"><span class=\"c\"></span><span class=\"a\"></span><span class=\"b\"></span><span class=\"d\"></span></div>',\n        c: '<div class=\"icon club\"><span class=\"a\"></span><span class=\"b\"></span><span class=\"c\"></span><span class=\"d\"></span></div>',\n        d: '<div class=\"icon diamond\"><span></span></div>'\n    };\n\n    var lastLocation = {};\n    var activeCards = [];\n\n    var currentGame = {};\n    var priorGame = {};\n    var hasStarted = false;\n\n    function renderStartBoard() {\n        if (getCookie('currentGame') !== null) {\n            currentGame = JSON.parse(getCookie('currentGame'));\n        }\n        document.body.innerHTML = '<div id=\"start-container\" class=\"start-container\"><h1>Solitaire</h1><button id=\"startnew\">New game</button><br>' + (getCookie('currentGame') !== null ? '<button id=\"resume-game\" class=\"resumer\">Resume previous</button>' : '') + '</div>';\n    }\n\n    function historyPush() {\n        currentGame.steps = currentGame.steps + 1;\n        priorGame = window.history.state;\n        window.history.pushState(currentGame, null, currentGame.steps > 0 ? '#step' + currentGame.steps : null);\n        document.cookie = 'color=' + (getCookie('color') ? getCookie('color') : 'dark');\n        document.cookie = 'currentGame=' + JSON.stringify(currentGame);\n        renderBoard();\n        priorGame = currentGame;\n    }\n\n    function getCookie(cookie) {\n        var cookies = document.cookie.split('; ');\n        for (var co = 0; co < cookies.length; co++) {\n            var ident = cookie + '=';\n            if (cookies[co].indexOf(ident) === 0) {\n                return cookies[co].replace(ident, '');\n            }\n        }\n        return null;\n    }\n\n    function getAllIcons(n, s) {\n        if (n < 11) {\n            var htmls = '<div class=\"numd len' + n + '\">';\n\n            for (var b = 0; b < n; b++) {\n                htmls += icons[s];\n            }\n            htmls += '</div>';\n            return htmls;\n        }\n        return '<h2 class=\"numd\">' + displays['n' + n] + '</h2>';\n    }\n\n    function strEndsWith(needle, haystack) {\n        var needLen = needle.length;\n        var hayLen = haystack.length;\n        if (needLen < hayLen) {\n            var lopped = haystack.slice(-needLen);\n            if (needle === lopped) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function shuffle(a) {\n        for (let i = a.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [a[i], a[j]] = [a[j], a[i]];\n        }\n        return a;\n    }\n\n    function cardContents(n, s) {\n        return '<p>' + (displays['n' + n] ? displays['n' + n] : n) + '</p>' + icons[s] + '<hr/>' + getAllIcons(n, s);\n    }\n\n    window.onhashchange = function(e) {\n        if (window.history.state) {\n            currentGame = window.history.state;\n            renderBoard();\n            if (strEndsWith('step1', e.newURL) && strEndsWith('step2', e.oldURL)) {\n                alert('You have reached the beginning of this game!');\n            } else if (strEndsWith('step1', e.oldURL)) {\n                window.history.go(-28);\n                renderStartBoard();\n            }\n        }\n    };\n\n    window.onresize = function() {\n        if (hasStarted) {\n            renderBoard();\n        }\n    };\n\n    document.addEventListener('click', function(e) {\n        if (e.target.id === 'startnew') {\n            startNewGame();\n            return false;\n        } else if (e.target.id === 'new-game') {\n            if (window.confirm(\"Close this game and start a new one?\")) {\n                startNewGame();\n            }\n            return false;\n        } else if (e.target.id === 'resume-game') {\n            historyPush();\n            return false;\n        } else if (e.target.id === 'back-button') {\n            window.history.back();\n            return false;\n        } else if (e.target.id === 'color') {\n            e.preventDefault();\n            var thisColor = e.target.checked ? 'dark' : 'light';\n            document.cookie = 'color=' + thisColor;\n            renderBoard();\n            return false;\n        }\n    });\n\n    function renderCard(data, extraClass) {\n        var newCard = document.createElement('div');\n        newCard.data = data;\n        newCard.className = 'cd ';\n        newCard.ontouchstart = function(e) {\n            e.preventDefault();\n            startDrag(e);\n            return false;\n        };\n        newCard.ontouchmove = function(e) {\n            var lastPosX = e.changedTouches[0].clientX;\n            var lastPosY = e.changedTouches[0].clientY;\n            moveDrag(e, lastPosX, lastPosY);\n        };\n        newCard.ontouchend = function(e) {\n            e.preventDefault();\n            var lastPosX = e.changedTouches[0].pageX;\n            var lastPosY = e.changedTouches[0].pageY;\n            stopDrag(e, lastPosX, lastPosY);\n            return false;\n        };\n        newCard.onmousedown = function(e) {\n            startDrag(e);\n        };\n        newCard.onmousemove = function(e) {\n            var lastPosX = e.clientX;\n            var lastPosY = e.clientY;\n            moveDrag(e, lastPosX, lastPosY);\n        };\n        newCard.onmouseup = function(e) {\n            var lastPosX = e.pageX\n            var lastPosY = e.pageY;\n            stopDrag(e, lastPosX, lastPosY);\n        };\n        if (data.folded) {\n            newCard.className = newCard.className + 'f';\n        } else {\n            newCard.className += data.s + ' n' + data.n + (data.accepting ? ' a' : '') + (extraClass ? extraClass : '');\n            newCard.innerHTML = cardContents(data.n, data.s);\n        }\n        return newCard;\n    }\n\n    function startDrag(e) {\n        activeCards = [];\n        if (e.target.className.indexOf('cd') > -1 && !e.target.data.folded) {\n            lastLocation = e.target.parentNode;\n            activeCards.push(e.target);\n            var grabberCard = activeCards[0].nextElementSibling;\n            while (lastLocation.id.indexOf('stack') > -1 && grabberCard !== null) {\n                activeCards.push(grabberCard);\n                grabberCard = grabberCard.nextElementSibling;\n            }\n        } else if (e.target.className.indexOf('cd f') > -1 && e.target.parentNode.className.indexOf('refuse') > -1) {\n            if (e.target.nextElementSibling) {\n                var thisLast = currentGame.refuse[currentGame.refuse.length - 1];\n                thisLast.folded = true;\n                currentGame.refuse.pop();\n                currentGame.refuse.unshift(thisLast);\n            }\n            currentGame.refuse[currentGame.refuse.length - 1].folded = false;\n            activeCards = [];\n            historyPush();\n        }\n    }\n\n    function moveDrag(e, lastPosX, lastPosY) {\n        if (activeCards.length > 0) {\n            var left = lastPosX - 30;\n            var top = lastPosY + 15;\n            var zIndex = 999999;\n            for (var ac = 0; ac < activeCards.length; ac++) {\n                activeCards[ac].style = 'position: fixed; z-index: ' + zIndex + '; left: ' + left + 'px; top: ' + top + 'px';\n                top = top + 20;\n                zIndex = zIndex + 100;\n            }\n        }\n    }\n\n    function stopDrag(e, lastPosX, lastPosY) {\n        var accepterNode = null;\n        var giverNode = lastLocation.id;\n\n        var successfulMove = false;\n        if (activeCards.length > 0) {\n            var movingSuit = activeCards[0].data.s;\n            var movingNum = activeCards[0].data.n;\n            var movingColor = activeCards[0].data.colr;\n            var accepters = document.getElementsByClassName('a');\n            for (var ac = 0; ac < accepters.length; ac++) {\n                var accepter = accepters[ac];\n                if (accepter.data && accepter.data.id == activeCards[0].data.id) {\n                    continue;\n                }\n\n                var aX0 = accepter.offsetLeft;\n                var aX1 = aX0 + accepter.offsetWidth;\n                var aY0 = accepter.offsetTop;\n                var aY1 = aY0 + accepter.offsetHeight;\n\n                var isStack = accepter.className.indexOf('stack') > -1 && accepter.children.length === 0;\n                var isCloset = accepter.className.indexOf('closet') > -1 && accepter.children.length === 1;\n                var isStackCard = accepter.parentNode.className.indexOf('stack') > -1;\n                var isClosetCard = accepter.parentNode.className.indexOf('closet') > -1;\n\n                if (lastPosX >= aX0 && lastPosX <= aX1 && lastPosY >= aY0 && lastPosY <= aY1) {\n                    if (isStack) {\n                        if (movingNum === 13) {\n                            accepterNode = currentGame.stacks[accepter.id];\n                            successfulMove = true;\n                            break;\n                        }\n                    } else if (isCloset) {\n                        var accepterSuit = accepter.getAttribute('data-suit');\n                        if (accepterSuit === movingSuit && movingNum === 1 && activeCards.length === 1) {\n                            accepterNode = currentGame.closets[accepter.id];\n                            successfulMove = true;\n                            break;\n                        }\n                    } else if (isClosetCard) {\n                        var accepterSuit = accepter.data.s;\n                        var accepterNum = accepter.data.n;\n                        if (accepterSuit === movingSuit && accepterNum + 1 === movingNum && activeCards.length === 1) {\n                            accepterNode = currentGame.closets[accepter.parentNode.id];\n                            successfulMove = true;\n                            break;\n                        }\n                    } else if (isStackCard) {\n                        var accepterNum = accepter.data.n;\n                        var accepterColor = accepter.data.colr;\n                        if (accepterColor !== movingColor && accepterNum - 1 === movingNum) {\n                            var accepterNode = currentGame.stacks[accepter.parentNode.id];\n                            var giverNode = lastLocation.id;\n                            successfulMove = true;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if (successfulMove) {\n                var oldStack = currentGame.stacks[giverNode];\n                if (giverNode === 'refuse') {\n                    oldStack = currentGame['refuse'];\n                } else if (giverNode.indexOf('stack') === -1) {\n                    oldStack = currentGame.closets[giverNode];\n                }\n\n                while (activeCards.length > 0) {\n                    if (activeCards.length === 1) {\n                        activeCards[0].data.accepting = true;\n                    }\n                    accepterNode.push(activeCards[0].data);\n                    oldStack.pop();\n\n                    activeCards.shift();\n                }\n                if (oldStack.length) {\n                    if (giverNode !== 'refuse') {\n                        oldStack[oldStack.length - 1].accepting = true;\n                    }\n                    oldStack[oldStack.length - 1].folded = false;\n                }\n                historyPush();\n                checkIfFinished();\n            } else {\n                activeCards = [];\n                renderBoard();\n            }\n        }\n    }\n\n    function checkIfFinished() {\n        var isFinished = true;\n        for (var re = 0; re < currentGame.refuse.length; re++) {\n            if (currentGame.refuse[re].folded) {\n                isFinished = false;\n            }\n        }\n        for (var stac in currentGame.stacks) {\n            for (var s = 0; s < currentGame.stacks[stac].length; s++) {\n                if (currentGame.stacks[stac][s].folded) {\n                    isFinished = false;\n                }\n            }\n        }\n        if (isFinished) {\n            var closs = currentGame.closets;\n            var cardsLeft = 52 - (closs['c'].length + closs['d'].length + closs['h'].length + closs['s'].length);\n            hasStarted = false;\n            clearBoard(cardsLeft);\n        }\n    }\n\n    function startNewGame() {\n        cards = [];\n        var game = {\n            steps: -28,\n            stacks: {\n                stack1: [],\n                stack2: [],\n                stack3: [],\n                stack4: [],\n                stack5: [],\n                stack6: [],\n                stack7: [],\n            },\n            refuse: [],\n            closets: {\n                c: [],\n                d: [],\n                h: [],\n                s: []\n            }\n        };\n        for (var s = 0; s < suits.length; s++) {\n            for (var c = 1; c < 14; c++) {\n                cards.push({\n                    suit: suits[s],\n                    num: c\n                });\n            }\n        }\n\n        cards = shuffle(cards);\n        for (var i = 0; i < cards.length; i++) {\n            var cardHTML = document.createElement(\"div\");\n            cardHTML.className = \"cd f\";\n            var data = {\n                's': cards[i].suit,\n                'n': cards[i].num,\n                'id': cards[i].suit + cards[i].num,\n                'colr': cards[i].suit === 'd' || cards[i].suit === 'h' ? 'r' : 'b',\n                'folded': true,\n                'accepting': false\n            };\n            cardHTML.data = data;\n            game.refuse.push(data);\n        }\n\n        var maxStack = 0;\n        var nextStack = 2;\n        var delay = 1;\n        currentGame = game;\n        historyPush();\n        var interv = setInterval(fillBoard, 100);\n\n        function fillBoard() {\n            if (delay === 29) {\n                clearInterval(interv)\n            } else {\n                delay++;\n                var sortoObject = game.refuse[game.refuse.length - 1];\n                game.refuse.pop();\n                maxStack++;\n                if (maxStack === 8 || maxStack === 1) {\n                    sortoObject.folded = false;\n                    sortoObject.accepting = true;\n                }\n                if (maxStack === 8) {\n                    maxStack = nextStack;\n                    nextStack++;\n                }\n                if (nextStack < 9) {\n                    game.stacks['stack' + maxStack].push(sortoObject)\n                }\n                currentGame = game;\n                historyPush();\n            }\n        }\n        hasStarted = true;\n    }\n\n    function renderBoard() {\n        document.body.innerHTML = '';\n        var outerBoard = document.createElement('div');\n        outerBoard.className = 'board clear ' + (getCookie('color') ? getCookie('color') : 'dark');\n        outerBoard.id = \"gameboard\";\n        var board = document.createElement('div');\n        board.className = 'inner clear';\n\n        var bottomButtons = document.createElement('div');\n        bottomButtons.className = 'nav-buttons';\n        bottomButtons.innerHTML = '<div class=\"in\"><button id=\"new-game\" class=\"new\">&#xff0b;</button><div class=\"toggle\"><input type=\"checkbox\" id=\"color\" ' + (getCookie('color') === 'dark' ? 'checked' : '') + '><label for=\"color\"></label></div><button id=\"back-button\" class=\"back\">&larr;</button></div>';\n        board.appendChild(bottomButtons);\n\n        var closets = document.createElement('div');\n        closets.className = 'closets-area';\n        for (var gc in currentGame.closets) {\n            var closet = document.createElement('div');\n            var cardsInCloset = currentGame.closets[gc];\n            var priorCardsInCloset = priorGame && priorGame.closets ? priorGame.closets[gc] : [];\n            var shouldAnimate = cardsInCloset.length > priorCardsInCloset.length ? ' glow' : '';\n            closet.id = gc;\n            closet.className = 'closet closet' + gc + (cardsInCloset.length ? '' : ' a');\n            closet.innerHTML = icons[gc];\n            closet.setAttribute('data-suit', gc);\n            for (var c = 0; c < cardsInCloset.length; c++) {\n                closet.appendChild(renderCard(cardsInCloset[c], shouldAnimate));\n            }\n            closets.appendChild(closet);\n        }\n        var refuse = document.createElement('div');\n        var priorRefCard = priorGame && priorGame.refuse ? priorGame.refuse[priorGame.refuse.length - 1] : null;\n        var currentRefCard = currentGame.refuse[currentGame.refuse.length - 1];\n        var shouldAnimate = currentRefCard && priorRefCard && (currentRefCard.id !== priorRefCard.id || currentRefCard.folded !== priorRefCard.folded || currentGame.refuse.length !== priorGame.refuse.length);\n        refuse.className = 'refuse-pile len' + (currentGame.refuse.length < 25 ? currentGame.refuse.length : ' all') + (shouldAnimate ? ' accordion' : '');\n        refuse.id = 'refuse';\n        for (var r = 0; r < currentGame.refuse.length; r++) {\n            refuse.appendChild(renderCard(currentGame.refuse[r], (shouldAnimate && r === currentGame.refuse.length - 1 ? ' slide' : null)));\n        }\n        board.appendChild(refuse);\n        board.appendChild(closets);\n        var stacks = document.createElement('div');\n        stacks.className = 'stacks';\n        board.appendChild(stacks);\n\n        var sn = 0;\n        for (var st in currentGame.stacks) {\n            sn++;\n            var stack = document.createElement('div');\n            var childStackCards = currentGame.stacks[st];\n            var priorStack = priorGame && priorGame.stacks ? priorGame.stacks[st] : null;\n\n            var growAnimation = '';\n            if (priorStack && priorStack.length > childStackCards.length) {\n                growAnimation = ' contract';\n            } else if (priorStack && priorStack.length < childStackCards.length) {\n                growAnimation = ' expand';\n            }\n\n            stack.id = 'stack' + sn;\n            stack.className = 'stack len' + childStackCards.length + (childStackCards.length ? '' : ' a') + growAnimation;\n\n            for (var f = 0; f < childStackCards.length; f++) {\n                var animate = null;\n                if (priorStack && f == childStackCards.length - 1 && !childStackCards[f].folded && priorStack[f] && priorStack[f].folded) {\n                    animate = ' flipover'\n                }\n                stack.appendChild(renderCard(childStackCards[f], animate));\n            }\n            board.appendChild(stack);\n        }\n\n        outerBoard.appendChild(board);\n\n        var screenW = window.outerWidth;\n        var screenH = window.outerHeight;\n        var isDesktop = window.navigator.appVersion.indexOf('Phone') === -1 && window.navigator.appVersion.indexOf('Mobile') === -1;\n\n        var ratio = screenW > screenH ? '690' : '530';\n        var ratioClass = screenW > screenH ? ' landscape' : ' portrait';\n        var browserColor = getCookie('color') === 'dark' ? '000000' : 'ffffff';\n        outerBoard.className = outerBoard.className + ratioClass + (isDesktop ? ' desktop' : ' mobile');\n        document.getElementById('metaColor').setAttribute(\"content\", \"#\" + browserColor);\n        document.getElementById('metaWidth').setAttribute(\"content\", \"width=\" + ratio + \",user-scalable=no\");\n        document.body.appendChild(outerBoard);\n\n        document.title = hasStarted && currentGame.steps > 0 ? currentGame.steps + ' - Solitaire' : 'Solitaire';\n    }\n\n    function clearBoard(cards) {\n        var delay = 0;\n        var finishingInterval = setInterval(wipeBoard, 200);\n\n        function wipeBoard() {\n            if (delay >= (cards - 1)) {\n                clearInterval(finishingInterval);\n                document.getElementById(\"gameboard\").innerHTML = '<div class=\"won\"><h1>You won!</h1><button id=\"startnew\">Start new game</button></div>';\n            } else {\n                for (var clos in currentGame.closets) {\n                    var lastCloseted = currentGame.closets[clos].length ? currentGame.closets[clos][currentGame.closets[clos].length - 1] : {'s': clos, 'n': 0};\n                    for (var stac in currentGame.stacks) {\n                        var lastStacked = currentGame.stacks[stac][currentGame.stacks[stac].length - 1];\n                        var lastRefused = currentGame.refuse[currentGame.refuse.length - 1];\n                        if (lastStacked && lastStacked.s == lastCloseted.s && lastStacked.n === lastCloseted.n + 1) {\n                            currentGame.stacks[stac].pop();\n                            currentGame.closets[clos].push(lastStacked);\n                            delay++;\n                            break;\n                        } else if (lastRefused && lastRefused.s == lastCloseted.s && lastRefused.n === lastCloseted.n + 1) {\n                           currentGame.refuse.pop();\n                           currentGame.closets[clos].push(lastRefused);\n                           delay++;\n                           break;\n                        }\n                    }\n                }\n                historyPush();\n            };\n        }\n    }\n\n    renderStartBoard()\n})();\n\n</script>\n</html>\n\n    ");
    }
    else if (req.url == "/sudoku") {
        res.write("\n    <html>\n<head>\n    <!-- Copyright (c) Microsoft Corporation. All Rights Reserved. -->\n<title>HTML5 Sudoku</title>        \n    <meta http-equiv=\"Content-Language\" content=\"en-us\" />\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"application-name\" content=\"HTML5 Sudoku\" />\n    <meta name=\"msapplication-tooltip\" content=\"Play Sudoku on IE TestDrive\" />\n    <meta name=\"msapplication-starturl\" content=\"https://internetexplorer.github.io/Sudoku/\" />\n    <meta name=\"msapplication-navbutton-color\" content=\"#C40502\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <style>\n        html,body\n{\nwidth: 100%;\nheight: 100%;\nborder: 0px;\noverflow: auto;\n}\n\nbody\n{\nmargin: 0px;\npadding: 0px;\nbackground: #E10A04 url('https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/backgroundx.png') repeat-x;\nfont-family: Arial;\ncolor: #FFAEAE;\nfont-size: 12px;\n}\n\nbody,table,tr,td,div\n{\nmargin: 0px;\npadding: 0px;\nborder: 0px;\n}\n\nb\n{\ncolor: #FFFFFF;\nfont-weight: bold;\n}\n\n#Wrapper\n{\nbackground: url('https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/background.png') no-repeat top center;\nmin-height: 720px;\n}\n\n\n\n#Main,#Content,#Footer\n{\nwidth: 980px;\nmargin: 0 auto;\n}\n\n#PageTitle\n{\nfont-family: Segoe UI, Arial;\nfont-weight: normal;\ncolor: #FFFFFF;\nfont-size: 33px;\n}\n\na\n{\ncolor: #FFAEAE;\ntext-decoration: none;\n}\n\na:hover\n{\ncolor: #FFFFFF;\ntext-decoration: none;\n}\n\n#Content\n{\nfloat: left;\n}\n\n#Column1\n{\nwidth: 300px;\nfloat: left;\n}\n\n#sudokuBoard\n{\nwidth: 426px;\nmargin-left: 40px;\nfloat: left;\nbox-shadow: 0px 0px 30px #680301;\n-moz-box-shadow: 0px 0px 30px #680301;\n-webkit-box-shadow: 0 0 30px #680301;\n}\n\n#Column2\n{\nwidth: 174px;\nmargin-left: 40px;\nfloat: left;\n}\n\n#Footer\n{\nmargin-top: 600px;\ncolor: #910502;\n}\n\n#FooterDetails\n{\nfloat: left;\nfont-size: 11px;\n}\n\n#Copyright\n{\nfloat: right;\nfont-size: 10px;\n}\n\ntd.boardCellGroupA,td.boardCellGroupB\n{\nbackground-color: #940302;\n}\n\ntd.boardCellGroupA td.boardCell\n{\nwidth: 44px;\nheight: 44px;\nborder: 1px solid #EC0904;\nbackground-color: #DA0603;\n}\n\ntd.boardCellGroupB td.boardCell\n{\nwidth: 44px;\nheight: 44px;\nborder: 1px solid #D40703;\nbackground-color: #C40502;\n}\n\n.staticValue\n{\nfont-family: Segoe UI, Arial;\ntext-align: center;\nvertical-align: middle;\nfont-size: 30px;\ncolor: #6C0000;\n}\n\n.staticValue,.editValue\n{\nwidth: 42px;\nheight: 42px;\npadding: 0px;\nmargin: 0px;\nborder: 1px solid #DA0603;\n}\n\n.editValue:hover\n{\nbackground: #940302;\n}\n\nlabel\n{\nposition: relative;\ntop: 3px;\nline-height: 24px;\nfont-size: 15px;\ncolor: #FFFFFF;\n}\n\nselect\n{\nfont-family: Arial;\ncolor: #999999;\nfont-weight: normal;\nfont-size: 12px;\nborder-top: solid 1px #CCCCCC;\nborder-left: solid 1px #E2E3EA;\nborder-bottom: solid 1px #FFFFFF;\nborder-right: solid 1px #E2E3EA;\nmargin: 3px 0px;\nmin-width: 100px;\nbackground: #FDFDFD;\n}\n\n#timeFinished\n{\nfont-family: Segoe UI, Arial;\nfont-size: 46px;\nfont-weight: bold;\nline-height: 40px;\n}\n\n.finishedLabel,#timeFinished\n{\ncolor: #FBF2A8;\n}\n\n.editValue input\n{\nfont-family: Segoe UI, Arial;\nfont-size: 30px;\ncolor: #FFFFFF;\nwidth: 44px;\n/*height: 44px;*/\npadding: 0px;\nborder: 0px;\nbackground: none !important;\ntext-align: center;\nvertical-align: middle;\nposition: relative;\nleft: -1px;\n}\n\ninput[type=\"submit\"]\n{\nfont-family: Arial;\nfont-size: 18px;\ncolor: #FFFFFF;\ntext-transform: uppercase;\nborder: 0px;\nmin-width: 162px;\nmin-height: 34px;\nbackground: url('https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/submitBackground.png') repeat-x;\nmargin: 8px 0px;\ncursor: pointer;\n}\n\ninput[type=\"submit\"].gameControls\n{\nfont-family: Arial;\nfont-size: 16px;\ncolor: #FFFFFF;\ntext-transform: uppercase;\nborder: 0px;\nmin-width: 28px;\nmin-height: 28px;\nbackground: url('https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/submitSmallBackground.png') repeat-x;\nmargin: 8px 0px;\npadding: 2px 16px;\ncursor: pointer;\n}\n\n.gameControlSet\n{\nheight: 142px;\nposition: relative;\ntop: -8px;\n}\n\n#buttonSolve\n{\nmargin-top: 119px;\ncolor: #FFAEAE;\n}\n\n#youWon\n{\nwidth: 100%;\nheight: 100%;\nposition: absolute;\ntop: 0px;\nright: 0px;\nbackground: url('https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/shade.png') repeat;\n}\n\n#youWon div\n{\nwidth: 400px;\nbackground: #940302;\nfont-size: 40px;\ncolor: #FFFFFF;\ntext-align: center;\npadding: 40px;\nmargin: 100px auto 0px auto;\n}\n\nsmall\n{\nfont-size: 14px;\ncolor: #FFFD7B;\n}\n\n.noErrors\n{\nfont-size: 18px;\nfont-weight: bold;\ncolor: #FFFFFF;\n}\n\n.errorsFound\n{\nfont-size: 18px;\nfont-weight: bold;\ncolor: #ED823F;\n}\n\n.error\n{\nborder: 1px solid #ED823F;\n}\n    </style>\n<link rel=\"shortcut icon\" href=\"https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/icon.ico\" type=\"image/x-icon\" />\n</head>\n<body>\n    <div id=\"Wrapper\">\n        <div id=\"Main\">\n            <h1 id=\"PageTitle\">HTML5 Sudoku</h1>\n            <div id=\"Content\">\n                <div id=\"Column1\">\n                    <span role=\"tab\" aria-selected=\"true\" aria-controls=\"demoIntro\" tabindex=\"100\">In this demo we take the well-known game of Sudoku, and demonstrate how developers can use HTML5 and JavaScript to create an efficient algorithm to solve these puzzles. The algorithms draw heavily on the Chakra engine\u2019s support for ECMAScript 5 standard array operations to rapidly solve many Sudoku games. You can also manually solve Sudoku puzzles.</span>\n                    <br/>\n                    <br/>\n                    <br/>\n                    <label># of Games:</label>&nbsp;&nbsp;\n                        <select id=\"difficulty\">\n                            <option value=\"1\">1000</option>\n                            <option value=\"2\" selected>5000</option>\n                            <option value=\"3\">10000</option>\n                        </select>\n                    <input id=\"amazeButton\" type=\"submit\" value=\"SOLVE GAMES\" />\n                    <br/>\n                    <br/>\n                    <div id=\"calculating\" style=\"display: none;\">\n                        <img src=\"https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/iconTime.png\" alt=\"Calculating Clock\" /><span class=\"finishedLabel\">Solving puzzles...</span>\n                    </div>\n                    <div role=\"tab\" aria-selected=\"true\" aria-controls=\"perfResults\" tabindex=\"200\" id=\"finishedCalculating\" style=\"display: none;\">\n                        <img src=\"https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/sudoku/images/iconTime.png\" alt=\"Calculating Clock\" /><span class=\"finishedLabel\">Finished In:</span>\n                        <br/>\n                        <span id=\"timeFinished\"></span>\n                    </div>\n                </div>\n                <div id=\"sudokuBoard\">\n                    <table cellspacing=\"0\" cellpadding=\"0\">\n                        <tr>\n                            <td class=\"boardCellGroupA\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"00\" class=\"staticValue\">\n                                                <span>6</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"01\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"02\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"10\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"11\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"12\" class=\"staticValue\">\n                                                <span>4</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"20\" class=\"staticValue\">\n                                                <span>2</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"21\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"22\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupB\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"03\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"04\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"05\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"13\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"14\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"15\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"23\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"24\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"25\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupA\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"06\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"07\" class=\"staticValue\">\n                                                <span>2</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"08\" class=\"staticValue\">\n                                                <span>4</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"16\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"17\" class=\"staticValue\">\n                                                <span>3</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"18\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"26\" class=\"staticValue\">\n                                                <span>1</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"27\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"28\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class=\"boardCellGroupB\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"30\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"31\" class=\"staticValue\">\n                                                <span>6</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"32\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"40\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"41\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"42\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"50\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"51\" class=\"staticValue\">\n                                                <span>5</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"52\" class=\"staticValue\">\n                                                <span>1</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupA\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"33\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"34\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"35\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"43\" class=\"staticValue\">\n                                                <span>1</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"44\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"45\" class=\"staticValue\">\n                                                <span>4</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"53\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"54\" class=\"staticValue\">\n                                                <span>2</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"55\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupB\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"36\" class=\"staticValue\">\n                                                <span>3</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"37\" class=\"staticValue\">\n                                                <span>5</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"38\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"46\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"47\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"48\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"56\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"57\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"58\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class=\"boardCellGroupA\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"60\" class=\"staticValue\">\n                                                <span>5</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"61\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"62\" class=\"staticValue\">\n                                                <span>6</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"70\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"71\" class=\"staticValue\">\n                                                <span>2</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"72\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"80\" class=\"staticValue\">\n                                                <span>7</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"81\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"82\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupB\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"63\" class=\"editValue error\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"64\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"65\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"73\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"74\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"75\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"83\" class=\"staticValue\">\n                                                <span>5</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"84\" class=\"staticValue\">\n                                                <span>1</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"85\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                            <td class=\"boardCellGroupA\">\n                                <table cellspacing=\"1\" cellpadding=\"0\">\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"66\" class=\"staticValue\">\n                                                <span>9</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"67\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"68\" class=\"staticValue\">\n                                                <span>8</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"76\" class=\"staticValue\">\n                                                <span>5</span>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"77\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"78\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"boardCell\">\n                                            <div id=\"86\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"87\" class=\"editValue\">\n                                                <input/>\n                                            </div>\n                                        </td>\n                                        <td class=\"boardCell\">\n                                            <div id=\"88\" class=\"staticValue\">\n                                                <span>6</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <div id=\"Column2\">\n                    <div class=\"gameControlSet\">\n                        <input id=\"newGameButton\" type=\"submit\" value=\"NEW GAME\" class=\"gameControls\"/>\n                        <br/>\n                        <label>\n                            Level:\n                        </label>&nbsp;&nbsp;\n                        <select id=\"difficulty\">\n                            <option value=\"1\" selected>Easy</option>\n                            <option value=\"2\">Medium</option>\n                            <option value=\"3\">Hard</option>\n                            <option value=\"4\">Very Hard</option>\n                            <option value=\"5\">Insane</option>\n                        </select>\n                    </div>\n                    <div class=\"gameControlSet\">\n                        <input id=\"checkButton\" type=\"submit\" value=\"CHECK &#x2713;\" class=\"gameControls\"/>\n                        <br/>\n                        <span id=\"errorsFound\" class=\"errorsFound\" style=\"display: none;\" role=\"tab\" aria-selected=\"true\" aria-controls=\"ErrorsFound\" tabindex=\"300\">MISTAKE FOUND</span>\n                        <span id=\"noErrors\" class=\"noErrors\" style=\"display: none;\" role=\"tab\" aria-selected=\"true\" aria-controls=\"NoErrorsFound\" tabindex=\"400\">LOOKIN GOOD</span>\n                    </div>\n                    <div class=\"gameControlSet\">\n                        <input id=\"solveButton\" type=\"submit\" value=\"SOLVE\" class=\"gameControls\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id=\"youWon\" style=\"display: none;\">\n        <div>\n            <span role=\"alert\" aria-selected=\"true\" aria-controls=\"youWin\" tabindex=\"500\">YOU WIN!</span>\n            <br/>\n            <small role=\"tab\" aria-selected=\"true\" aria-controls=\"youWinText\" tabindex=\"600\">\n                Great job. Can you do it again?\n            </small>\n            <br/>\n            <br/>\n            <input id=\"winNewGameButton\" type=\"submit\" value=\"NEW GAME\" class=\"gameControls\"/>\n            <input id=\"winCloseButton\" type=\"submit\" value=\"CLOSE\" class=\"gameControls\"/>\n        </div>\n    </div>\n    <script>\n        function solveSudoku(inputBoard, stats) {\n\nvar stats = stats || {};\nstats['easy'] = true;\nvar board = JSON.parse(JSON.stringify(inputBoard));\nvar possibilities = [[], [], [], [], [], [], [], [], []];\n\nfor(var i = 0; i < 9; i++) {\nfor(var j = 0; j < 9; j++) {\n  possibilities[i][j] = [false, true, true, true, true, true, true, true, true, true];\n}\n}\n\nvar solved = false;\nvar impossible = false;\nvar mutated = false;\nvar needCheckFreedoms = false;\n\n//TODO: check input is a valid puzzle\n\nvar loopCount = 0;\n\nouterLoop: while(!solved && !impossible) {\nsolved = true;\nmutated = false;\nloopCount++;\n\nvar leastFree = [];\nvar leastRemaining = 9;\n\nfor(var i = 0; i < 9; i++) {\n  for(var j = 0; j < 9; j++) {\n    \n    if(board[i][j] === 0) {\n      \n      solved = false;\n      var currentPos = possibilities[i][j];\n      \n      var zoneRow;\n      var zoneCol;\n      \n      if(loopCount === 1) {\n        zoneRow = getZone(i) * 3;\n        zoneCol = getZone(j) * 3;\n        currentPos[10] = zoneRow;\n        currentPos[11] = zoneCol;\n      } else {\n        zoneRow = currentPos[10];\n        zoneCol = currentPos[11];\n      }\n      \n      var wasMutated =  reducePossibilities(board, i, j, currentPos, zoneRow, zoneCol);\n      \n      if(wasMutated) {\n        mutated = true;\n      }\n      \n      \n      // check if the contraints above left us with only one valid option\n      var remaining = 0;\n      var lastDigit = 0;\n    \n      for(var k = 1; k <= 9; k++) {\n        if(currentPos[k]) {\n          remaining++;\n          lastDigit = k;\n        }\n      }\n    \n      if(remaining === 0) {\n        //console.log(\"no remaining \" + i + \" \" + j);\n        impossible = true;\n        break outerLoop;\n      }\n      else if(remaining === 1) {\n        board[i][j] = lastDigit;\n        mutated = true;\n        continue;\n      }\n\n      if(needCheckFreedoms) {\n        var solution = checkFreedoms(board, i, j, possibilities, zoneRow, zoneCol);\n        \n        if(solution !== 0) {\n          \n          board[i][j] = solution;\n          mutated = true;\n          continue;\n        }\n\n        if(remaining === leastRemaining) {\n          leastFree.push([i,j]);\n        }\n        else if(remaining < leastRemaining) {\n          leastRemaining = remaining;\n          leastFree = [[i,j]];\n        }\n      }\n      \n    }\n  }\n}\n\nif(mutated === false && solved === false) {\n  \n  // time to break out freedom checking\n  if(needCheckFreedoms === false) {\n    needCheckFreedoms = true;\n    stats['medium'] = true;\n    continue;\n  }\n  \n  // we're stuck, time to start guessing\n  return solveByGuessing(board, possibilities, leastFree, stats);\n  \n}\n}\n\nif(impossible) {\n//window.console && console.log(\"board is impossible\");\nreturn null;\n}\nelse {\nreturn board;\n}\n}\n\nfunction getZone(i) {\nif(i < 3) {\nreturn 0;\n}\nelse if(i < 6) {\nreturn 1;\n}\nelse {\nreturn 2;\n}\n}\n\n\nfunction reducePossibilities(board, row, column, currentPos, zoneRow, zoneCol) {\n\nvar mutated = false;\n\n//eliminate items already taken in the column and row\nfor(var k = 0; k < 9; k++) {\nif(currentPos[board[row][k]] || currentPos[board[k][column]]) {\n  mutated = true;\n}\ncurrentPos[board[row][k]] = false;\ncurrentPos[board[k][column]] = false;\n}\n\n//eliminate items already taken in the region\nfor(var x = zoneRow; x <= (zoneRow + 2); x++) {\nfor(var y = zoneCol; y <= (zoneCol + 2); y++) {\n  var zoneDigit = board[x][y];\n  \n  if(currentPos[zoneDigit]) {\n    mutated = true;\n  }\n  \n  currentPos[zoneDigit] = false;\n}\n}\n\nreturn mutated;\n}\n\nfunction checkFreedoms(board, i, j, possibilities, zoneRow, zoneCol) {\n\nvar answer = 0;\nvar currentPos = possibilities[i][j];\n//see if only one square can realize a possibility\n      \nvar uniquePosRow = currentPos.slice(0);\nvar uniquePosCol = currentPos.slice(0);\nvar uniquePosCube = currentPos.slice(0);\n\nfor(var k = 0; k < 9; k++) {\nfor(var l = 1; l <= 9; l++) {\n  if(board[i][k] === 0 && possibilities[i][k][l] && k !== j) {\n    uniquePosRow[l] = false;\n  }\n  if(board[k][j] === 0 && possibilities[k][j][l] && k !== i) {\n    uniquePosCol[l] = false;\n  }\n}\n}\n\nvar remainingRow = 0;\nvar remainingCol = 0;\nvar lastDigitRow = 0;\nvar lastDigitCol = 0;\n\nfor(var k = 1; k <= 9; k++) {\nif(uniquePosRow[k]) {\n  remainingRow++;\n  lastDigitRow = k;\n}\nif(uniquePosCol[k]) {\n  remainingCol++;\n  lastDigitCol = k;\n}\n}\n\nif(remainingRow === 1) {\nanswer = lastDigitRow;\nreturn answer;\n}\n\nif(remainingCol === 1) {\nanswer = lastDigitCol;\nreturn answer;\n}\n\nfor(var x = zoneRow; x <= (zoneRow + 2); x++) {\nfor(var y = zoneCol; y <= (zoneCol + 2); y++) {\n  for(var l = 1; l <= 9; l++) {\n    if(board[x][y] === 0 && possibilities[x][y][l] && (x !== i || y !== j)) {\n      uniquePosCube[l] = false;\n    }\n  }\n}\n}\n\nvar remainingCube = 0;\nvar lastDigitCube = 0;\n\nfor(var k = 1; k <= 9; k++) {\nif(uniquePosCube[k]) {\n  remainingCube++;\n  lastDigitCube = k;\n}\n}\n\nif(remainingCube == 1) {\nanswer = lastDigitCube;\n}\n\nreturn answer;\n\n}\n\nfunction solveByGuessing(board, possibilities, leastFree, stats) {\nif(leastFree.length < 1) {\nreturn null;\n}\n\nif('hard' in stats) {\nstats['vhard'] = true;\n}\nelse {\nstats['hard'] = true;\n}\n\n// choose a space with the least # of possibilities\nvar randIndex = getRandom(leastFree.length);\nvar randSpot = leastFree[randIndex];\n\nvar guesses = [];\nvar currentPos = possibilities[randSpot[0]][randSpot[1]];\n\nfor(var i = 1; i <= 9; i++) {\nif(currentPos[i]) {\n  guesses.push(i);\n}\n}\n\nshuffleArray(guesses);\n\nfor(var i = 0; i < guesses.length; i++) {\nboard[randSpot[0]][randSpot[1]] = guesses[i];\nvar result = solveSudoku(board, stats);\nif(result != null) {\n  return result;\n}\n}\n\n// board is impossible\nreturn null;\n}\n\n\n// returns a random number in the range 0 to limit - 1 inclusive\nfunction getRandom(limit) {\nreturn Math.floor(Math.random() * limit);\n}\n\n// shuffle an array Fisher-Yates style\nfunction shuffleArray(array) {\nvar i = array.length;\n\nif(i !== 0) {\nwhile(--i) {\n  var j = Math.floor(Math.random() * (i + 1));\n  var temp = array[i];\n  array[i] = array[j];\n  array[j] = temp;\n}\n}\n}\n\n// for benchmarking, use a random generator from a seed\n(function() {\n\n// some dummy value to start with\nvar last = 31337;\nvar randomBackup = Math.random;\n\n// Linear Congruential Generator\nvar fakeRandom = function() {\nvar a = 214013;\nvar c = 2531011;\n//2^32\nvar m = 4294967296;\n\nvar next = (a * last + c) % m;\n\nlast = next;\nreturn next / m;\n}\n\nMath.enableFakeRandom = function() {\nMath.random = fakeRandom;\n}\n\nMath.disableFakeRandom = function() {\nMath.random = randomBackup;\n}\n\nMath.fakeRandomSeed = function(seed) {\nlast = seed;\n}\n\n})();\n\n\nfunction generatePuzzle(difficulty) {\n\nif(difficulty !== 1 && difficulty !== 2 && \ndifficulty !== 3 && difficulty !== 4  && \ndifficulty !== 5) {\n  \ndifficulty = 1;\n}\n\nvar solvedPuzzle = solveSudoku(emptyPuzzle);\n\nvar indexes = new Array(81);\n\nfor(var i = 0; i < 81; i++) {\nindexes[i] = i;\n}\n\nshuffleArray(indexes);\n\nvar knownCount = 81;\n\nfor(var i = 0; i < 81; i++) {\n\nif(knownCount <= 25) {\n  break;\n}\n\n//easy check\nif(difficulty == 1 && knownCount <= 35) {\n  break;\n}\n\nvar index = indexes[i];\n\nvar row = Math.floor(index / 9);\nvar col = index % 9;\nvar currentValue = solvedPuzzle[row][col];\nvar state = {};\nsolvedPuzzle[row][col] = 0;\nvar resolvedPuzzle = solveSudoku(solvedPuzzle, state);\n\n// some clarity -- what the solver considers 'medium' is hard for most users\nvar undo = false;\nif(difficulty <= 2 && state.medium) {\n  undo = true;\n} else if(difficulty <= 3 && state.hard) {\n  undo = true;\n} else if(difficulty <= 4 && state.vhard) {\n  undo = true;\n}\n\nif(undo) {\n  solvedPuzzle[row][col] = currentValue;\n}\nelse {\n  knownCount--;\n}\n\n\n}\n\nreturn solvedPuzzle;\n\n}\n\n\nfunction verifySolution(board, onlyFullySolved) {\n\nvar resp = {};\nresp['valid'] = false;\n\nif(board === null) {\nwindow.console && console.log(\"Not a board\");\nresp['invalidBoard'] = \"Board was null\";\nreturn resp;\n}\n\nvar rows = [];\nvar cols = [];\nvar cubes = [ [[], [], []], [[], [], []], [[], [], []]];\nfor(var i = 0; i < 9; i++) {\nrows.push([]);\ncols.push([]);\n}\n\nfor(var i = 0; i < 9; i++) {\nfor(var j = 0; j < 9; j++) {\n  var digit = board[i][j];\n  \n  if(digit === 0) {\n    if(onlyFullySolved) {\n      resp['notFullySolved'] = \"Board still has unknowns\";\n      return resp;\n    } else {\n      continue;\n    }\n  }\n  \n  if(digit in rows[i]) {\n    resp['badRow'] = i;\n    return resp;\n  }\n  else {\n    rows[i][digit] = true;\n  }\n  \n  if(digit in cols[j]) {\n    resp['badCol'] = j;\n    return resp;\n  }\n  else {\n    cols[j][digit] = true;\n  }\n  \n  var cube = cubes[getZone(i)][getZone(j)];\n  \n  if(digit in cube) {\n    resp['badCube'] = [getZone(i) * 3, getZone(j) * 3];\n    return resp;\n  }\n  else {\n    cube[digit] = true;\n  }\n\n}\n}\n\nresp['valid'] = true;\nreturn resp;\n}\n\nvar easyPuzzle = [\n[5, 3, 0, 0, 7, 0, 0, 0, 0],\n[6, 0, 0, 1, 9, 5, 0, 0, 0],\n[0, 9, 8, 0, 0, 0, 0, 6, 0],\n[8, 0, 0, 0, 6, 0, 0, 0, 3],\n[4, 0, 0, 8, 0, 3, 0, 0, 1],\n[7, 0, 0, 0, 2, 0, 0, 0, 6],\n[0, 6, 0, 0, 0, 0, 2, 8, 0],\n[0, 0, 0, 4, 1, 9, 0, 0, 5],\n[0, 0, 0, 0, 8, 0, 0, 7, 9]\n];\n\nvar easyPuzzle2 = [\n[1, 6, 0, 0, 0, 3, 0, 0, 0],\n[2, 0, 0, 7, 0, 6, 0, 1, 4],\n[0, 4, 5, 0, 8, 1, 0, 0, 7],\n[5, 0, 8, 4, 0, 0, 0, 0, 0],\n[0, 0, 4, 3, 0, 8, 9, 0, 0],\n[0, 0, 0, 0, 0, 7, 2, 0, 8],\n[8, 0, 0, 6, 3, 0, 1, 9, 0],\n[6, 3, 0, 1, 0, 5, 0, 0, 2],\n[0, 0, 0, 8, 0, 0, 0, 3, 6]\n];\n\nvar easyPuzzle3 = [\n[8, 1, 0, 0, 2, 9, 0, 0, 0],\n[4, 0, 6, 0, 7, 3, 0, 5, 1],\n[0, 7, 0, 0, 0, 0, 8, 0, 2],\n[0, 0, 4, 5, 0, 0, 0, 0, 6],\n[7, 6, 0, 0, 0, 0, 0, 1, 3],\n[1, 0, 0, 0, 0, 6, 2, 0, 0],\n[2, 0, 7, 0, 0, 0, 0, 8, 0],\n[6, 9, 0, 2, 8, 0, 3, 0, 5],\n[0, 0, 0, 9, 6, 0, 0, 2, 4]\n];\n\nvar solvedPuzzle = [\n[5, 3, 4, 6, 7, 8, 9, 1, 2],\n[6, 7, 2, 1, 9, 5, 3, 4, 8],\n[1, 9, 8, 3, 4, 2, 5, 6, 7],\n[8, 5, 9, 7, 6, 1, 4, 2, 3],\n[4, 2, 6, 8, 5, 3, 7, 9, 1],\n[7, 1, 3, 9, 2, 4, 8, 5, 6],\n[9, 6, 1, 5, 3, 7, 2, 8, 4],\n[2, 8, 7, 4, 1, 9, 6, 3, 5],\n[3, 4, 5, 2, 8, 6, 1, 7, 9]\n];\n\nvar invalidPuzzle = [\n[5, 3, 4, 6, 7, 8, 9, 1, 2],\n[6, 7, 2, 1, 9, 5, 3, 4, 8],\n[1, 9, 8, 3, 4, 2, 5, 6, 7],\n[8, 5, 9, 7, 6, 1, 4, 2, 3],\n[4, 2, 6, 8, 5, 3, 7, 9, 1],\n[7, 1, 3, 9, 2, 4, 8, 5, 6],\n[9, 6, 1, 5, 3, 7, 2, 8, 4],\n[8, 2, 7, 4, 1, 9, 6, 3, 5],\n[3, 4, 5, 2, 8, 6, 1, 7, 9]\n];\n\nvar hardPuzzle = [\n[0, 0, 3, 0, 0, 8, 0, 0, 0],\n[0, 4, 0, 0, 0, 0, 0, 0, 0],\n[0, 8, 0, 3, 5, 0, 9, 0, 0],\n[8, 0, 5, 0, 0, 6, 0, 0, 0],\n[1, 0, 0, 7, 3, 2, 0, 0, 8],\n[0, 0, 0, 8, 0, 0, 3, 0, 1],\n[0, 0, 8, 0, 1, 4, 0, 7, 0],\n[0, 0, 0, 0, 0, 0, 0, 5, 0],\n[0, 0, 0, 9, 0, 0, 2, 0, 0]\n];\n\nvar mediumPuzzle = [\n[0, 8, 3, 7, 0, 0, 0, 9, 0],\n[0, 0, 7, 0, 5, 0, 6, 4, 0],\n[0, 0, 0, 9, 0, 0, 0, 0, 3],\n[0, 0, 0, 1, 0, 0, 0, 0, 7],\n[0, 6, 9, 2, 0, 4, 3, 8, 0],\n[7, 0, 0, 0, 0, 9, 0, 0, 0],\n[9, 0, 0, 0, 0, 3, 0, 0, 0],\n[0, 5, 6, 0, 2, 0, 4, 0, 0],\n[0, 1, 0, 0, 0, 7, 5, 3, 0]\n];\n\nvar emptyPuzzle = [\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 0, 0, 0, 0, 0, 0, 0, 0]\n];\n\nfunction stressTest() {\n\nvar intervalCount = 0;\nvar intervalId = window.setInterval(function() {\nintervalCount++;\nif(intervalCount  > 500) {\n  window.console && console.log(\"finished\");\n  window.clearInterval(intervalId);\n}\nvar newPuzzle = solveSudoku(emptyPuzzle);\nvar resp = verifySolution(newPuzzle);\n\nif(resp['valid'] === false) {\n  window.console && console.log(\"Boo! \" + intervalCount);\n  printBoard(newPuzzle);\n}\n\n}, 1);\n\n}\n\nfunction cellInputHandler(event) {\nif(!this.value.match(/^[1-9]$/)) {\nthis.value = \"\";\n}\n}\n\nfunction renderBoard(board) {\nfor(var i = 0; i < 9; i++) {\nfor(var j = 0; j < 9; j++) {\n  var id = \"\" + i + j;\n  var el = document.getElementById(id);\n  var val = board[i][j];\n  var child;\n  var elClass;\n  \n  if(val === 0) {\n    child = document.createElement(\"input\");\n    child.setAttribute('maxlength', 1);\n    child.addEventListener('keyup', cellInputHandler, false);\n    child.addEventListener('blur', cellInputHandler, false);\n    elClass = \"editValue\";\n  }\n  else {\n    child = document.createElement(\"span\");\n    child.textContent = val;\n    elClass = \"staticValue\"; \n  }\n  \n  el.innerHTML = \"\";\n  el.setAttribute(\"class\", elClass);\n  el.appendChild(child);\n}\n}\n}\n\n// render the board a special way when the algorithm solves it for the user\n// make it look like the user entered it in\nfunction renderSolvedBoard(board) {\nfor(var i = 0; i < 9; i++) {\nfor(var j = 0; j < 9; j++) {\n  var id = \"\" + i + j;\n  var el = document.getElementById(id);\n  var val = board[i][j];\n  var child = el.children[0];\n  if(child.tagName === 'INPUT') {\n    child.value = val;\n  }\n}\n}\n}\n\nfunction getCurrentBoard() {\n\nvar board = new Array(9);\n\nfor(var i = 0; i < 9; i++) {\nfor(var j = 0; j < 9; j++) {\n  if(j === 0) {\n    board[i] = new Array(9);\n  }\n  var id = \"\" + i + j;\n  var el = document.getElementById(id);\n  var child = el.children[0];\n  var value = \"0\";\n  if(child.tagName === 'INPUT') {\n    value = child.value;\n  }\n  else if(child.tagName == 'SPAN') {\n    value = child.textContent;\n  }\n  if(value.match(/^[1-9]$/)) {\n    value = parseInt(value);\n  } else {\n    //TODO: prompt user for invalid chars\n    value = 0;\n  }\n  board[i][j] = value;\n}\n}\n\nreturn board;\n}\n\nfunction printBoard(board) {\nfor(var i = 0; i < 9; i++) {\nvar line = \"\";\nfor(var j = 0; j < 9; j++) {\n  line += \" \" + board[i][j];\n}\nwindow.console && console.log(line);\n}\n}\n\nfunction solveTest(level, after) {\n\nvar easyCount = 2000;\nvar hardCount = 200;\n\nswitch(level) {\ncase 1:\n  easyCount = 475;\n  hardCount = 25;\n  break;\ncase 2:\n  easyCount = 2375;\n  hardCount = 125;\n  break;\ncase 3:\n  easyCount = 4750;\n  hardCount = 250;\n  break;\n}\n\nMath.enableFakeRandom();\nMath.fakeRandomSeed(31337);\n\nrenderBoard(easyPuzzle);\n\nvar timeElapsed = 0;\n\nvar tests = [];\ntests.push(function() {\ntimeElapsed += solveTestHelper(easyPuzzle, easyCount);\n});\ntests.push(function() {\ntimeElapsed += solveTestHelper(easyPuzzle2, easyCount);\n});\ntests.push(function() {\ntimeElapsed += solveTestHelper(mediumPuzzle, hardCount);\n});\ntests.push(function() {\ntimeElapsed += solveTestHelper(hardPuzzle, hardCount);\n});\ntests.push(function() {\nMath.disableFakeRandom();\ndocument.getElementById(\"timeFinished\").textContent = timeElapsed.toFixed(3) + \"s\";\n});\ntests.push(after);\n\nvar current = 0;\n\nvar timeoutFunc = function() {\nif(current < tests.length) {\n  tests[current]();\n  current++;\n  window.setTimeout(timeoutFunc, 300);\n}\n}\n\nwindow.setTimeout(timeoutFunc, 300);\n\n}\n\nfunction solveTestHelper(puzzle, iterations) {\nvar solution = null;\nvar start = new Date();\nfor(var i = 0; i < iterations; i++) {\nsolution = solveSudoku(puzzle);\n}\nvar end = new Date();\nrenderBoard(puzzle);\nrenderSolvedBoard(solution);\nvar timeElapsed = (end.getTime() - start.getTime()) / 1000;\nreturn timeElapsed;\n}\n\nfunction initialize() {\n// hook up buttons\n\nvar currentPuzzle = generatePuzzle();\nrenderBoard(currentPuzzle);\n\nvar amazeButton = document.getElementById('amazeButton');\nvar calculatingDiv = document.getElementById('calculating');\nvar finishedCalculatingDiv = document.getElementById('finishedCalculating');\nvar winBlock = document.getElementById('youWon');\nvar noErrorsSpan = document.getElementById('noErrors');\nvar errorsFoundSpan = document.getElementById('errorsFound');\nvar difficulty = document.getElementById('difficulty');\nvar currentErrors = [];\nvar amazing = false;\n\nvar clearErrors = function() {\n\nerrorsFoundSpan.style.display = 'none';\nnoErrorsSpan.style.display = 'none';\n\nfor(var i = 0; i < currentErrors.length; i++) {\n  currentErrors[i].setAttribute('class', currentErrors[i].getAttribute('class').replace(\" error\", ''))\n}\ncurrentErrors = [];\n}\n\namazeButton.addEventListener('click', function() {\nif(!amazing) {\n  var level = parseInt(difficulty.options[difficulty.selectedIndex].value);\n  amazing = true;\n  clearErrors();\n  finishedCalculatingDiv.style.display = 'none';\n  calculatingDiv.style.display = 'block';\n\n  solveTest(level, function() {\n    finishedCalculatingDiv.style.display = 'block';\n    calculatingDiv.style.display = 'none';\n    amazing = false;\n    currentPuzzle = hardPuzzle;\n  });\n}\n}, false);\n\nvar checkButton = document.getElementById('checkButton');\n\ncheckButton.addEventListener('click', function() {\n\nclearErrors();\n\nvar board = getCurrentBoard();\nvar result = verifySolution(board);\nif(result['valid']) {\n\n  var validMessages = [ \"LOOKIN GOOD\", \"KEEP GOING\", \"AWESOME\", \"EXCELLENT\", \n    \"NICE\", \"SWEET\", \"LOOKS GOOD TO ME\"];\n  \n  if(verifySolution(board, true)['valid']) {\n    winBlock.style.display = 'block';\n  }\n  else {\n    var randIndex = getRandom(validMessages.length);\n    noErrorsSpan.textContent = validMessages[randIndex];\n    noErrorsSpan.style.display = 'block';\n  }\n}\nelse {\n  if('badRow' in result) {\n    var row = result['badRow'];\n    for(var i = 0; i < 9; i++) {\n      var id = \"\" + row + i;\n      var el = document.getElementById(id);\n      el.setAttribute(\"class\", el.getAttribute('class') + \" error\");\n      currentErrors.push(el);\n    }\n  }\n  else if('badCol' in result) {\n    var col = result['badCol'];\n    for(var i = 0; i < 9; i++) {\n      var id = \"\" + i + col;\n      var el = document.getElementById(id);\n      el.setAttribute(\"class\", el.getAttribute('class') + \" error\");\n      currentErrors.push(el);\n    }\n  }\n  else if('badCube' in result) {\n    var cubeRow = result['badCube'][0];\n    var cubeCol = result['badCube'][1];\n    for(var x = cubeRow + 2; x >= cubeRow; x--) {\n      for(var y = cubeCol + 2; y >= cubeCol; y--) {\n        var id = \"\" + x + y;\n        var el = document.getElementById(id);\n        el.setAttribute(\"class\", el.getAttribute('class') + \" error\");\n        currentErrors.push(el);\n      }\n    }\n    \n  }\n  errorsFoundSpan.style.display = 'block';\n}\n\n\n}, false);\n\nvar winCloseButton = document.getElementById('winCloseButton');\n\nwinCloseButton.addEventListener('click', function() {\nwinBlock.style.display = 'none';\n}, false);\n\nvar winNewGameButton = document.getElementById('winNewGameButton');\n\nwinNewGameButton.addEventListener('click', function() {\nclearErrors();\nvar value = parseInt(difficulty.options[difficulty.selectedIndex].value);\ncurrentPuzzle = generatePuzzle(value);\nrenderBoard(currentPuzzle);\nwinBlock.style.display = 'none';\n}, false);\n\nvar newGameButton = document.getElementById('newGameButton');\n\nnewGameButton.addEventListener('click', function() {\nclearErrors();\nvar value = parseInt(difficulty.options[difficulty.selectedIndex].value);\ncurrentPuzzle = generatePuzzle(value);\nrenderBoard(currentPuzzle);\n}, false);\n\nvar solveButton = document.getElementById('solveButton');\n\nsolveButton.addEventListener('click', function() {\nclearErrors();\nrenderSolvedBoard(solveSudoku(currentPuzzle));\n}, false);\n\naddEventListener('mouseup', function(event) {\nif(event.which === 1) {\n  noErrorsSpan.style.display = 'none';\n}\n}, false);\n\n}\n\naddEventListener('DOMContentLoaded', initialize, false);\n    </script>\n</body>\n</html>\n    ");
    }
    else if (req.url == "/puzzles") {
        res.write("\n<!DOCTYPE html>\n<html>\n<head>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js\"></script>\n<title>Picture Puzzle</title>\n<style>\nbody {\n    font-family: 'Segoe UI', Calibri, Arial;\n    margin:0;\n    background-color: lightgreen;\n}\nh2{\n    font-weight:normal;\n    text-align:center;\n}\nh3{\n    font-weight:normal;\n    margin:3px 0px;\n    text-align:center;\n}\n#collage hr{\nborder:none;\nborder-top:2px solid #f5f2f2;\nheight:1px;\n}\n\n#collage #playPanel {\nbackground-color:#c2defc;\npadding:10px 0px;\nmargin: 10px auto;\nmax-width:800px;\nwidth:95%;\n}\n\n#collage #actualImageBox {\ndisplay: inline-block;\nfont-size:0.8em;\nmargin: 10px 10px;\nvertical-align: top;\nwidth:280px;\n}\n\n#collage #stepBox, #collage #timeBox {\ndisplay:inline-block;\nwidth:48%;\n}\n\n#collage #stepBox div {\nbackground-color:#c2defc;\ndisplay:inline-block;\npadding:1px 4px;\nmargin: 0px auto;\nmax-width:800px;\n}\n\n#collage img#actualImage{\nborder:2px solid #a46;\nheight:280px;\nwidth:280px;\n}\n\n#collage #sortable {\nborder:2px solid #a46;\nlist-style-type: none;\ndisplay: inline-block;\nmargin: 10px;\npadding: 0;\nwidth: 400px;\n}\n\n#collage #sortable li {\n    background-size: 400% 400%;\n    border: none;\n    cursor: pointer;\n    margin: 0;\n    padding: 0;\n    float: left;\n    width: 100px;\n    height: 100px;\n}\n\n#collage button  {\nbackground-color:#f5f2f2;\nborder:1px solid #cce;\ndisplay: inline;\nfont-size: 14px;\nheight: auto;\nwidth: auto;\npadding: 3px 8px;\n}\n</style>\n\n<script>\n    var timerFunction;\n\nvar imagePuzzle = {\nstepCount: 0,\nstartTime: new Date().getTime(),\nstartGame: function (images, gridSize) {\n    this.setImage(images, gridSize);\n    $('#playPanel').show();\n    $('#sortable').randomize();\n    this.enableSwapping('#sortable li');\n    this.stepCount = 0;\n    this.startTime = new Date().getTime();\n    this.tick();\n},\ntick: function () {\n    var now = new Date().getTime();\n    var elapsedTime = parseInt((now - imagePuzzle.startTime) / 1000, 10);\n    $('#timerPanel').text(elapsedTime);\n    timerFunction = setTimeout(imagePuzzle.tick, 1000);\n},\nenableSwapping: function (elem) {\n    $(elem).draggable({\n        snap: '#droppable',\n        snapMode: 'outer',\n        revert: \"invalid\",\n        helper: \"clone\"\n    });\n    $(elem).droppable({\n        drop: function (event, ui) {\n            var $dragElem = $(ui.draggable).clone().replaceAll(this);\n            $(this).replaceAll(ui.draggable);\n\n            currentList = $('#sortable > li').map(function (i, el) { return $(el).attr('data-value'); });\n            if (isSorted(currentList))\n                $('#actualImageBox').empty().html($('#gameOver').html());\n            else {\n                var now = new Date().getTime();\n                imagePuzzle.stepCount++;\n                $('.stepCount').text(imagePuzzle.stepCount);\n                $('.timeCount').text(parseInt((now - imagePuzzle.startTime) / 1000, 10));\n            }\n\n            imagePuzzle.enableSwapping(this);\n            imagePuzzle.enableSwapping($dragElem);\n        }\n    });\n},\n\nsetImage: function (images, gridSize) {\n    console.log(gridSize);\n    gridSize = gridSize || 4; // If gridSize is null or not passed, default it as 4.\n    console.log(gridSize);\n    var percentage = 100 / (gridSize - 1);\n    var image = images[Math.floor(Math.random() * images.length)];\n    $('#imgTitle').html(image.title);\n    $('#actualImage').attr('src', image.src);\n    $('#sortable').empty();\n    for (var i = 0; i < gridSize * gridSize; i++) {\n        var xpos = (percentage * (i % gridSize)) + '%';\n        var ypos = (percentage * Math.floor(i / gridSize)) + '%';\n        var li = $('<li class=\"item\" data-value=\"' + (i) + '\"></li>').css({\n            'background-image': 'url(' + image.src + ')',\n            'background-size': (gridSize * 100) + '%',\n            'background-position': xpos + ' ' + ypos,\n            'width': 400 / gridSize,\n            'height': 400 / gridSize\n        });\n        $('#sortable').append(li);\n    }\n    $('#sortable').randomize();\n}\n};\n\nfunction isSorted(arr) {\nfor (var i = 0; i < arr.length - 1; i++) {\n    if (arr[i] != i)\n        return false;\n}\nreturn true;\n}\n$.fn.randomize = function (selector) {\nvar $elems = selector ? $(this).find(selector) : $(this).children(),\n    $parents = $elems.parent();\n\n$parents.each(function () {\n    $(this).children(selector).sort(function () {\n        return Math.round(Math.random()) - 0.5;\n    }).remove().appendTo(this);\n});\nreturn this;\n};\n</script>\n</head>\n<body>\n<div id=\"collage\">\n    <h2>Picture Puzzle</h2>\n    <hr />\n    <div id=\"playPanel\" style=\"padding:5px;display:none;\">\n        <h3 id=\"imgTitle\"></h3> <hr />\n        <div style=\"display:inline-block; margin:auto; width:95%; vertical-align:top;\">\n            <ul id=\"sortable\" class=\"sortable\"></ul>\n            <div id=\"actualImageBox\">\n                <div id=\"stepBox\">\n                    <div>Count:</div><div class=\"stepCount\">0</div>\n                </div>\n                <div id=\"timeBox\">\n                    Time: <span id=\"timerPanel\"></span> seconds\n                </div>\n                <img id=\"actualImage\" />\n                <div>See the picture and solve the puzzle.</div>\n                <p id=\"levelPanel\">\n                    <input type=\"radio\" name=\"level\" id=\"easy\" checked=\"checked\" value=\"3\" /> <label for=\"easy\">Easy</label>\n                    <input type=\"radio\" name=\"level\" id=\"medium\" value=\"4\" /> <label for=\"medium\">Medium</label>\n                    <input type=\"radio\" name=\"level\" id=\"hard\" value=\"5\" /> <label for=\"hard\">Hard</label>\n                    <input type=\"radio\" name=\"level\" id=\"veryhard\" value=\"6\" /> <label for=\"veryhard\">Very Hard</label>\n                </p>\n                <div>\n                    <button id=\"btnRule\" type=\"button\" class=\"btn\" onclick=\"rules();\">Rules</button>\n                    <button id=\"newPhoto\" type=\"button\" class=\"btn\">Next Picture</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id=\"gameOver\" style=\"display:none;\">\n        <div style=\"background-color: #fc9e9e; padding: 5px 10px 20px 10px; text-align: center; \">\n            <h2 style=\"text-align:center\">Game over !!</h2>\n            Congratulations!! <br /> You got the picture ready.\n            <br />\n            Time: <span class=\"stepCount\">0</span> gear.\n            <br />\n            Time spent: <span class=\"timeCount\">0</span> seconds<br />\n            <div>\n                <button type=\"button\" onclick=\"window.location.reload(true);\">Play more</button>\n            </div>\n        </div>\n    </div>\n\n    <script>\n    var images = [\n        { src: 'https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/puzzle/img/neeruti.jpg', title: 'Puzzle_1' },\n        { src: 'https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/puzzle/img/harju_madise.jpg', title: 'Puzzle_2' },\n        { src: 'https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/puzzle/img/rahumae.jpg', title: 'Puzzle_3' },\n        { src: 'https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/puzzle/img/kakumae.jpg', title: 'Puzzle_4' },\n        { src: 'https://raw.githubusercontent.com/sreegithub19/JavaScript-Applications/main/public/puzzle/img/kohila.jpg', title: 'Puzzle_5' }\n    ];\n    \n    $(function () {\n        var gridSize = $('#levelPanel :radio:checked').val();\n        imagePuzzle.startGame(images, gridSize);\n        $('#newPhoto').click(function () {\n            var gridSize = $('#levelPanel :radio:checked').val();\n            imagePuzzle.startGame(images, gridSize);\n        });\n    \n        $('#levelPanel :radio').change(function (e) {\n            var gridSize = $(this).val();\n            imagePuzzle.startGame(images, gridSize);\n        });\n    });\n    function rules() {\n        alert('Rearrange the pieces so that you get a sample image. The steps taken are counted');\n    }\n    </script>\n    </div>\n</body>\n</html>\n");
    }
    else if (req.url == "/tic_tac_toe") {
        res.write("<!doctype html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\"\n              content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n        <title>Tic Tac Toe</title>\n        <style>\n        body {\n          font-family: \"Arial\", sans-serif;\n      }\n      \n      section {\n          text-align: center;\n      }\n      \n      .game--container {\n          display: grid;\n          grid-template-columns: repeat(3, auto);\n          width: 306px;\n          margin: 50px auto;\n      }\n      \n      .cell {\n          font-family: \"Permanent Marker\", cursive;\n          width: 100px;\n          height: 100px;\n          box-shadow: 0 0 0 1px #333333;\n          border: 1px solid #333333;\n          cursor: pointer;\n      \n          line-height: 100px;\n          font-size: 60px;\n      }\n        </style>\n    </head>\n    <body>\n        <section>\n            <h1 class=\"game--title\">Tic Tac Toe</h1>\n            <div class=\"game--container\">\n                <div data-cell-index=\"0\" class=\"cell\"></div>\n                <div data-cell-index=\"1\" class=\"cell\"></div>\n                <div data-cell-index=\"2\" class=\"cell\"></div>\n                <div data-cell-index=\"3\" class=\"cell\"></div>\n                <div data-cell-index=\"4\" class=\"cell\"></div>\n                <div data-cell-index=\"5\" class=\"cell\"></div>\n                <div data-cell-index=\"6\" class=\"cell\"></div>\n                <div data-cell-index=\"7\" class=\"cell\"></div>\n                <div data-cell-index=\"8\" class=\"cell\"></div>\n            </div>\n            <h2 class=\"game--status\"></h2>\n            <button class=\"game--restart\">Restart Game</button>\n        </section>\n    \n        <script>\n        const statusDisplay = document.querySelector('.game--status');\nlet gameActive = true;\nlet currentPlayer = \"X\";\nlet gameState = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\nconst winningMessage = () => `Player ${currentPlayer} has won!`;\nconst drawMessage = () => `Game ended in a draw!`;\nconst currentPlayerTurn = () => `It's ${currentPlayer}'s turn`;\nstatusDisplay.innerHTML = currentPlayerTurn();\nconst winningConditions = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6]\n];\nfunction handleCellPlayed(clickedCell, clickedCellIndex) {\n    gameState[clickedCellIndex] = currentPlayer;\n    clickedCell.innerHTML = currentPlayer;\n}\nfunction handlePlayerChange() {\n    currentPlayer = currentPlayer === \"X\" ? \"O\" : \"X\";\n    statusDisplay.innerHTML = currentPlayerTurn();\n}\nfunction handleResultValidation() {\n    let roundWon = false;\n    for (let i = 0; i <= 7; i++) {\n        const winCondition = winningConditions[i];\n        let a = gameState[winCondition[0]];\n        let b = gameState[winCondition[1]];\n        let c = gameState[winCondition[2]];\n        if (a === '' || b === '' || c === '') {\n            continue;\n        }\n        if (a === b && b === c) {\n            roundWon = true;\n            break\n        }\n    }\n    if (roundWon) {\n        statusDisplay.innerHTML = winningMessage();\n        gameActive = false;\n        return;\n    }\n    let roundDraw = !gameState.includes(\"\");\n    if (roundDraw) {\n        statusDisplay.innerHTML = drawMessage();\n        gameActive = false;\n        return;\n    }\n    handlePlayerChange();\n}\nfunction handleCellClick(clickedCellEvent) {\n    const clickedCell = clickedCellEvent.target;\n    const clickedCellIndex = parseInt(clickedCell.getAttribute('data-cell-index'));\n    if (gameState[clickedCellIndex] !== \"\" || !gameActive) {\n        return;\n    }\n    handleCellPlayed(clickedCell, clickedCellIndex);\n    handleResultValidation();\n}\nfunction handleRestartGame() {\n    gameActive = true;\n    currentPlayer = \"X\";\n    gameState = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    statusDisplay.innerHTML = currentPlayerTurn();\n    document.querySelectorAll('.cell').forEach(cell => cell.innerHTML = \"\");\n}\ndocument.querySelectorAll('.cell').forEach(cell => cell.addEventListener('click', handleCellClick));\ndocument.querySelector('.game--restart').addEventListener('click', handleRestartGame);\n        </script>\n    </body>");
    }
    else if (req.url == "/clock") {
        res.write("\n    \n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>Analogue Clock</title>\n    <style>\n    body{\n        background-color: #000;\n    }\n    \n    #canvas{\n        margin-left: 300px;\n        margin-top: 50px;\n    }\n    </style>\n</head>\n<body>\n    <canvas id=\"canvas\" width=\"600\" height=\"600\"></canvas>\n    <script>\n    //create a canvas object fro HTML element\nvar canvas = document.getElementById('canvas');\n//create a 2d drawing object\nvar ctx = canvas.getContext('2d');\n//calculate the clock radius by using the height\nvar radius = canvas.height / 2;\n//remap the x and y axis to the center of the canvas\nctx.translate(radius, radius);\n//reduce clock radius by 90%\nradius = radius * 0.90;\n\nsetInterval(drawClock, 1000); //run the drawClock function every second.\n\nfunction drawClock(){\n    drawFace(ctx, radius);\n    drawNumbers(ctx, radius);\n    drawTime(ctx, radius);\n}\n\nfunction drawFace(ctx, radius){\n    var grad;\n    //draw white circle for the face\n    ctx.beginPath();\n    ctx.arc(0,0,radius,0,2*Math.PI);\n    ctx.fillStyle = \"White\";\n    ctx.fill();\n    // create a radial gradient (inner, middle, and outer edge of clock)\n    grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05);\n    grad.addColorStop(0, '#333');\n    grad.addColorStop(0.5, 'white');\n    grad.addColorStop(1, '#333');\n    //define gradient as stroke style\n    ctx.strokeStyle = grad;\n    ctx.lineWidth = radius*0.1;\n    ctx.stroke(); \n    //draw the center of the clock\n    ctx.beginPath();\n    ctx.arc(0,0, radius*0.1,0,2*Math.PI);\n    ctx.fillStyle = '#333';\n    ctx.fill();\n}\n\nfunction drawNumbers(ctx, radius) {\n    var ang;\n    var num;\n    ctx.font = radius*0.15 + \"px arial\"; //set font at 15% of radius\n    ctx.textBaseline = \"middle\"; //set text alignment to middle\n    ctx.textAlign = \"center\"; //set text alignment to center\n    for(num=1; num < 13; num++){ //calculate the print position for each number\n        ang = num *Math.PI /6;\n        ctx.rotate(ang);\n        ctx.translate(0, -radius*0.85);\n        ctx.rotate(-ang);\n        ctx.fillText(num.toString(), 0, 0);\n        ctx.rotate(ang);\n        ctx.translate(0, radius*0.85);\n        ctx.rotate(-ang);\n    }\n}\n\nfunction drawTime(ctx, radius){\n    var now = new Date();\n    var hour = now.getHours();\n    var minute = now.getMinutes();\n    var second = now.getSeconds();\n    //hour\n    hour = hour%12;\n    //calculate angle of hour hand\n    hour = (hour*Math.PI/6)+(minute*Math.PI/(6*60))+(second*Math.PI/(360*60));\n    //make hour hand 50% of canvas's radius\n    drawHand(ctx, hour, radius*0.5, radius*0.07);\n    //minute\n    //calculate angle of minute hand\n    minute=(minute*Math.PI/30)+(second*Math.PI/(30*60));\n    //make minute hand 80% of canvas's radius\n    drawHand(ctx, minute, radius*0.8, radius*0.07);\n    //second\n    //calculate angle of second hand\n    second=(second*Math.PI/30);\n    //make second hand 90% of canvas's radius\n    drawHand(ctx, second, radius*0.9, radius*0.02);\n}\n\nfunction drawHand(ctx, pos, length, width){\n    ctx.beginPath();\n    ctx.lineWidth = width;\n    ctx.lineCap = \"round\";\n    ctx.moveTo(0,0);\n    ctx.rotate(pos);\n    ctx.lineTo(0, -length);\n    ctx.stroke();\n    ctx.rotate(-pos);\n}\n    </script>\n</body>\n    ");
    }
    else if (req.url == "/hangman") {
        res.write("\n    <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>Hangman</title>\n    <style>\n    * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\n\nhtml {\n    font-size: 62.5%;\n}\n\nbody {\n    background: #2B292E;\n    color: #fafafa;\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 1.6rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 100vh;\n}\n\nspan {\n    border-bottom: 1px solid #534f59;\n    display: inline-block;\n    font-size: 2rem;\n    height: 2.4rem;\n    line-height: 2.4rem;\n    margin: 0 .1rem;\n    text-align: center;\n    text-transform: uppercase;\n    width: 2.4rem;\n}\n\np {\n    font-weight: 300;\n    margin-bottom: .8rem;\n}\n\n.puzzle {\n    display: flex;\n    margin-bottom: 4.8rem;\n}\n\n.button {\n    background: #7044a0;\n    border: none;\n    border-bottom: 2px solid #603a88;\n    cursor: pointer;\n    color: white;\n    font-size: 1.4rem;\n    font-weight: 300;\n    padding: .8rem;\n    transition: background .3s ease, color .3s ease;\n}\n\n.button:hover {\n    background: #5F3A87;\n}\n    </style>\n</head>\n<body>\n    <div>\n        <div id=\"puzzle\" class=\"puzzle\"></div>\n        <p id=\"guesses\"></p>\n        <button id=\"reset\" class=\"button\">Reset</button>\n    </div>\n    <script>\n    const getPuzzle = async (wordCount) => {\n        const response = await fetch(`https://puzzle.mead.io/puzzle?wordCount=${wordCount}`)\n            if (response.status === 200){\n                const data = await response.json()\n                return data.puzzle\n            } else {\n                throw new Error('Unable to fetch puzzle')\n            }\n    }\n    class Hangman {\n        constructor(word, remainingGuesses){\n            this.word = word.toLowerCase().split('');\n            this.remainingGuesses = remainingGuesses;\n            this.guessedLetters = [];\n            this.status = 'playing';\n        }\n    \n        get puzzle() {\n            let puzzle = '';\n            this.word.forEach((letter) => {\n            if (this.guessedLetters.includes(letter) || letter === ' '){\n                puzzle += letter;\n            } else {\n                puzzle += '*'\n            }\n            })\n            return puzzle;\n        }\n    \n        makeGuess (guess){\n            guess = guess.toLowerCase();\n            const isUnique = !this.guessedLetters.includes(guess);\n            const isBadGuess = !this.word.includes(guess);\n            \n        if (this.status !== 'playing'){\n            return\n        }\n        \n            if (isUnique){\n                this.guessedLetters.push(guess)\n            }\n                \n            if (isUnique && isBadGuess){\n                this.remainingGuesses--\n            }\n            this.calculateStatus();\n        }\n    \n        get statusMessage(){\n            if (this.status === 'playing'){\n                return `Guesses left: ${this.remainingGuesses}`\n            } else if (this.status === 'failed') {\n                return `Nice try! The word was \"${this.word.join('')}\" `\n            } else {\n                return 'Great work! You guessed the word!'\n            }\n        }\n    \n        calculateStatus(){\n            const finished = this.word.every((letter) => this.guessedLetters.includes(letter) || letter === ' ')\n            \n            if (this.remainingGuesses === 0){\n                this.status = 'failed'\n            } else if (finished){\n                this.status = 'finished'\n            } else {\n                this.status = 'playing'\n            }\n        }\n    \n    }\n    \n    let game1\nconst puzzleDIV = document.querySelector('#puzzle');\nconst remainingDIV = document.querySelector('#guesses');\n\nwindow.addEventListener('keypress', (e) => {\n\n    const guess = String.fromCharCode(e.charCode);\n    game1.makeGuess(guess);\n    render()\n})\n\nconst render = () => {\n    puzzleDIV.innerHTML = ''\n    remainingDIV.textContent = game1.statusMessage;\n\n    game1.puzzle.split('').forEach((letter) => {\n        const letterEl = document.createElement('span')\n        letterEl.textContent = letter\n        puzzleDIV.appendChild(letterEl)\n    })\n}\n\nconst startGame = async () => {\n    const puzzle = await getPuzzle('3')\n    game1 = new Hangman(puzzle, 5)\n    render()\n}\n\ndocument.querySelector('#reset').addEventListener('click', startGame)\nstartGame()\n    </script>\n</body>\n</html>\n    ");
    }
    else if (req.url == "/virtual_keyboard") {
        res.write("<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Virtual Keyboard \u2328\uFE0F </title>\n        <style>\n            body * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: Arial, Helvetica, sans-serif;\n    }\n    \n    \n    .keyboard-base{\n        max-width: 1085px;\n        padding: 20px;\n        position: absolute;\n        top: 30%;\n        background-color: rgb(252, 185, 185);\n        border-radius: 10px;\n        justify-content: center;\n    \n    \n    }\n    .section-a{\n        display: flex;\n    }\n    \n    .key {\n        background-color: rgb(243, 243, 243);\n        border: 2px solid black;\n        border-radius: 5px;\n        \n        font-size: 20px;\n        text-align: center;\n        padding-top: 17px;\n        width:50px;\n        height:50px;\n        margin:5px;\n    }\n    \n    .key:hover{\n        background-color: rgb(247, 100, 161);\n    }\n    .space {\n        width: 100%;\n    }\n    \n    .capslock{\n        width:30%;\n    }\n    .leftshift{\n        width:20%;\n    }\n    .return {\n        width:20%;\n        \n    }\n    textarea{\n        width: 30%;\n        height: 70px;\n        font-size: 30px;\n    }\n        </style>\n    </head>\n    <body>\n        <textarea type=\"text\" id=\"inputText\" value=\"\" autofocus onblur=\"this.focus()\" onkeydown=\"return false\" onmouseup=\"getCaretPositon()\"></textarea>\n        \n        <div class=\"keyboard-base\">\n        <div class=\"section-a\">\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">~</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">1</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">2</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">3</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">4</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">5</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">6</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">7</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">8</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">9</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">0</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">-</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">+</div>\n        </div>\n        <div class=\"section-a\">\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">Q</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">W</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">E</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">R</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">T</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">Y</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">U</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">I</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">O</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">P</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">[</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">]</div>\n            <div class=\"key backslash\" onclick=\"keyboardHandler(event)\"></div>\n        </div>\n        <div class=\"section-a\">\n    \n            <div class=\"key capslock\" onclick=\"keyboardHandler(event)\">CapsLock</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">A</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">S</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">D</div>\n            <div class=\"key\"onclick=\"keyboardHandler(event)\">F</div>\n            <div class=\"key\"onclick=\"keyboardHandler(event)\">G</div>\n            <div class=\"key\"onclick=\"keyboardHandler(event)\">H</div>\n            <div class=\"key\"onclick=\"keyboardHandler(event)\">J</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">K</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">L</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">;</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">'</div>\n            <div class=\"key return\" onclick=\"keyboardHandler(event)\">Back</div>\n        </div>\n        <div class=\"section-a\">\n    \n            <div class=\"key leftshift\" onclick=\"keyboardHandler(event)\">Shift</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">Z</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">X</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">C</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">V</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">B</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">N</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">M</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">,</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">.</div>\n            <div class=\"key\" onclick=\"keyboardHandler(event)\">/</div>\n        </div>\n        <div class=\"section-a\">\n            <div class=\"key space\" onclick=\"keyboardHandler(event)\">Space</div>\n            </div>\n        </div>\n    </body>\n    <script>\n        var input = document.getElementById(\"inputText\");\n    let bool = false;\n    \n    const keyboardHandler = (event) => {\n      const caretPositon = getCaretPositon();\n      const targetValue = event.target.innerText;\n      let array = input.value.split(\"\");\n      let a;\n    \n      switch (targetValue) {\n        case \"Back\":\n          console.log(caretPositon);\n          if (caretPositon == 0) {\n            input.setSelectionRange(0, 0);\n          } else {\n            array.splice(caretPositon - 1, 1);\n            a = array.join(\"\");\n            input.value = a;\n            input.setSelectionRange(caretPositon - 1, caretPositon - 1);\n          }\n    \n          break;\n        case \"CapsLock\":\n          toggleCaps();\n          break;\n        case \"Shift\":\n          toggleShift();\n          break;\n        case \"Space\":\n          array.splice(caretPositon, 0, \" \");\n          a = array.join(\"\");\n          input.value = a;\n          input.setSelectionRange(caretPositon + 1, caretPositon + 1);\n    \n          break;\n        default:\n          array.splice(caretPositon, 0, event.target.innerText);\n          a = array.join(\"\");\n          input.value = a;\n          input.setSelectionRange(caretPositon + 1, caretPositon + 1);\n    \n          if (bool) {\n            bool = false;\n            toggleCaps();\n          }\n      }\n    };\n    \n    function getCaretPositon() {\n      return input.selectionStart;\n    }\n    \n    const isUpperCase = (string) => /^[A-Z]*$/.test(string);\n    \n    const toggleCaps = () => {\n      let keyboardKeys = document.getElementsByTagName(\"div\");\n      for (let i = 13; i < keyboardKeys.length; i++) {\n        const innerElText = keyboardKeys[i].innerText;\n        const innerTextLength = innerElText.length;\n    \n        if (innerTextLength == 1 && isUpperCase(innerElText)) {\n          keyboardKeys[i].innerText = innerElText.toLowerCase();\n        } else if (innerTextLength == 1) {\n          keyboardKeys[i].innerText = keyboardKeys[i].innerText.toUpperCase();\n        }\n      }\n    };\n    \n    const toggleShift = () => {\n      toggleCaps();\n      bool = true;\n    };\n    \n    </script>\n    </html>\n    ");
    }
    ;
    res.end();
}).listen(8080);
